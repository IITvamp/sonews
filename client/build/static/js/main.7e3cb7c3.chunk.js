/*! For license information please see main.7e3cb7c3.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n={AUTH:"AUTH",ALERT:"ALERT",THEME:"THEME",STATUS:"STATUS",MODAL:"MODAL",USER_TYPE:"USER_TYPE",SOCKET:"SOCKET"},c=function(e,t,a){return e.map((function(e){return e._id===t?a:e}))},r=function(e,t){return e.filter((function(e){return e._id!==t}))}},,,,,,function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return j}));var n=a(3),c=a.n(n),r=a(8),s=a(70),o=a.n(s),i=a(48),l=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(i.b,"/api/").concat(t)),e.next=3,o.a.get("".concat(i.b,"/api/").concat(t),{headers:{Authorization:a}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("post 1",a,n),e.next=3,o.a.post("".concat(i.b,"/api/").concat(t),a,{headers:{Authorization:n}});case 3:return r=e.sent,console.log("post api called",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("".concat(i.b,"/api/").concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat(i.b,"/api/").concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"f",(function(){return p})),a.d(t,"m",(function(){return m})),a.d(t,"g",(function(){return O})),a.d(t,"k",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"j",(function(){return x})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"h",(function(){return y})),a.d(t,"i",(function(){return _})),a.d(t,"l",(function(){return N}));var n=a(11),c=a(3),r=a.n(c),s=a(2),o=a(8),i=a(4),l=a(10),u=a(45),d=a(14),j={CREATE_POST:"CREATE_POST",LOADING_POST:"LOADING_POST",GET_POSTS:"GET_POSTS",UPDATE_POST:"UPDATE_POST",GET_POST:"GET_POST",DELETE_POST:"DELETE_POST",REPORT_POST:"REPORT_POST",SAVE_POST:"SAVE_POST"},b=function(e){var t=e.content,a=e.images,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var b,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=[],e.prev=1,o({type:i.c.ALERT,payload:{loading:!0}}),!(a.length>0)){e.next=7;break}return e.next=6,Object(u.b)(a);case 6:b=e.sent;case 7:return e.next=9,Object(l.d)("posts",{content:t,images:b},n.token);case 9:p=e.sent,o({type:j.CREATE_POST,payload:Object(s.a)(Object(s.a)({},p.data.newPost),{},{user:n.user})}),o({type:i.c.ALERT,payload:{loading:!1}}),m={id:p.data.newPost._id,text:"Added a new post.",recipients:p.data.newPost.user.followers,url:"/post/".concat(p.data.newPost._id),content:t,image:b[0].url},o(Object(d.b)({msg:m,auth:n,socket:c})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,a({type:j.LOADING_POST,payload:!0}),t.next=5,Object(l.b)("posts",e);case 5:n=t.sent,console.log(n),a({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},n.data),{},{page:2})}),a({type:j.LOADING_POST,payload:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:i.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){var t=e.content,a=e.images,c=e.auth,s=e.status;return function(){var e=Object(o.a)(r.a.mark((function e(o){var d,b,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=[],b=a.filter((function(e){return!e.url})),p=a.filter((function(e){return e.url})),s.content!==t||0!==b.length||p.length!==s.images.length){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,o({type:i.c.ALERT,payload:{loading:!0}}),!(b.length>0)){e.next=11;break}return e.next=10,Object(u.b)(b);case 10:d=e.sent;case 11:return e.next=13,Object(l.c)("post/".concat(s._id),{content:t,images:[].concat(Object(n.a)(p),Object(n.a)(d))},c.token);case 13:m=e.sent,o({type:j.UPDATE_POST,payload:m.data.newPost}),o({type:i.c.ALERT,payload:{success:m.data.msg}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.post,a=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Object(s.a)(Object(s.a)({},t),{},{likes:[].concat(Object(n.a)(t.likes),[a.user]),dislikes:t.dislikes.filter((function(e){return e._id!==a.user._id}))}),o({type:j.UPDATE_POST,payload:u}),c.emit("likePost",u),c.emit("disLikePost",u),e.prev=4,e.next=7,Object(l.c)("post/".concat(t._id,"/like"),null,a.token);case 7:b={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id),content:t.content,image:t.images[0].url},o(Object(d.b)({msg:b,auth:a,socket:c})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter((function(e){return e._id!==a.user._id}))}),c({type:j.UPDATE_POST,payload:o}),n.emit("unLikePost",o),e.prev=3,e.next=6,Object(l.c)("post/".concat(t._id,"/unlike"),null,a.token);case 6:u={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id)},c(Object(d.f)({msg:u,auth:a,socket:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.post,a=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.user),u=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter((function(e){return e._id!==a.user._id})),dislikes:[].concat(Object(n.a)(t.dislikes),[a.user])}),o({type:j.UPDATE_POST,payload:u}),c.emit("disLikePost",u),c.emit("unLikePost",u),e.prev=5,e.next=8,Object(l.c)("post/".concat(t._id,"/dislike"),null,a.token);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},t),{},{dislikes:t.dislikes.filter((function(e){return e._id!==a.user._id}))}),c({type:j.UPDATE_POST,payload:o}),n.emit("disLikePost",o),e.prev=3,e.next=6,Object(l.c)("post/".concat(t._id,"/undislike"),null,a.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.detailPost,a=e.id,n=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.every((function(e){return e._id!==a}))){e.next=11;break}return e.prev=1,e.next=4,Object(l.b)("post/".concat(a),n.token);case 4:s=e.sent,c({type:j.GET_POST,payload:s.data.post}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:j.DELETE_POST,payload:t}),e.prev=1,e.next=4,Object(l.a)("post/".concat(t._id),a.token);case 4:s=e.sent,o={id:t._id,text:"Added a new post.",recipients:s.data.newPost.user.followers,url:"/post/".concat(t._id)},c(Object(d.f)({msg:o,auth:a,socket:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=t.reports.find((function(e){return e===a.user._id})))&&c.length>0)){e.next=3;break}return e.abrupt("return",n({type:i.c.ALERT,payload:{error:"You have already reported this post."}}));case 3:return(o=Object(s.a)({},t)).reports.push(a.user._id),n({type:j.REPORT_POST,payload:o}),e.prev=6,e.next=9,Object(l.c)("post/".concat(t._id,"/report"),null,a.token);case 9:u=e.sent,n({type:i.c.ALERT,payload:{success:u.data.msg}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},a.user),{},{saved:[].concat(Object(n.a)(a.user.saved),[t._id])}),c({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:o})}),e.prev=2,e.next=5,Object(l.c)("savePost/".concat(t._id),null,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(s.a)(Object(s.a)({},a.user),{},{saved:a.user.saved.filter((function(e){return e!==t._id}))}),n({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:c})}),e.prev=2,e.next=5,Object(l.c)("unSavePost/".concat(t._id),null,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return p}));var n=a(3),c=a.n(n),r=a(2),s=a(8),o=a(4),i=a(10),l={GET_NOTIFIES:"GET_NOTIFIES",CREATE_NOTIFY:"CREATE_NOTIFY",REMOVE_NOTIFY:"REMOVE_NOTIFY",UPDATE_NOTIFY:"UPDATE_NOTIFY",UPDATE_SOUND:"UPDATE_SOUND",DELETE_ALL_NOTIFICATIONS:"DELETE_ALL_NOTIFICATIONS"},u=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(s){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.d)("notify",t,a.token);case 3:l=e.sent,n.emit("createNotify",Object(r.a)(Object(r.a)({},l.data.notify),{},{user:{username:a.user.username,avatar:a.user.avatar}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)("notify/".concat(t.id,"?url=").concat(t.url),a.token);case 3:n.emit("removeNotify",t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.b)("notifies",e);case 3:n=t.sent,a({type:l.GET_NOTIFIES,payload:n.data.notifies}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){var t=e.msg,a=e.auth;return function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:l.UPDATE_NOTIFY,payload:Object(r.a)(Object(r.a)({},t),{},{isRead:!0})}),e.prev=1,e.next=4,Object(i.c)("isReadNotify/".concat(t._id),null,a.token);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),n({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:l.DELETE_ALL_NOTIFICATIONS,payload:[]}),t.prev=1,t.next=4,Object(i.a)("deleteAllNotify",e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}},,,function(e,t,a){"use strict";t.a=a.p+"static/media/loading.10625dac.gif"},,function(e,t,a){"use strict";a(1);var n=a(6),c=a(0);t.a=function(e){var t=e.src,a=e.size,r=Object(n.c)((function(e){return e})).theme;return Object(c.jsx)("img",{src:t,alt:"Avatar",className:a,style:{filter:"".concat(r?"invert(1)":"invert(0)")}})}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"i",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"h",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return O})),a.d(t,"d",(function(){return f}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i=a(14),l={GET_TOTAL_USERS:"GET_TOTAL_USERS",GET_TOTAL_POSTS:"GET_TOTAL_POSTS",GET_TOTAL_COMMENTS:"GET_TOTAL_COMMENTS",GET_TOTAL_LIKES:"GET_TOTAL_LIKES",GET_TOTAL_SPAM_POSTS:"GET_TOTAL_SPAM_POSTS",GET_TOTAL_ACTIVE_USERS:"GET_TOTAL_ACTIVE_USERS",GET_SPAM_POSTS:"GET_SPAM_POSTS",LOADING_ADMIN:"LOADING_ADMIN",DELETE_POST:"DELETE_POST"},u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_users",e);case 4:n=t.sent,a({type:l.GET_TOTAL_USERS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_posts",e);case 4:n=t.sent,a({type:l.GET_TOTAL_POSTS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_comments",e);case 4:n=t.sent,a({type:l.GET_TOTAL_COMMENTS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_likes",e);case 4:n=t.sent,a({type:l.GET_TOTAL_LIKES,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_spam_posts",e);case 4:n=t.sent,a({type:l.GET_TOTAL_SPAM_POSTS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_spam_posts",e);case 4:n=t.sent,a({type:l.GET_SPAM_POSTS,payload:n.data.spamPosts}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(r){var u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:l.DELETE_POST,payload:t}),e.prev=1,e.next=4,Object(o.a)("delete_spam_posts/".concat(t._id),a.token);case 4:u=e.sent,r({type:s.c.ALERT,payload:{success:u.data.msg}}),d={id:a.user._id,text:"Your Post is deleted due to too many reports.",recipients:[t.user._id],url:"/profile/".concat(t.user._id)},r(Object(i.b)({msg:d,auth:a,socket:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.auth,a=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.emit("getActiveUsers",t.user._id)}catch(c){n({type:s.c.ALERT,payload:{error:c.response.data.msg}})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return O}));var n=a(11),c=a(3),r=a.n(c),s=a(2),o=a(8),i=a(4),l=a(10),u=a(45),d=a(14),j={LOADING:"LOADING_PROFILE",GET_USER:"GET_PROFILE_USER",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",GET_ID:"GET_PROFILE_ID",GET_POSTS:"GET_PROFILE_POSTS",UPDATE_POST:"UPDATE_PROFILE_POSTS"},b=function(e){var t=e.id,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:j.GET_ID,payload:t}),e.prev=1,n({type:j.LOADING,payload:!0}),c=Object(l.b)("/user/".concat(t),a.token),o=Object(l.b)("/user_posts/".concat(t),a.token),e.next=7,c;case 7:return u=e.sent,e.next=10,o;case 10:d=e.sent,n({type:j.GET_USER,payload:u.data}),n({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},d.data),{},{_id:t,page:2})}),n({type:j.LOADING,payload:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.userData,a=e.avatar,n=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fullname){e.next=2;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Please enter full name."}}));case 2:if(!(t.fullname.length>25)){e.next=4;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Full name is too long."}}));case 4:if(!(t.story.length>200)){e.next=6;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Story is too long."}}));case 6:if(e.prev=6,c({type:i.c.ALERT,payload:{loading:!0}}),!a){e.next=12;break}return e.next=11,Object(u.b)([a]);case 11:o=e.sent;case 12:return e.next=14,Object(l.c)("user",Object(s.a)(Object(s.a)({},t),{},{avatar:a?o[0].url:n.user.avatar}),n.token);case 14:d=e.sent,c({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)(Object(s.a)({},n.user),t),{},{avatar:a?o[0].url:n.user.avatar})})}),c({type:i.c.ALERT,payload:{success:d.data.msg}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.users,a=e.user,c=e.auth,u=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var b,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==a._id}))?b=Object(s.a)(Object(s.a)({},a),{},{followers:[].concat(Object(n.a)(a.followers),[c.user])}):t.forEach((function(e){e._id===a._id&&(b=Object(s.a)(Object(s.a)({},e),{},{followers:[].concat(Object(n.a)(e.followers),[c.user])}))})),o({type:j.FOLLOW,payload:b}),o({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},c),{},{user:Object(s.a)(Object(s.a)({},c.user),{},{following:[].concat(Object(n.a)(c.user.following),[b])})})}),e.prev=3,e.next=6,Object(l.c)("/user/".concat(a._id,"/follow"),null,c.token);case 6:p=e.sent,u.emit("follow",p.data.newUser),m={id:c.user._id,text:"started following you",recipients:[b._id],url:"/profile/".concat(c.user._id)},o(Object(d.b)({msg:m,auth:c,socket:u})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.users,a=e.user,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var u,b,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==a._id}))?u=Object(s.a)(Object(s.a)({},a),{},{followers:Object(i.a)(a.followers,n.user._id)}):t.forEach((function(e){e._id===a._id&&(u=Object(s.a)(Object(s.a)({},e),{},{followers:Object(i.a)(e.followers,n.user._id)}))})),o({type:j.UNFOLLOW,payload:u}),o({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)({},n.user),{},{following:Object(i.a)(n.user.following,u._id)})})}),e.prev=3,e.next=6,Object(l.c)("/user/".concat(a._id,"/unfollow"),null,n.token);case 6:b=e.sent,c.emit("unFollow",b.data.newUser),p={id:n.user._id,text:"started following you",recipients:[u._id],url:"/profile/".concat(n.user._id)},o(Object(d.f)({msg:p,auth:n,socket:c})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));var n=a(0),c=function(e,t){return Object(n.jsx)("img",{src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})},r=function(e,t){return Object(n.jsx)("video",{controls:!0,src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return b}));var n=a(3),c=a.n(n),r=a(2),s=a(8),o=a(4),i=a(10),l={ADD_USER:"ADD_USER",ADD_MESSAGE:"ADD_MESSAGE",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_MESSAGES:"GET_MESSAGES"},u=function(e){var t=e.user,a=e.message;return function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.users.every((function(e){return e._id!==t._id}))&&n({type:l.ADD_USER,payload:Object(r.a)(Object(r.a)({},t),{},{text:"",media:[]})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:l.ADD_MESSAGE,payload:t}),n.emit("addMessage",t),e.prev=2,e.next=5,Object(i.d)("message",t,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.auth,a=e.page,n=void 0===a?1:a;return function(){var e=Object(s.a)(c.a.mark((function e(a){var s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)("conversations?limit=".concat(9*n),t.token);case 3:s=e.sent,u=[],s.data.conversations.forEach((function(e){e.recipients.forEach((function(a){a._id!==t.user._id&&u.push(Object(r.a)(Object(r.a)({},a),{},{text:e.text,media:e.media}))}))})),a({type:l.GET_CONVERSATIONS,payload:{newArr:u,result:s.data.result}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.auth,a=e.id,n=e.page,r=void 0===n?1:n;return function(){var e=Object(s.a)(c.a.mark((function e(n){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)("message/".concat(a,"?limit=").concat(9*r),t.token);case 3:s=e.sent,n({type:l.GET_MESSAGES,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},,,,function(e,t,a){"use strict";a(1);var n=a(19),c=a(12),r=a(0);t.a=function(e){var t=e.children,a=e.user,s=e.border,o=e.handleClose,i=e.setShowFollowers,l=e.setShowFollowing,u=e.msg;return Object(r.jsxs)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center ".concat(s),children:[Object(r.jsx)("div",{children:Object(r.jsxs)(c.b,{to:"/profile/".concat(a._id),onClick:function(){o&&o(),i&&i(!1),l&&l(!1)},className:"d-flex align-items-center",style:{textDecoration:"none"},children:[Object(r.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(r.jsx)(n.a,{src:a.avatar,size:"big-avatar"})}),Object(r.jsxs)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:[Object(r.jsx)("span",{className:"d-block color-c2",children:a.username}),Object(r.jsx)("small",{className:"d-flex text-muted",style:{flexWrap:"wrap"},children:u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:a.text}),a.media.length>0&&Object(r.jsxs)("div",{children:[a.media.length," ",Object(r.jsx)("i",{className:"fas fa-image"})]})]}):a.fullname})]})]})}),t]})}},function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return p})),a.d(t,"d",(function(){return m}));var n=a(3),c=a.n(n),r=a(8),s=a(10),o=a(4),i=function(e){var t=e.fullname,a=e.username,n=e.email,c=e.password,r=e.cf_password,s=e.gender,o={};return t?t.length>25&&(o.fullname="Full name must be smaller than 25 characters."):o.fullname="Please add full name.",a?a.replace(/ /g,"").length>25&&(o.username="User name must be smaller than 25 characters."):o.username="Please add User name.",n||(o.email="Please add Email."),s||(o.username="Please add your gender."),c?c.length<6&&(o.password="Password must be al least 6 characters long."):o.password="Please add Password.",c!==r&&(o.cf_password="Password does not match."),{errMsg:o,errLength:Object.keys(o).length}},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=4,Object(s.d)("login",e);case 4:n=t.sent,a({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),a({type:o.c.USER_TYPE,payload:n.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:n.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){var t=e.oldPassword,a=e.newPassword,n=e.cnfNewPassword,i=e.auth;return function(){var e=Object(r.a)(c.a.mark((function e(r){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&0!==t.length||r({type:o.c.ALERT,payload:{error:"Please enter your old  password."}}),a&&0!==a.length||r({type:o.c.ALERT,payload:{error:"Please enter your new  password."}}),n&&0!==n.length||r({type:o.c.ALERT,payload:{error:"Please confirm your new  password."}}),a!==n&&r({type:o.c.ALERT,payload:{error:"Your password does not match"}}),e.prev=4,r({type:o.c.ALERT,payload:{loading:!0}}),e.next=8,Object(s.d)("changePassword",{oldPassword:t,newPassword:a},i.token);case 8:l=e.sent,r({type:o.c.ALERT,payload:{loading:!1}}),r({type:o.c.ALERT,payload:{success:l.data.msg}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=4,Object(s.d)("admin_login",e);case 4:n=t.sent,a({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),a({type:o.c.USER_TYPE,payload:n.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:n.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("firstLogin"),console.log("refreshing"),!a){e.next=16;break}return t({type:o.c.ALERT,payload:{loading:!0}}),e.prev=4,e.next=7,Object(s.d)("refresh_token");case 7:n=e.sent,t({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),t({type:o.c.USER_TYPE,payload:n.data.user.role}),t({type:o.c.ALERT,payload:{}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.c.ALERT,payload:n.errMsg}));case 3:return t.prev=3,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=7,Object(s.d)("register",e);case 7:r=t.sent,a({type:o.c.AUTH,payload:{token:r.data.access_token,user:r.data.user}}),a({type:o.c.USER_TYPE,payload:r.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:r.data.msg}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.c.ALERT,payload:n.errMsg}));case 3:return t.prev=3,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=7,Object(s.d)("register_admin",e);case 7:r=t.sent,a({type:o.c.ALERT,payload:{success:r.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("firstLogin"),e.next=4,Object(s.d)("logout");case 4:window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i={ADD_ANANOM_MESSAGE:"ADD_ANANOM_MESSAGE",GET_ANANOM_CONVERSATIONS:"GET_ANANOM_CONVERSATIONS",GET_ANANOM_MESSAGES:"GET_ANANOM_MESSAGES"},l=function(e){var t=e.message;return function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:i.ADD_ANANOM_MESSAGE,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e){var t=e.auth,a=e.page,n=void 0===a?1:a;return function(){var e=Object(r.a)(c.a.mark((function e(a){var r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)("ananomconversations?limit=".concat(9*n),t.token);case 3:r=e.sent,console.log(r),l=[],r.data.ananomconversations.forEach((function(e){l.push({text:e.text,media:e.media,messages:e.messages,id:e._id})})),a({type:i.GET_ANANOM_CONVERSATIONS,payload:{newArr:l,result:r.data.result}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.GET_ANANOM_MESSAGES});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(3),c=a.n(n),r=a(154),s=a(8),o=function(e){var t="";return e?e.size>1048576?"File size must be less than 1 Mb.":"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?"Image must be jpeg or png or jpg.":t:"File does not exist."},i=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,s,o,i,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(r.a)(t),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=19;break}return o=s.value,i=new FormData,o.camera?i.append("file",o.camera):i.append("file",o),i.append("upload_preset","ayushbansalaccount"),i.append("cloud_name","datinginsta110"),e.next=12,fetch("https://api.cloudinary.com/v1_1/datinginsta110/image/upload",{method:"POST",body:i});case 12:return l=e.sent,e.next=15,l.json();case 15:u=e.sent,a.push({public_id:u.public_id,url:u.secure_url});case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));var n="https://datinginsta.herokuapp.com",c="https://datinginsta.herokuapp.com"},function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return p}));var n=a(11),c=a(2),r=a(3),s=a.n(r),o=a(8),i=a(4),l=a(10),u=a(14),d={LOADING:"LOADING_REQUESTS",CREATE_REQUEST:"CREATE_REQUEST",ACCEPT_REQUEST:"ACCEPT_REQUEST",REJECT_REQUEST:"REJECT_REQUEST",GET_SENT_REQUESTS:"GET_SENT_REQUESTS",GET_RECEIVED_REQUESTS:"GET_RECEIVED_REQUESTS",GET_MATCH_REQUEST:"GET_MATCH_REQUEST"},j=function(e){var t=e.sender,a=e.receiver,n=e.user,c=e.auth,r=e.socket;return function(){var e=Object(o.a)(s.a.mark((function e(o){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.matches.every((function(e){return e._id!==a}))){e.next=11;break}return e.prev=1,e.next=4,Object(l.d)("createrequest",{sender:t,receiver:a},c.token);case 4:o({type:d.CREATE_REQUEST}),r.emit("requestmatch",a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.auth,a=e.socket,r=e.sender,d=e.receiver;return function(){var e=Object(o.a)(s.a.mark((function e(o){var j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:i.c.AUTH,payload:Object(c.a)(Object(c.a)({},t),{},{user:Object(c.a)(Object(c.a)({},t.user),{},{matches:[].concat(Object(n.a)(t.user.matches),[r])})})}),e.prev=1,e.next=4,Object(l.d)("/acceptrequest",{sender:r,receiver:d},t.token);case 4:e.sent,a.emit("makematch",r,d),j={id:t.user._id,text:"is now a match with you",recipients:[r],url:"/profile/".concat(t.user._id)},o(Object(u.b)({msg:j,auth:t,socket:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.sender,a=e.receiver,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.d)("/rejectrequest",{sender:t,receiver:a},n.token);case 3:e.sent,c.emit("rejectmatch",t,a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},,,,,,,function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(e){var t=e.result,a=e.page,c=e.load,r=e.handleLoadMore;return Object(n.jsx)(n.Fragment,{children:t<9*(a-1)?"":!c&&Object(n.jsx)("button",{className:"btn  btn-outline-info color-c1 mx-auto d-block",onClick:r,children:"Load more."})})}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i={LOADING:"LOADING_SUGGESTIONS",GET_USERS:"GET_USERS_SUGGESTIONS"},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.LOADING,payload:!0}),t.next=4,Object(o.b)("suggestionsUser",e);case 4:n=t.sent,a({type:i.GET_USERS,payload:n.data}),a({type:i.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},,,,function(e,t,a){"use strict";a(1),a(225);var n=a(158),c=a(0);t.a=function(e){var t=e.setContent,a=e.content,r=e.theme;return Object(c.jsxs)("div",{className:"nav-item dropdown",style:{opacity:"1",zIndex:"10",filter:r?"invert(1)":"invert(0)"},children:[Object(c.jsx)("span",{className:"nav-link position-relative px-1",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(c.jsx)("span",{children:"\ud83d\ude0f"})}),Object(c.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(c.jsx)(n.a,{theme:r?"dark":"light",showSkinTones:"true",showPreview:"false",onSelect:function(e){return t(a+e.native)},i18n:{search:"Search",clear:"Clear",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",smileys:"Smileys & Emotion",people:"People & Body",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}})})]})}},function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),l=a(28),u=a(0);t.a=function(e){var t=e.user,a=Object(o.useState)(!1),n=Object(s.a)(a,2),d=n[0],j=n[1],b=Object(i.c)((function(e){return e})),p=b.auth,m=b.profile,O=b.socket,f=Object(i.b)(),h=Object(o.useState)(!1),x=Object(s.a)(h,2),v=x[0],g=x[1];Object(o.useEffect)((function(){return p.user.following.find((function(e){return e._id===t._id}))&&j(!0),function(){return j(!1)}}),[p.user.following,t._id]);var y=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return j(!0),g(!0),e.next=6,f(Object(l.b)({users:m.users,user:t,auth:p,socket:O}));case 6:g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return j(!1),g(!0),e.next=6,f(Object(l.d)({users:m.users,user:t,auth:p,socket:O}));case 6:g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:d?Object(u.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:_,children:"Unfollow"}):Object(u.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:y,children:"Follow"})})}},,,function(e,t,a){"use strict";a(1);var n=a(19),c=a(29),r=a(0);t.a=function(e){var t=e.user,a=e.msg,s=e.theme;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"chat_title",children:[Object(r.jsx)(n.a,{src:t.avatar,size:"small-avatar"}),Object(r.jsx)("span",{children:t.username})]}),a.text&&Object(r.jsx)("div",{className:"chat_text",style:{filter:s?"invert(1)":"invert(0)"},children:a.text}),a.media&&a.media.map((function(e,t){return Object(r.jsx)("div",{style:{maxWidth:"380px",maxHeight:"680px"},children:e.url.match(/video/i)?Object(c.b)(e.url,s):Object(c.a)(e.url,s)},t)})),Object(r.jsx)("div",{className:"chat_time",children:new Date(a.createdAt).toLocaleString()})]})}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i={LOADING:"LOADING_DISCOVER",GET_POSTS:"GET_DISCOVER_POSTS",UPDATE_POSTS:"UPDATE_DISCOVER_POSTS"},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.LOADING,payload:!0}),t.next=4,Object(o.b)("post_discover",e);case 4:n=t.sent,a({type:i.GET_POSTS,payload:n.data}),a({type:i.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},,,,,function(e,t,a){"use strict";a(1);var n=a(12),c=a(6),r=(a(29),a(0));t.a=function(e){var t=e.posts,a=e.result,s=Object(c.c)((function(e){return e})).theme;if(0===a)return Object(r.jsx)("h2",{className:"text-center color-c1",children:"No Post"});var o=function(e){return Object(r.jsx)("img",{src:e,alt:e,style:{filter:s?"invert(1)":"invert(0)"}})};return Object(r.jsx)("div",{className:"post_thumb",children:t&&t.map((function(e){return Object(r.jsx)(n.b,{to:"/post/".concat(e._id),children:Object(r.jsxs)("div",{className:"post_thumb_display",children:[e.images[0].url.match(/video/i)?(t=e.images[0].url,Object(r.jsx)("video",{controls:!0,src:t,alt:t,style:{filter:s?"invert(1)":"invert(0)"}})):o(e.images[0].url),Object(r.jsxs)("div",{className:"post_thumb_menu",children:[Object(r.jsx)("i",{className:"far fa-thumbs-up",children:e.likes.length}),Object(r.jsx)("i",{className:"far fa-comments",children:e.comments.length})]})]})},e._id);var t}))})}},,,,,function(e,t,a){"use strict";a.r(t);var n=a(44),c=a(2),r=a(5),s=a(1),o=a(16),i=a(12),l=a(37),u=a(6),d=a(0);t.default=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(r.a)(e,2),a=t[0],j=t[1],b=Object(s.useState)(!1),p=Object(r.a)(b,2),m=p[0],O=p[1],f=a.email,h=a.password,x=Object(s.useState)(!1),v=Object(r.a)(x,2),g=v[0],y=v[1],_=Object(u.c)((function(e){return e})).auth,N=Object(u.b)(),w=Object(o.f)();Object(s.useEffect)((function(){_.token&&w.push("/")}),[_.token,w]);var k=function(e){var t=e.target,r=t.name,s=t.value;j(Object(c.a)(Object(c.a)({},a),{},Object(n.a)({},r,s)))};return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(m?Object(l.a)(a):Object(l.c)(a))},className:"inner-shadow",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading ",children:"DatingInsta"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"email",className:"form-control ",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:k,value:f,name:"email"})}),Object(d.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:g?"text":"password",className:"form-control",id:"exampleInputPassword1",onChange:k,value:h,name:"password"}),Object(d.jsx)("small",{onClick:function(){return y(!g)},children:g?"Hide":"Show"})]})})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-4",children:[Object(d.jsxs)("label",{htmlFor:"User",children:["User:",Object(d.jsx)("input",{type:"radio",id:"User",name:"gender",value:m,defaultChecked:!0,onClick:function(){return O(!1)}})]}),Object(d.jsxs)("label",{htmlFor:"Admin",children:["Admin:",Object(d.jsx)("input",{type:"radio",id:"Admin",name:"gender",value:m,onClick:function(){return O(!0)}})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",disabled:!f||!h,children:"Login"}),Object(d.jsxs)("p",{className:"my-2",children:["Don't have an account?"," ",Object(d.jsx)(i.b,{to:"/register",style:{color:"crimson"},children:"Register Now."})]})]})})}},,,,,,function(e,t){},function(e,t,a){"use strict";a.r(t);a(1);var n=a(100),c=a(0);t.default=function(){return Object(c.jsxs)("div",{className:"message d-flex",children:[Object(c.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(c.jsx)(n.a,{})}),Object(c.jsx)("div",{className:"col-md-8 px-0",children:Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(c.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(c.jsx)("h4",{children:"Messenger"})]})})]})}},function(e,t,a){"use strict";a.r(t);a(1);var n=a(101),c=a(0);t.default=function(){return Object(c.jsxs)("div",{className:"message d-flex",children:[Object(c.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(c.jsx)(n.a,{})}),Object(c.jsx)("div",{className:"col-md-8 px-0",children:Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(c.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(c.jsx)("h4",{children:"Messenger"})]})})]})}},function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(44),i=a(258),l=a(260),u=a(1),d=a(6),j=a(39),b=a(11),p=a(2),m=a(4),O=a(19),f=a(12),h=a(259),x=a(0),v=function(e){var t=Object(u.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],r=Object(u.useState)(""),o=Object(s.a)(r,2),i=o[0],l=o[1];Object(u.useEffect)((function(){2===e.bcode?(c("Loading"),l("ui loading button large"),e.setBcode(null)):1===e.bcode?(c("End Chat"),l("ui button end")):3===e.bcode&&(c("Find New"),l("ui button find"))}),[e]);return Object(x.jsx)(h.a,{onClick:function(){console.log(e),null==e.bcode?(e.setFind(!0),console.log("Find button clicked")):"ui button end"===i?(console.log(e.end),e.setEnd(!0),console.log("end chat clicked")):"ui button find"===i&&(e.setFind(!0),console.log("Find button clicked"))},children:n||"Start"})},g=a(104),y=a(103),_=a(97),N=function(e){var t=e.post,a=e.theme;return Object(x.jsxs)("div",{className:"card my-3 outer-shadow",children:[Object(x.jsx)(_.a,{post:t}),Object(x.jsx)(g.a,{post:t,theme:a}),Object(x.jsx)(y.a,{post:t})]})},w=a(17),k=(a(56),a(10)),E=(a(13),function(e){var t=Object(d.c)((function(e){return e})),a=(t.homePosts,t.auth),n=t.theme,o=Object(u.useState)([]),i=Object(s.a)(o,2),l=i[0],j=i[1],b=(Object(d.b)(),Object(u.useState)(1)),p=Object(s.a)(b,2),m=p[0],O=(p[1],Object(u.useState)(!1)),f=Object(s.a)(O,2),h=f[0];f[1];Object(u.useEffect)((function(){(function(){var t=Object(r.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.b)("getCommonLikedPosts/?limit=".concat(9*m,"&receiver=").concat(e.receiver),a.token);case 2:n=t.sent,console.log(n),j(n.data.posts);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[m]);return Object(x.jsx)("div",{className:"follow",children:Object(x.jsxs)("div",{className:"follow_box",children:[Object(x.jsx)("h5",{className:"text-center follow_box-heading",children:"Common Likes"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:"posts",children:["//"," ",l.map((function(e){return Object(x.jsx)(N,{post:e,theme:n},e._id)})),h&&Object(x.jsx)("img",{src:w.a,alt:"Loading...",className:"d-block mx-auto"})]}),Object(x.jsx)("div",{className:"close",onClick:function(){return e.setOnEdit(!1)},children:"\xd7"})]})})}),T=a(36),S=function(e){var t=e.theme,a=e.Component;return console.log("Componenet Toast called"),Object(u.useEffect)((function(){j.b.clearWaitingQueue(),"Error"===t&&j.b.error(Object(x.jsx)(a,{}),{theme:"colored",autoClose:1e4}),"Success"===t&&j.b.success(Object(x.jsx)(a,{}),{theme:"colored",autoClose:1e4})}),[]),Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{})})},A=a(49),L=(a(28),function(e){var t=Object(d.c)((function(e){return e})),a=(t.theme,t.auth),n=t.socket,o=t.profile,i=Object(u.useState)(!1),l=Object(s.a)(i,2),j=l[0],g=l[1],y=Object(u.useState)([]),_=Object(s.a)(y,2),N=(_[0],_[1]),w=Object(u.useState)(!1),L=Object(s.a)(w,2),C=L[0],R=L[1],P=Object(u.useState)(!1),D=Object(s.a)(P,2),I=(D[0],D[1]),U=Object(u.useState)(!1),G=Object(s.a)(U,2),F=(G[0],G[1],Object(u.useState)(!1)),M=Object(s.a)(F,2),z=M[0],H=M[1],Y=Object(u.useState)(!1),q=Object(s.a)(Y,2),W=q[0],V=q[1],Q=Object(u.useState)(!1),B=Object(s.a)(Q,2),K=B[0],J=B[1],X=Object(u.useState)({}),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=Object(d.b)(),ae=e.ananomId;console.log(ae),n.on("requestmatchToClient",(function(e){console.log(e),V(!0)})),n.on("makeMatchToClient",function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),H(!0),te({type:m.c.AUTH,payload:Object(p.a)(Object(p.a)({},a),{},{user:Object(p.a)(Object(p.a)({},a.user),{},{matches:[].concat(Object(b.a)(a.user.matches),[ae])})})}),g(!0),I(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.on("rejectMatchToClient",(function(e){console.log(e),J(!1)}));var ne=function(){return Object(x.jsxs)("div",{children:[console.log("requested"),"The user you are talking to has sent you connection request.",Object(x.jsx)(h.a,{onClick:ce,children:"Accept Request"})," "]})};Object(u.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.b)("user/".concat(ae),a.token);case 2:t=e.sent,n=t.data.user,ee(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.b)("user/".concat(ae),a.token);case 2:t=e.sent,n=t.data.user,ee(n);try{a.user.matches.forEach((function(e){e===ae&&H(!0)}))}catch(c){console.log(c)}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.useEffect)((function(){if(e.receiver===a.user._id)N([a.user]);else{var t=o.users.filter((function(t){return t._id===e.receiver}));N(t)}}),[e.receiver,a,te,o.users]);var ce=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(Object(A.b)({auth:a,socket:n,sender:e.receiver,receiver:a.user._id}));case 2:H(!0),I(!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center",children:[Object(x.jsx)(f.b,{to:"/",className:"d-flex align-items-center",style:{textDecoration:"none"},children:Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(x.jsx)(O.a,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",size:"big-avatar"})}),Object(x.jsx)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:Object(x.jsx)("span",{className:"d-block color-c2",children:"Ananomous User"})})]})}),Object(x.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return R(!0)},children:"Common Interests"}),z&&Object(x.jsx)(h.a,{children:"Match already"}),!z&&W&&!K&&Object(x.jsx)(h.a,{onClick:ce,children:"Accept Request"}),!z&&!W&&K&&Object(x.jsx)(h.a,{children:"Pending..."}),!z&&!W&&!K&&Object(x.jsx)(h.a,{onClick:function(){te(Object(A.c)({sender:a.user._id,receiver:e.receiver,auth:a,socket:n,user:a.user})),J(!0)},children:"Match Request"}),Object(x.jsx)(v,{find:e.find,setFind:e.setFind,end:e.end,setEnd:e.setEnd,bcode:e.bcode,setBcode:e.setBcode}),W&&Object(x.jsx)(S,{theme:"Success",Component:ne}),j&&Object(x.jsx)(S,{theme:"Success",Component:function(){return Object(x.jsxs)("div",{children:[console.log("accepted"),"Whooray, we have a new match",Object(x.jsx)(T.a,{user:$,children:Object(x.jsx)("i",{className:"fas fa-circle"})})]})}}),C&&Object(x.jsx)(E,{setOnEdit:R,receiver:e.receiver})]})}),C=a(67),R=a(98),P=a(63),D=a(29),I=a(45),U=function(e){var t=Object(d.c)((function(e){return e})),a=t.auth,n=(t.theme,function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.d)("create_ananomconversation",e.conversation,a.token);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(x.jsx)("div",{className:"follow",children:Object(x.jsxs)("div",{className:"follow_box",children:[Object(x.jsx)("h5",{className:"text-center follow_box-heading",children:"This chat has been ended"}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"posts",children:Object(x.jsx)("button",{onClick:n,children:"save"})}),Object(x.jsx)("div",{className:"close",onClick:function(){return e.setOnEdit(!1)},children:"\xd7"})]})})},G=a(41),F=function(e){console.log(e);var t=e.receiverGoogleId,a=e.ananomConversation,n=(e.receieverSocketID,e.id,e.ownId),o=Object(u.useState)([]),i=Object(s.a)(o,2),l=i[0],j=i[1],p=Object(u.useState)([]),O=Object(s.a)(p,2),f=(O[0],O[1],Object(d.c)((function(e){return e}))),h=f.auth,v=f.theme,g=f.socket,y=Object(d.b)(),_=Object(u.useState)(null),N=Object(s.a)(_,2),k=N[0],E=N[1],T=Object(u.useState)(""),S=Object(s.a)(T,2),A=S[0],F=S[1],M=Object(u.useState)(0),z=Object(s.a)(M,2),H=(z[0],z[1],Object(u.useState)(!1)),Y=Object(s.a)(H,2),q=Y[0],W=Y[1],V=Object(u.useState)([]),Q=Object(s.a)(V,2),B=Q[0],K=Q[1],J=Object(u.useState)(!1),X=Object(s.a)(J,2),Z=X[0],$=X[1],ee=Object(u.useRef)(),te=Object(u.useRef)();Object(u.useEffect)((function(){ee.current&&ee.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[]),Object(u.useEffect)((function(){g.on("getAnanomMessage",(function(e){console.log(e),E({sender:e.sender,receiverId:h.user._id,text:e.text,media:e.media,createdAt:e.createdAt})}))}),[g]),console.log(k),Object(u.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=4;break}return j((function(e){return[].concat(Object(b.a)(e),[k])})),e.next=4,y(Object(G.b)({message:k}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[k]);var ae=function(){var e=Object(r.a)(c.a.mark((function e(r){var s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),A.trim()||0!==B.length){e.next=3;break}return e.abrupt("return");case 3:if(F(""),K([]),$(!0),s=[],!(B.length>0)){e.next=11;break}return e.next=10,Object(I.b)(B);case 10:s=e.sent;case 11:return o={sender:h.user._id,receiverId:t,text:A,media:s,createdAt:(new Date).toISOString()},console.log(a),console.log(n),j((function(e){return[].concat(Object(b.a)(e),[o])})),g.emit("sendAnanomMessage",o),$(!1),e.next=19,y(Object(G.b)({message:o}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){ee.current&&ee.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[A,l]),console.log(t),Object(x.jsxs)(x.Fragment,{children:[console.log("tp check if working"),Object(x.jsx)("div",{className:"message_header",children:Object(x.jsx)(L,{ananomId:t,find:e.find,setFind:e.setFind,end:e.end,setEnd:e.setEnd,bcode:e.bcode,setBcode:e.setBcode,receiver:t,children:Object(x.jsx)("i",{className:"fas fa-trash text-danger"})})}),Object(x.jsx)("div",{className:"chat_container",children:Object(x.jsxs)("div",{className:"chat_display",ref:ee,children:[Object(x.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:te,children:"Load.."}),l.map((function(e,t){return Object(x.jsxs)("div",{children:[e.sender!==h.user._id&&Object(x.jsx)("div",{className:"chat_row other_message",children:Object(x.jsx)(R.a,{msg:e,theme:v})}),e.sender===h.user._id&&Object(x.jsx)("div",{className:"chat_row you_message",children:Object(x.jsx)(C.a,{user:h.user,msg:e,theme:v})})]},t)})),Z&&Object(x.jsx)("div",{className:"chat_row you_message",children:Object(x.jsx)("img",{src:w.a,alt:"Loading..."})})]})}),Object(x.jsx)("div",{className:"show_media",style:{display:B.length>0?"":"none"},children:B.map((function(e,t){return Object(x.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(D.b)(URL.createObjectURL(e),v):Object(D.a)(URL.createObjectURL(e),v),Object(x.jsx)("span",{onClick:function(){return function(e){var t=Object(b.a)(B);t.splice(e,1),K(t)}(t)},children:"\xd7"})]},t)}))}),Object(x.jsxs)("form",{className:"chat_input",onSubmit:ae,children:[Object(x.jsx)("input",{placeholder:"Type a message.",type:"text",value:A,onChange:function(e){return F(e.target.value)},style:{filter:v?"invert(1)":"invert(0)",background:v?"#040404":"",color:v?"white":""}}),Object(x.jsx)(P.a,{setContent:F,content:A,theme:v}),Object(x.jsxs)("div",{className:"file_upload",children:[Object(x.jsx)("i",{className:"fas fa-image color-c1"}),Object(x.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(b.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&y({type:m.c.ALERT,payload:{error:a}}),K([].concat(Object(b.a)(B),n))}})]}),Object(x.jsx)("button",{type:"submit",disabled:!(A||B.length>0),className:"material-icons",children:"near_me"})]}),q&&Object(x.jsx)(U,{setOnEdit:W,receiver:e.receiver})]})},M=Object(i.a)((function(e){return{component:{background:"#f8f9fa",textAlign:"center"},container:Object(o.a)({padding:"0 0"},e.breakpoints.down("sm"),{padding:-0}),divider:{margin:"30px 0"}}}));t.default=function(){var e=Object(d.b)(),t=Object(u.useState)(),a=Object(s.a)(t,2),n=a[0],o=a[1],i=Object(u.useState)(),b=Object(s.a)(i,2),p=b[0],m=b[1],O=Object(u.useState)(),f=Object(s.a)(O,2),h=f[0],g=f[1],y=Object(u.useState)([]),_=Object(s.a)(y,2),N=_[0],w=_[1],E=Object(u.useState)("Click on Start Button to start the anonomous conversation"),T=Object(s.a)(E,2),S=T[0],A=T[1],L=Object(u.useState)(null),C=Object(s.a)(L,2),R=(C[0],C[1]),P=Object(u.useState)(null),D=Object(s.a)(P,2),I=D[0],U=D[1],z=Object(u.useState)(null),H=Object(s.a)(z,2),Y=H[0],q=(H[1],Object(u.useState)(!1)),W=Object(s.a)(q,2),V=W[0],Q=W[1],B=Object(u.useState)(!1),K=Object(s.a)(B,2),J=K[0],X=K[1],Z=Object(u.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(u.useState)(!1),ne=Object(s.a)(ae,2),ce=ne[0],re=(ne[1],Object(u.useState)(!1)),se=Object(s.a)(re,2),oe=(se[0],se[1]),ie=Object(d.c)((function(e){return e})),le=ie.auth,ue=(ie.theme,ie.socket),de=ie.ananomMessages,je=Object(d.c)((function(e){return e}));console.log(je),console.log();var be=M();Object(u.useEffect)((function(){return window.addEventListener("unload",pe),function(){window.removeEventListener("unload",pe),pe()}}),[]);var pe=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue.emit("disconn");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){de.data.length>0&&w(de.data)}),[de.data]),Object(u.useEffect)((function(){V&&function(){var t=Object(r.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(de),t.next=3,Object(k.d)("create_ananomconversation",{messages:N},le.token);case 3:a=t.sent,Q(!1),w([]),e(Object(G.d)()),e(Object(G.c)({auth:le})),console.log(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[V]),Object(u.useEffect)((function(){console.log(ue),ue.on("conn",(function(e){console.log(e),o(e.id),m(e.ownId),g(e.googleId),A(e.text),R(e.code),U(e.bcode)})),ue.on("waiting",(function(e){A(e.text),R(e.code),U(e.bcode)})),ue.on("disconn",(function(e){R(e.code),U(e.bcode),A(e.text),N.length>0&&Q(!0)}))}),[ue,J]),Object(u.useEffect)((function(){!0===J&&(ue.emit("disconn"),X(!1))}),[J,ue]),Object(u.useEffect)((function(){"Stranger has left the chat"===S&&N.length>0&&Q(!0)}),[S]),Object(u.useEffect)((function(){ue.on("istyping",(function(e){oe(e)}))})),Object(u.useEffect)((function(){ue.emit("typing",ce)})),Object(u.useEffect)((function(){!0===ee&&(console.log("trying to find"),ue.emit("new",le.user.gender,le.user._id),te(!1))}),[ee,ue]),Object(u.useEffect)((function(){Object(j.b)(S)}),[S]),Object(x.jsxs)(l.a,{className:be.component,children:[Object(x.jsx)(j.a,{}),"You are now chatting with a Stranger!"===S?Object(x.jsx)(F,{id:n,ownId:p,receiverId:n,receiverSocketId:n,receiverGoogleId:h,waitMessage:S,ananomConversation:Y,find:ee,setFind:te,end:J,setEnd:X,bcode:I,setBcode:U}):Object(x.jsx)("div",{className:"message d-flex",children:Object(x.jsx)("div",{className:"col-md-12 px-0",children:Object(x.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(x.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(x.jsx)("h4",{children:Object(x.jsx)(v,{find:ee,setFind:te,end:J,setEnd:X,bcode:I,setBcode:U})})]})})})]})}},,function(e,t,a){"use strict";a.r(t);var n=a(44),c=a(2),r=a(5),s=a(1),o=a(6),i=a(16),l=a(12),u=a(37),d=a(0);t.default=function(){var e=Object(o.c)((function(e){return e})),t=e.auth,a=e.alert,j=Object(o.b)(),b=Object(i.f)(),p=Object(s.useState)({fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"}),m=Object(r.a)(p,2),O=m[0],f=m[1],h=O.fullname,x=O.username,v=O.email,g=O.password,y=O.cf_password,_=Object(s.useState)(!1),N=Object(r.a)(_,2),w=N[0],k=N[1],E=Object(s.useState)(!1),T=Object(r.a)(E,2),S=T[0],A=T[1];Object(s.useEffect)((function(){t.token&&b.push("/")}),[t.token,b]);var L=function(e){var t=e.target,a=t.name,r=t.value;f(Object(c.a)(Object(c.a)({},O),{},Object(n.a)({},a,r)))};return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(Object(u.f)(O))},className:"inner-shadow",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"DatingInsta"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:L,value:h,name:"fullname",style:{background:"".concat(a.fullname?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.fullname?a.fullname:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:L,value:x.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(a.username?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.username?a.username:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:L,value:v,name:"email",style:{background:"".concat(a.email?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.email?a.email:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:w?"text":"password",className:"form-control",id:"password",onChange:L,value:g,name:"password",style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){return k(!w)},children:w?"Hide":"Show"})]})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.password?a.password:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",onChange:L,value:y,name:"cf_password",style:{background:"".concat(a.cf_password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){return A(!S)},children:S?"Hide":"Show"})]})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.cf_password?a.cf_password:""})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(d.jsxs)("label",{htmlFor:"male",children:["Male:",Object(d.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:L})]}),Object(d.jsxs)("label",{htmlFor:"female",children:["Female:",Object(d.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:L})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"}),Object(d.jsxs)("p",{className:"my-2",children:["Already have an account?"," ",Object(d.jsx)(l.b,{to:"/",style:{color:"crimson"},children:"Login Now."})]})]})})}},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(5),s=a(12),o=a(0);var i=function(){var e=Object(n.useState)(0),t=Object(r.a)(e,2),a=t[0],c=t[1],i=function(){return c(window.pageYOffset)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",i),function(){return window.removeEventListener("scroll",i)}}),[]),Object(o.jsx)("div",{className:"homepage-header-main",children:Object(o.jsxs)("div",{style:{transform:"translateY(-".concat(.4*a,"px)")},className:"head-container",children:[Object(o.jsx)("h1",{className:"head-container-heading",children:"UNWIND YOURSELF"}),Object(o.jsx)("p",{className:"head-container-paragraph",children:"Welcome to the world of conversing without hesitation and judgement."}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsx)(s.b,{to:"/register",style:{color:"crimson"},children:Object(o.jsx)("button",{id:"getStarted",children:"SignUp"})})})})]})})},l=a.p+"static/media/firstvideo.ca265a5c.mp4",u=a.p+"static/media/second.ba01765b.mp4",d=a.p+"static/media/third.ac432485.mp4",j=a.p+"static/media/fourth.7e7c7247.mp4",b=a.p+"static/media/fifth.02a0c1b0.mp4",p=a.p+"static/media/Sixth.2a7a7c9a.mp4";var m=function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"ui container",children:[Object(o.jsxs)("div",{className:"first",children:[Object(o.jsxs)("div",{className:"homepage-content",children:[Object(o.jsx)("p",{className:"homepage-content-h3",children:"Dating like never before:"}),"All you gotta do is to click on start button and then just blink your eye before you get connected to a wonderful date.",Object(o.jsx)("br",{}),"Easy as that. Fast as that. Simple as that\ud83d\ude42\ud83c\udf55"]}),Object(o.jsx)("div",{className:"firstImage",children:Object(o.jsxs)("video",{loop:!0,autoPlay:!0,muted:!0,controls:!0,className:"homepage-content-img",children:[Object(o.jsx)("source",{src:l,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),Object(o.jsxs)("div",{className:"second",children:[Object(o.jsxs)("div",{className:"homepage-content ",children:[Object(o.jsx)("h3",{className:"homepage-content-h3",children:"Connect with love"}),"Do you think this is your dream prince/princess you were looking for?",Object(o.jsx)("br",{}),"Just send the connection request and wait for other person to accept the request."]}),Object(o.jsx)("div",{className:"secondImage",children:Object(o.jsxs)("video",{loop:!0,autoPlay:!0,muted:!0,controls:!0,className:"homepage-content-img",children:[Object(o.jsx)("source",{src:u,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),Object(o.jsxs)("div",{className:"third",children:[Object(o.jsxs)("div",{className:"homepage-content",children:[Object(o.jsx)("p",{className:"homepage-content-h3",children:"No Strings Attached"}),"Chat didn't go as expected? Don't worry\ud83d\ude42. Just say \"shit\" and end the chat.",Object(o.jsx)("br",{}),"if next time you get connected to same person it will be a fresh start with no strings attached to previous chat. Fun isn't it?\ud83d\ude42"]}),Object(o.jsx)("div",{className:"thirdImage",children:Object(o.jsxs)("video",{loop:!0,autoPlay:!0,muted:!0,controls:!0,className:"homepage-content-img",children:[Object(o.jsx)("source",{src:d,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),Object(o.jsxs)("div",{className:"fourth",children:[Object(o.jsxs)("div",{className:"homepage-content",children:[Object(o.jsx)("p",{className:"homepage-content-h3",children:"be better at dating"}),"go to saved conversations and look what went right what went wrong.",Object(o.jsx)("br",{}),"Learn from your own mistakes and be better than everyone else."]}),Object(o.jsx)("div",{className:"fourthImage",children:Object(o.jsxs)("video",{loop:!0,autoPlay:!0,muted:!0,controls:!0,className:"homepage-content-img",children:[Object(o.jsx)("source",{src:j,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),Object(o.jsxs)("div",{className:"fifth",children:[Object(o.jsxs)("div",{className:"homepage-content",children:[Object(o.jsx)("p",{className:"homepage-content-h3",children:"know your dates more and more"}),"see photos and videos of your connection directly in your feed.",Object(o.jsx)("br",{}),"Is there a better way to know the person more and more?"]}),Object(o.jsx)("div",{className:"fifthImage",children:Object(o.jsxs)("video",{loop:!0,autoPlay:!0,muted:!0,controls:!0,className:"homepage-content-img",children:[Object(o.jsx)("source",{src:b,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),Object(o.jsxs)("div",{className:"sixth",children:[Object(o.jsxs)("div",{className:"homepage-content",children:[Object(o.jsx)("p",{className:"homepage-content-h3",children:"know the person for you"}),"Tired of looking at few photos of a person and deciding what to talk about?",Object(o.jsx)("br",{}),"Now, look at the posts you and your partner have liked in common to know what to talk about during conversation."]}),Object(o.jsx)("div",{className:"sixthImage",children:Object(o.jsxs)("video",{loop:!0,autoPlay:!0,muted:!0,controls:!0,className:"homepage-content-img",children:[Object(o.jsx)("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})})},O=(a.p,a.p,a(99));var f=function(e){var t=c.a.useState(!1),a=Object(r.a)(t,2),i=a[0],l=a[1],u=function(){return l(!i)},d=Object(n.useState)(!0),j=Object(r.a)(d,2),b=(j[0],j[1]),p=Object(n.useState)(!1),m=Object(r.a)(p,2),f=(m[0],m[1]),h=function(){window.innerWidth<=780?b(!1):b(!0)};return Object(n.useEffect)((function(){h()}),[]),window.addEventListener("resize",h),window.addEventListener("scroll",(function(){window.scrollY>=75?f(!0):f(!1)})),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:i?"main-container":"",onClick:function(){return l(!1)}}),Object(o.jsx)("nav",{className:"homepage-navbar",onClick:function(e){return e.stopPropagation()},children:Object(o.jsxs)("div",{className:"homepage-nav-container",children:[Object(o.jsx)(s.c,{exact:!0,to:"/",className:"homepage-nav-logo",children:Object(o.jsx)("img",{src:O.a,alt:"brand logo"})}),Object(o.jsxs)("ul",{className:i?"homepage-nav-menu active":"homepage-nav-menu",children:[Object(o.jsx)("li",{className:"homepage-nav-item",children:Object(o.jsx)(s.c,{exact:!0,to:"/",activeClassName:"active",className:"homepage-nav-links",onClick:i?u:null,children:"Home"})}),Object(o.jsx)("li",{className:"homepage-nav-item",children:Object(o.jsx)(s.c,{exact:!0,to:"/about",activeClassName:"active",className:"homepage-nav-links",onClick:i?u:null,children:"About"})}),Object(o.jsx)("li",{className:"homepage-nav-item",children:Object(o.jsx)(s.c,{exact:!0,to:"/login",activeClassName:"active",className:"homepage-nav-links",onClick:i?u:null,children:"SignIn"})}),Object(o.jsx)("li",{className:"homepage-nav-item",children:Object(o.jsx)(s.c,{exact:!0,to:"/register",activeClassName:"active",className:"homepage-nav-links",onClick:i?u:null,children:"SignUp"})})]}),Object(o.jsx)("div",{className:"homepage-nav-icon",onClick:u,children:Object(o.jsx)("i",{className:i?"fa fa-times":"fa fa-bars"})})]})})]})};a(227);t.default=function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{id:"home_fix",children:[Object(o.jsx)(f,{}),Object(o.jsx)(i,{}),Object(o.jsx)(m,{})]})})}},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(5),r=a(12),s=a(6),o=a(37),i=(a(219),a(111),a(21)),l=a(0),u=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.admin,c=e.socket,r=Object(s.b)();return Object(n.useEffect)((function(){r(Object(i.i)(t.token)),r(Object(i.g)(t.token)),r(Object(i.e)(t.token)),r(Object(i.f)(t.token)),r(Object(i.h)(t.token)),r(Object(i.d)({auth:t,socket:c}))}),[r,t.token,c,t]),Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",t.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})}),Object(l.jsxs)("div",{className:"main__cards",children:[Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-users fa-2x text-lightblue","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Users"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_users})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-comments fa-2x text-red","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Comments"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_comments})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-camera fa-2x text-yellow","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Posts"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_posts})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-ban fa-2x text-red","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Reported Posts"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_spam_posts})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-thumbs-up fa-2x text-green","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Likes"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_likes})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-check-circle fa-2x  text-green","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Active Users"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_active_users})]})]})]})]})})},d=a(44),j=a(2),b=a(16),p=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.alert,r=Object(s.b)(),i=Object(b.f)(),u={fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"},p=Object(n.useState)(u),m=Object(c.a)(p,2),O=m[0],f=m[1],h=O.fullname,x=O.username,v=O.email,g=O.password,y=O.cf_password,_=Object(n.useState)(!1),N=Object(c.a)(_,2),w=N[0],k=N[1],E=Object(n.useState)(!1),T=Object(c.a)(E,2),S=T[0],A=T[1];Object(n.useEffect)((function(){t.token&&i.push("/")}),[t.token,i]);var L=function(e){var t=e.target,a=t.name,n=t.value;f(Object(j.a)(Object(j.a)({},O),{},Object(d.a)({},a,n)))};return Object(l.jsx)("div",{className:"auth_page",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.role="admin",r(Object(o.g)(O)),f(u)},className:"inner-shadow",children:[Object(l.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"DatingInsta"}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:L,value:h,name:"fullname",style:{background:"".concat(a.fullname?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.fullname?a.fullname:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:L,value:x.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(a.username?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.username?a.username:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:L,value:v,name:"email",style:{background:"".concat(a.email?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.email?a.email:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(l.jsx)("div",{className:"pass",children:Object(l.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(l.jsx)("input",{type:w?"text":"password",className:"form-control",id:"password",onChange:L,value:g,name:"password",style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(l.jsx)("small",{onClick:function(){return k(!w)},children:w?"Hide":"Show"})]})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.password?a.password:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(l.jsx)("div",{className:"pass",children:Object(l.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(l.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",onChange:L,value:y,name:"cf_password",style:{background:"".concat(a.cf_password?"#fd2d6a14":""," ")}}),Object(l.jsx)("small",{onClick:function(){return A(!S)},children:S?"Hide":"Show"})]})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.cf_password?a.cf_password:""})]}),Object(l.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(l.jsxs)("label",{htmlFor:"male",children:["Male:",Object(l.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:L})]}),Object(l.jsxs)("label",{htmlFor:"female",children:["Female:",Object(l.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:L})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"})]})})},m=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Management"})]})}),Object(l.jsx)(p,{})]})})},O=(a(223),a(19)),f=a(61),h=a.n(f),x=function(e){var t=e.content,a=Object(s.c)((function(e){return e})),n=a.auth,c=a.socket,r=Object(s.b)();return Object(l.jsx)("div",{children:t.length>0?t.map((function(e){return Object(l.jsxs)("div",{className:"admin_content_display",children:[Object(l.jsxs)("span",{className:"spam_report",children:["Reports: ",e.reports.length]}),Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(O.a,{size:"big-avatar",src:e.user.avatar}),Object(l.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(l.jsx)("span",{className:"spam_username",children:e.user.username}),Object(l.jsx)("span",{className:"spam_email",children:e.user.email})]}),Object(l.jsxs)("span",{className:"spam_time text-muted",children:["~",h()(e.createdAt).fromNow()]})]}),Object(l.jsxs)("div",{className:"ms-auto d-flex flex-column ",style:{cursor:"pointer"},onClick:function(){return function(e){r(Object(i.b)({post:e,auth:n,socket:c}))}(e)},children:[Object(l.jsx)("span",{className:"material-icons",children:"delete"}),"Remove"]})]})})):Object(l.jsx)("h1",{children:"Nothing to display"})})},v=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.admin,c=Object(s.b)();return Object(n.useEffect)((function(){c(Object(i.c)(t.token))}),[c,t.token]),Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",t.user.username]}),Object(l.jsx)("p",{children:"Spam Dashboard"})]})}),Object(l.jsx)("div",{className:"spam",children:Object(l.jsx)(x,{content:a.spam_posts})})]})})},g=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsx)("div",{className:"main__container",children:Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})})})})},y=function(){var e=Object(s.b)(),t=Object(n.useState)(1),a=Object(c.a)(t,2),i=a[0],d=a[1];return Object(l.jsxs)(l.Fragment,{children:[1===i&&Object(l.jsx)(u,{}),2===i&&Object(l.jsx)(m,{}),3===i&&Object(l.jsx)(v,{}),4===i&&Object(l.jsx)(g,{}),Object(l.jsxs)("div",{className:"sidebar_responsive",id:"sidebar",children:[Object(l.jsxs)("div",{className:"sidebar__title",children:[Object(l.jsx)("div",{className:"sidebar__img",children:Object(l.jsx)("h1",{children:"DatingInsta"})}),Object(l.jsx)("i",{className:"fa fa-times",id:"sidebarIcon","aria-hidden":"true"})]}),Object(l.jsxs)("div",{className:"sidebar__menu",children:[Object(l.jsxs)("div",{className:"sidebar__link ".concat(1===i&&"active_menu_link"),onClick:function(){return d(1)},children:[Object(l.jsx)("i",{className:"fa fa-th"}),Object(l.jsx)("a",{href:"#",children:"Dashboard"})]}),Object(l.jsx)("h2",{children:"ADMIN CONTROL"}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(2===i&&"active_menu_link"),onClick:function(){return d(2)},children:[Object(l.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),Object(l.jsx)("a",{href:"#",children:"Admin Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(3===i&&"active_menu_link"),onClick:function(){return d(3)},children:[Object(l.jsx)("i",{className:"fa fa-ban"}),Object(l.jsx)("a",{href:"#",children:"Spams Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(4===i&&"active_menu_link"),onClick:function(){return d(4)},children:[Object(l.jsx)("i",{className:"fa fa-wrench"}),Object(l.jsx)("a",{href:"#",children:"Users Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link",children:[Object(l.jsx)("i",{className:"fa fa-archive"}),Object(l.jsx)("a",{href:"#",children:"xyz"})]}),Object(l.jsxs)("div",{className:"sidebar__link",children:[Object(l.jsx)("i",{className:"fa fa-handshake-o"}),Object(l.jsx)("a",{href:"#",children:"xyz"})]}),Object(l.jsxs)("div",{className:"sidebar__logout",children:[Object(l.jsx)("i",{className:"fa fa-power-off"}),Object(l.jsx)(r.b,{to:"/",onClick:function(){return e(Object(o.d)())},children:"Log out"})]})]})]})]})};t.default=function(){return Object(l.jsx)("div",{className:"container1",children:Object(l.jsx)(y,{})})}},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(6),r=a(3),s=a.n(r),o=a(2),i=a(8),l=a(5),u=a(102),d=a(17),j=a(56),b=a(10),p=a(13),m=a(0),O=function(){var e=Object(c.c)((function(e){return e})),t=e.homePosts,a=e.auth,r=e.theme,O=Object(c.b)(),f=Object(n.useState)(!1),h=Object(l.a)(f,2),x=h[0],v=h[1],g=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Object(b.b)("posts?limit=".concat(9*t.page),a.token);case 3:n=e.sent,O({type:p.a.GET_POSTS,payload:Object(o.a)(Object(o.a)({},n.data),{},{page:t.page+1})}),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"posts",children:[t.posts&&t.posts.map((function(e){return Object(m.jsx)(u.a,{post:e,theme:r},e._id)})),x&&Object(m.jsx)("img",{src:d.a,alt:"Loading...",className:"d-block mx-auto"}),Object(m.jsx)(j.a,{result:t.result,page:t.page,load:x,handleLoadMore:g})]})},f=a(19),h=a(4),x=function(){var e=Object(c.c)((function(e){return e})).auth,t=Object(c.b)();return Object(m.jsxs)("div",{className:"status my-3 d-flex",children:[Object(m.jsx)("div",{className:"outer-shadow big-avatar-cover",children:Object(m.jsx)(f.a,{src:e.user.avatar,size:"big-avatar",className:""})}),Object(m.jsx)("button",{onClick:function(){return t({type:h.c.STATUS,payload:!0})},className:"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill ",style:{marginLeft:"7px"},children:Object(m.jsxs)("span",{style:{textShadow:"var(--outer-shadow)"},children:[e.user.username,", What's on your mind?"]})})]})},v=a(36),g=a(64),y=a(59),_=function(){var e=Object(c.c)((function(e){return e})),t=e.auth,a=e.suggestions,n=Object(c.b)();return Object(m.jsxs)("div",{className:"my-4",children:[Object(m.jsx)("div",{className:"inner-shadow",style:{borderRadius:"5px"},children:Object(m.jsx)(v.a,{user:t.user})}),Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-2",children:[Object(m.jsx)("h5",{className:"color-c1",style:{textShadow:"var(--outer-shadow)"},children:"Suggestions"}),!a.loading&&Object(m.jsx)("div",{className:"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center",children:Object(m.jsx)("i",{className:"fas fa-redo ",style:{cursor:"pointer"},onClick:function(){return n(Object(y.b)(t.token))}})})]}),a.loading?Object(m.jsx)("img",{src:d.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(m.jsx)("div",{className:"suggestions",children:a.users.map((function(e){return Object(m.jsx)("div",{className:" mb-3 inner-shadow",style:{borderRadius:"5px"},children:Object(m.jsx)(v.a,{user:e,children:Object(m.jsx)(g.a,{user:e},e._id)},e._id)},e._id)}))})]})};t.default=function(){var e=Object(c.c)((function(e){return e})).homePosts;return Object(m.jsxs)("div",{className:"home row mx-0",children:[Object(m.jsxs)("div",{className:"col-md-8",children:[Object(m.jsx)(x,{}),e.loading?Object(m.jsx)("img",{src:d.a,alt:"loading",className:"d-block mx-auto"}):0===e.result?Object(m.jsx)("h2",{className:"text-center",children:"No Post"}):Object(m.jsx)(O,{})]}),Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)(_,{})})]})}},,,function(e,t,a){"use strict";a(1);var n=a(6),c=a(0);t.a=function(e){var t=e.isLike,a=(e.isDisLike,e.handleLike),r=e.handleUnLike,s=(e.handleDisLike,e.handleUnDisLike,Object(n.c)((function(e){return e})).theme);return Object(c.jsx)("div",{children:t?Object(c.jsx)("i",{className:"fas fa-thumbs-up text-info",style:{filter:s?"invert(1)":"invert(0)"},onClick:r}):Object(c.jsx)("i",{className:"far fa-thumbs-up",onClick:a})})}},function(e,t,a){"use strict";var n=a(2),c=(a(1),a(19)),r=a(16),s=a(12),o=a(6),i=a(61),l=a.n(i),u=a(48),d=a(4),j=a(13),b=a(0);t.a=function(e){var t=e.post,a=Object(o.c)((function(e){return e})),i=a.auth,p=a.socket,m=Object(o.b)(),O=Object(r.f)();return Object(b.jsxs)("div",{className:"card_header",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("div",{className:"outer-shadow big-avatar-cover me-2",children:Object(b.jsx)(c.a,{src:t.user.avatar,size:"big-avatar"})}),Object(b.jsxs)("div",{className:"card_name",children:[Object(b.jsx)("h6",{className:"m-0",children:Object(b.jsx)(s.b,{className:"text-dark",to:"/profile/".concat(t.user._id),children:t.user.username})}),Object(b.jsx)("small",{className:"text-muted",children:l()(t.createdAt).fromNow()})]})]}),Object(b.jsxs)("div",{className:"nav-item dropdown",children:[Object(b.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_horiz"}),Object(b.jsxs)("div",{className:"dropdown-menu",children:[i.user._id===t.user._id&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){m({type:d.c.STATUS,payload:Object(n.a)(Object(n.a)({},t),{},{onEdit:!0})})},children:[Object(b.jsx)("span",{className:"material-icons text-info",children:" create"}),"Edit Post"]}),Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){if(window.confirm("Are you sure?"))return m(Object(j.c)({post:t,auth:i,socket:p})),O.push("/")},children:[Object(b.jsx)("span",{className:"material-icons text-red",children:" delete"}),"Delete Post"]})]}),Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){navigator.clipboard.writeText("".concat(u.a,"/post/").concat(t._id))},children:[Object(b.jsx)("span",{className:"material-icons text-primary",children:"content_copy"}),"Copy Link"]}),Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){m(Object(j.h)({post:t,auth:i}))},children:[Object(b.jsx)("span",{className:"material-icons text-yellow",children:"report_problem"}),"Report this post"]})]})]})]})}},function(e,t,a){"use strict";a(1);var n=a(19),c=a(29),r=a(0);t.a=function(e){var t=e.msg,a=e.theme;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"chat_title",children:[Object(r.jsx)(n.a,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",size:"small-avatar"}),Object(r.jsx)("span",{children:"Ananom User"})]}),t.text&&Object(r.jsx)("div",{className:"chat_text",style:{filter:a?"invert(1)":"invert(0)"},children:t.text}),t.media&&t.media.map((function(e,t){return Object(r.jsx)("div",{style:{maxWidth:"380px",maxHeight:"680px"},children:e.url.match(/video/i)?Object(c.b)(e.url,a):Object(c.a)(e.url,a)},t)})),Object(r.jsx)("div",{className:"chat_time",children:new Date(t.createdAt).toLocaleString()})]})}},function(e,t,a){"use strict";t.a=a.p+"static/media/Logo1.7f4df494.png"},function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),l=a(16),u=a(4),d=a(32),j=a(10),b=a(36),p=a(0);t.a=function(){var e=Object(i.c)((function(e){return e})),t=e.auth,a=e.message,n=Object(i.b)(),m=Object(l.f)(),O=Object(l.h)().id,f=Object(o.useRef)(),h=Object(o.useState)(0),x=Object(s.a)(h,2),v=x[0],g=x[1],y=Object(o.useState)(""),_=Object(s.a)(y,2),N=_[0],w=_[1],k=Object(o.useState)([]),E=Object(s.a)(k,2),T=E[0],S=E[1],A=function(){var e=Object(r.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),N){e.next=3;break}return e.abrupt("return",S([]));case 3:return e.prev=3,e.next=6,Object(j.b)("search?username=".concat(N),t.token);case 6:r=e.sent,S(r.data.users),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n({type:u.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return w(""),S([]),n(Object(d.c)({user:e,message:a})),m.push("/message/".concat(e._id))},C=function(e){return O===e._id?"active":""};return Object(o.useEffect)((function(){a.firstLoad||n(Object(d.d)({auth:t}))}),[n,t,a.firstLoad]),Object(o.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&g((function(e){return e+1}))}),{threshold:.1}).observe(f.current)}),[g]),Object(o.useEffect)((function(){a.resultUsers>=9*(v-1)&&v>1&&n(Object(d.d)({auth:t,page:v}))}),[a.resultUsers,v,t,n]),Object(o.useEffect)((function(){n(Object(d.d)({auth:t,page:v}))}),[n]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{className:"message_header",onSubmit:A,children:[Object(p.jsx)("input",{type:"text",value:N,onChange:function(e){return w(e.target.value)},placeholder:"search..."}),Object(p.jsx)("button",{style:{display:"none"},type:"submit",id:"search",children:"Search"})]}),Object(p.jsxs)("div",{className:"message_chat_list",children:[0!==T.length?Object(p.jsx)(p.Fragment,{children:T.map((function(e){return Object(p.jsx)("div",{className:"message_user ".concat(C(e)),onClick:function(){return L(e)},children:Object(p.jsx)(b.a,{user:e})},e._id)}))}):Object(p.jsx)(p.Fragment,{children:a.users.map((function(e){return Object(p.jsx)("div",{cclassName:"message_user ".concat(C(e)),onClick:function(){return L(e)},children:Object(p.jsx)(b.a,{user:e,msg:!0,children:Object(p.jsx)("i",{className:"fas fa-circle"})})},e._id)}))}),Object(p.jsx)("button",{style:{opacity:0},ref:f,children:"Load more.."})]})]})}},function(e,t,a){"use strict";a(3),a(8);var n=a(5),c=a(1),r=a(6),s=a(16),o=a(41),i=(a(113),a(114)),l=a(0);t.a=function(){var e=Object(r.c)((function(e){return e})),t=e.auth,a=(e.message,e.ananomMessages),u=Object(r.b)(),d=Object(s.f)(),j=Object(c.useRef)(),b=Object(c.useState)(0),p=Object(n.a)(b,2),m=p[0],O=p[1];return Object(c.useEffect)((function(){a.firstLoad||u(Object(o.c)({auth:t}))}),[u,t,a.firstLoad]),Object(c.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&O((function(e){return e+1}))}),{threshold:.1}).observe(j.current)}),[O]),Object(c.useEffect)((function(){a.resultUsers>=9*(m-1)&&m>1&&u(Object(o.c)({auth:t,page:m}))}),[a.resultUsers,m,t,u]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{className:"message_header",children:[Object(l.jsx)("input",{type:"text",placeholder:"search..."}),Object(l.jsx)("button",{style:{display:"none"},type:"submit",id:"search",children:"Search"})]}),Object(l.jsxs)("div",{className:"message_chat_list",children:[Object(l.jsx)(l.Fragment,{}),Object(l.jsxs)(l.Fragment,{children:[console.log(a.conversation),a.conversation.map((function(e){return Object(l.jsx)("div",{onClick:function(){return function(e){return d.push("/savemessage/".concat(e.id))}(e)},children:Object(l.jsx)(i.a,{conversation:e,children:Object(l.jsx)("i",{className:"fas fa-circle"})})},e.id)}))]}),Object(l.jsx)("button",{style:{opacity:0},ref:j,children:"Load more.."})]})]})}},function(e,t,a){"use strict";var n=a(1),c=a(104),r=a(103),s=a(97),o=a(5),i=a(2),l=a(3),u=a.n(l),d=a(8),j=a(19),b=a(12),p=a(6),m=a(61),O=a.n(m),f=a(96),h=a(11),x=a(4),v=a(13),g=a(14),y=a(10),_=function(e){var t=e.comment,a=e.post,n=e.auth;return function(){var e=Object(d.a)(u.a.mark((function e(c){var r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(Object(i.a)({},t),{},{likes:[].concat(Object(h.a)(t.likes),[n.user])}),s=Object(x.b)(a.comments,t._id,r),o=Object(i.a)(Object(i.a)({},a),{},{comments:s}),c({type:v.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(y.c)("comment/".concat(t._id,"/like"),null,n.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){var t=e.comment,a=e.post,n=e.auth;return function(){var e=Object(d.a)(u.a.mark((function e(c){var r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(Object(i.a)({},t),{},{likes:Object(x.a)(t.likes,n.user._id)}),s=Object(x.b)(a.comments,t._id,r),o=Object(i.a)(Object(i.a)({},a),{},{comments:s}),c({type:v.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(y.c)("comment/".concat(t._id,"/unlike"),null,n.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},w=a(0),k=function(e){var t=e.post,a=e.comment,n=e.setOnEdit,c=Object(p.c)((function(e){return e})),r=c.auth,s=c.socket,o=Object(p.b)(),l=function(){t.user._id!==r.user._id&&a.user._id!==r.user._id||o(function(e){var t=e.post,a=e.comment,n=e.auth,c=e.socket;return function(){var e=Object(d.a)(u.a.mark((function e(r){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[].concat(Object(h.a)(t.comments.filter((function(e){return e.reply===a._id}))),[a]),o=Object(i.a)(Object(i.a)({},t),{},{comments:t.comments.filter((function(e){return!s.find((function(t){return e._id===t._id}))}))}),r({type:v.a.UPDATE_POST,payload:o}),c.emit("deleteComment",o);try{s.forEach((function(e){Object(y.a)("comment/".concat(e._id),n.token);var a={id:e._id,text:e.reply?"mentioned you in a comment.":"commented on your post.",recipients:e.reply?[e.tag._id]:[t.user._id],url:"/post/".concat(t._id)};r(Object(g.f)({msg:a,auth:n,socket:c}))}))}catch(l){r({type:x.c.ALERT,payload:{error:l.response.data.msg}})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({post:t,auth:r,comment:a,socket:s}))},j=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"dropdown-item",onClick:function(){return n(!0)},children:[Object(w.jsx)("span",{className:"material-icons text-primary",children:"create"})," Edit"]}),Object(w.jsxs)("div",{className:"dropdown-item",onClick:l,children:[Object(w.jsx)("span",{className:"material-icons text-red",children:"delete_outline"})," Delete"]})]})};return Object(w.jsx)("div",{className:"menu",children:(t.user._id===r.user._id||a.user._id===r.user._id)&&Object(w.jsxs)("div",{className:"nav-item dropdown",children:[Object(w.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_vert"}),Object(w.jsx)("div",{className:"dropdown-menu","aria-labelledby":"moreLink",children:t.user._id===r.user._id?a.user._id===r.user._id?j():Object(w.jsxs)("div",{className:"dropdown-item",onClick:l,children:[Object(w.jsx)("span",{className:"material-icons",children:"delete_outline"})," Delete"]}):a.user._id===r.user._id&&j()})]})})},E=a(63),T=function(e){var t=e.children,a=e.post,c=e.onReply,r=e.setOnReply,s=Object(n.useState)(""),l=Object(o.a)(s,2),j=l[0],b=l[1],m=Object(p.c)((function(e){return e})),O=m.auth,f=m.socket,_=m.theme,N=Object(p.b)();return Object(w.jsxs)("form",{className:"card-footer comment_input",onSubmit:function(e){if(e.preventDefault(),!j.trim())return r?r(!1):void 0;b("");var t={content:j,likes:[],user:O.user,createdAt:(new Date).toISOString(),reply:c&&c.commentId,tag:c&&c.user};return N(function(e){var t=e.post,a=e.newComment,n=e.auth,c=e.socket;return function(){var e=Object(d.a)(u.a.mark((function e(r){var s,o,l,d,j,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(i.a)(Object(i.a)({},t),{},{comments:[].concat(Object(h.a)(t.comments),[a])}),r({type:v.a.UPDATE_POST,payload:s}),e.prev=2,o=Object(i.a)(Object(i.a)({},a),{},{postId:t._id,postUserId:t.user._id}),e.next=6,Object(y.d)("comment",o,n.token);case 6:l=e.sent,d=Object(i.a)(Object(i.a)({},l.data.newComment),{},{user:n.user}),j=Object(i.a)(Object(i.a)({},t),{},{comments:[].concat(Object(h.a)(t.comments),[d])}),r({type:v.a.UPDATE_POST,payload:j}),c.emit("createComment",j),b={id:l.data.newComment._id,text:a.reply?"mentioned you in a comment.":"commented on your post.",recipients:a.reply?[a.tag._id]:[t.user._id],url:"/post/".concat(t._id),content:a.reply?a.content:t.content,image:t.images[0].url},r(Object(g.b)({msg:b,auth:n,socket:c})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()}({post:a,newComment:t,auth:O,socket:f})),r?r(!1):void 0},children:[t,Object(w.jsx)("input",{type:"text",placeholder:"Add comments...",value:j,onChange:function(e){return b(e.target.value)},style:{filter:_?"invert(1)":"invert(0)",color:_?"white":"#111",background:_?"rgb(0,0,0,0.3)":""}}),Object(w.jsx)(E.a,{setContent:b,content:j,theme:_}),Object(w.jsx)("button",{type:"submit",className:"postBtn",children:"Post"})]})},S=function(e){var t=e.children,a=e.comment,c=e.post,r=e.commentId,s=Object(p.c)((function(e){return e})),l=s.auth,m=s.theme,h=Object(p.b)(),g=Object(n.useState)(""),E=Object(o.a)(g,2),S=E[0],A=E[1],L=Object(n.useState)(!1),C=Object(o.a)(L,2),R=C[0],P=C[1],D=Object(n.useState)(!1),I=Object(o.a)(D,2),U=I[0],G=I[1],F=Object(n.useState)(!1),M=Object(o.a)(F,2),z=M[0],H=M[1],Y=Object(n.useState)(!1),q=Object(o.a)(Y,2),W=q[0],V=q[1],Q=Object(n.useState)(!1),B=Object(o.a)(Q,2),K=B[0],J=B[1];Object(n.useEffect)((function(){A(a.content),G(!1),J(!1),a.likes.find((function(e){return e._id===l.user._id}))&&G(!0)}),[a,l.user._id]);var X=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return G(!0),H(!0),e.next=6,h(_({comment:a,post:c,auth:l}));case 6:H(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return G(!1),H(!0),e.next=6,h(N({comment:a,post:c,auth:l}));case 6:H(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$={opacity:a._id?1:.5,pointerEvents:a._id?"inherit":"none"};return Object(w.jsxs)("div",{className:"comment_card mt-2",style:$,children:[Object(w.jsxs)(b.b,{to:"/profile/".concat(a.user._id),className:"d-flex text-dark",children:[Object(w.jsx)(j.a,{src:a.user.avatar,size:"small-avatar"}),Object(w.jsx)("h6",{className:"mx-1",children:a.user.username})]}),Object(w.jsxs)("div",{className:"comment_content",children:[Object(w.jsxs)("div",{className:"flex-fill",style:{filter:m?"invert(1)":"invert(0)",color:m?"white":"#111"},children:[W?Object(w.jsx)("textarea",{rows:"5",value:S,onChange:function(e){return A(e.target.value)}}):Object(w.jsxs)("div",{children:[a.tag&&a.tag._id!==a.user._id&&Object(w.jsxs)(b.b,{to:"/profile/".concat(a.tag._id),style:{textDecoration:"none"},className:"me-1",children:["@",a.tag.username]}),Object(w.jsx)("span",{children:S.length<100?S:R?S+" ":S.slice(0,100)+"..."}),S.length>100&&Object(w.jsx)("span",{className:"readMore",onClick:function(){return P(!R)},children:R?"Hide ":"Read more"})]}),Object(w.jsxs)("div",{style:{cursor:"pointer"},children:[Object(w.jsx)("small",{className:"text-muted",style:{marginRight:"9px"},children:O()(a.createdAt).fromNow()}),Object(w.jsxs)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:[a.likes.length," likes"]}),W?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("small",{onClick:function(){a.content!==S?(h(function(e){var t=e.comment,a=e.post,n=e.content,c=e.auth;return function(){var e=Object(d.a)(u.a.mark((function e(r){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(x.b)(a.comments,t._id,Object(i.a)(Object(i.a)({},t),{},{content:n})),o=Object(i.a)(Object(i.a)({},a),{},{comments:s}),r({type:v.a.UPDATE_POST,payload:o}),e.prev=3,e.next=6,Object(y.c)("comment/".concat(t._id),{content:n},c.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()}({comment:a,post:c,content:S,auth:l})),V(!1)):V(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"update"}),Object(w.jsx)("small",{onClick:function(){return V(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"cancel"})]}):Object(w.jsx)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",onClick:function(){if(K)return J(!1);J(Object(i.a)(Object(i.a)({},a),{},{commentId:r}))},children:K?"cancel":"reply"})]})]}),Object(w.jsxs)("div",{className:"d-flex align-items-center ",style:{cursor:"pointer"},children:[Object(w.jsx)(k,{post:c,comment:a,setOnEdit:V}),Object(w.jsx)(f.a,{isLike:U,handleLike:X,handleUnLike:Z})]})]}),K&&Object(w.jsx)(T,{post:c,onReply:K,setOnReply:J,children:Object(w.jsxs)(b.b,{style:{textDecoration:"none"},className:"mr-1",to:"/profile/".concat(K.user._id),children:["@",K.user.username]})}),t]})},A=function(e){var t=e.comment,a=e.post,c=e.replyCm,r=Object(n.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(n.useState)(1),d=Object(o.a)(u,2),j=d[0],b=d[1];return Object(n.useEffect)((function(){l(c.slice(c.length-j))}),[c,j]),Object(w.jsx)("div",{className:"comment_display",children:Object(w.jsx)(S,{post:a,comment:t,commentId:t._id,children:Object(w.jsxs)("div",{className:"ps-4",children:[i.map((function(e,n){return e.reply&&Object(w.jsx)(S,{comment:e,post:a,commentId:t._id},n)})),c.length-j>0?Object(w.jsx)("div",{onClick:function(){return b(j+10)},style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):c.length>1&&Object(w.jsx)("div",{onClick:function(){return b(1)},style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})})})},L=function(e){var t=e.post,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(2),b=Object(o.a)(j,2),p=b[0],m=b[1],O=Object(n.useState)([]),f=Object(o.a)(O,2),h=f[0],x=f[1];return Object(n.useEffect)((function(){var e=t.comments.filter((function(e){return!e.reply}));s(e),d(e.slice(e.length-p))}),[t.comments,p]),Object(n.useEffect)((function(){var e=t.comments.filter((function(e){return e.reply}));x(e)}),[t.comments]),Object(w.jsxs)("div",{className:"comments",children:[u.map((function(e,a){return Object(w.jsx)(A,{comment:e,post:t,replyCm:h.filter((function(t){return t.reply===e._id}))},a)})),r.length-p>0?Object(w.jsx)("div",{onClick:function(){return m(p+10)},className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):r.length>2&&Object(w.jsx)("div",{onClick:function(){return m(2)},className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})};t.a=function(e){var t=e.post,a=e.theme;return Object(w.jsxs)("div",{className:"card my-3 outer-shadow",children:[Object(w.jsx)(s.a,{post:t}),Object(w.jsx)(c.a,{post:t,theme:a}),Object(w.jsx)(r.a,{post:t}),Object(w.jsx)(L,{post:t}),Object(w.jsx)(T,{post:t})]})}},function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(12),l=a(96),u=a(6),d=a(0),j=function(e){e.isLike;var t=e.isDisLike,a=(e.handleLike,e.handleUnDisLike),n=e.handleDisLike,c=(e.handleUnLike,Object(u.c)((function(e){return e})).theme);return console.log(t),Object(d.jsx)("div",{children:t?Object(d.jsx)("i",{className:"fas fa-thumbs-down text-info",style:{filter:c?"invert(1)":"invert(0)"},onClick:a}):Object(d.jsx)("i",{className:"far fa-thumbs-down",onClick:n})})},b=a(13),p=a(242),m=a(243),O=a(244),f=a(245),h=a(246),x=a(247),v=a(248),g=a(249),y=a(250),_=a(251),N=a(252),w=a(253),k=a(254),E=a(255),T=a(256),S=a(257),A=function(e){var t=e.url,a=e.theme,n=e.setIsShare;return Object(d.jsx)("div",{className:"share_modal",children:Object(d.jsxs)("div",{className:"share_modal-container",children:[Object(d.jsxs)("div",{className:"share_modal-header",children:[Object(d.jsx)("span",{children:"Share to..."}),Object(d.jsx)("span",{onClick:function(){return n(!1)},children:"\xd7"})]}),Object(d.jsxs)("div",{className:" share_modal-body",style:{filter:a?"invert(1)":"invert(0)"},children:[Object(d.jsx)(p.a,{url:t,children:Object(d.jsx)(m.a,{round:!0,size:32})}),Object(d.jsx)(O.a,{url:t,children:Object(d.jsx)(f.a,{round:!0,size:32})}),Object(d.jsx)(h.a,{url:t,children:Object(d.jsx)(x.a,{round:!0,size:32})}),Object(d.jsx)(v.a,{url:t,children:Object(d.jsx)(g.a,{round:!0,size:32})}),Object(d.jsx)(y.a,{url:t,children:Object(d.jsx)(_.a,{round:!0,size:32})}),Object(d.jsx)(N.a,{url:t,children:Object(d.jsx)(w.a,{round:!0,size:32})}),Object(d.jsx)(k.a,{url:t,children:Object(d.jsx)(E.a,{round:!0,size:32})}),Object(d.jsx)(T.a,{url:t,children:Object(d.jsx)(S.a,{round:!0,size:32})})]})]})})},L=a(48);t.a=function(e){var t=e.post,a=Object(o.useState)(!1),n=Object(s.a)(a,2),p=n[0],m=n[1],O=Object(o.useState)(!1),f=Object(s.a)(O,2),h=f[0],x=f[1],v=Object(o.useState)(!1),g=Object(s.a)(v,2),y=g[0],_=g[1],N=Object(o.useState)(!1),w=Object(s.a)(N,2),k=w[0],E=w[1],T=Object(o.useState)(!1),S=Object(s.a)(T,2),C=S[0],R=S[1],P=Object(o.useState)(!1),D=Object(s.a)(P,2),I=D[0],U=D[1],G=Object(u.b)(),F=Object(u.c)((function(e){return e})),M=F.auth,z=F.theme,H=F.socket;Object(o.useEffect)((function(){t.likes.find((function(e){return e._id===M.user._id}))?m(!0):m(!1)}),[t.likes,M.user._id]),Object(o.useEffect)((function(){console.log(t.dislikes),t.dislikes.find((function(e){return e._id===M.user._id}))?x(!0):x(!1)}),[M.user._id,t.dislikes]);var Y=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.g)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.k)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.d)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.j)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return R(!0),e.next=5,G(Object(b.i)({post:t,auth:M}));case 5:R(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return R(!0),e.next=5,G(Object(b.l)({post:t,auth:M}));case 5:R(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){M.user.saved.find((function(e){return e===t._id}))?_(!0):_(!1)}),[t._id,M.user.saved]),Object(d.jsxs)("div",{className:"card_footer",children:[Object(d.jsxs)("div",{className:"card_icon_menu",children:[Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(l.a,{isLike:p,isDisLike:h,handleLike:Y,handleUnLike:q,handleDisLike:W,handleUnDisLike:V}),Object(d.jsx)(j,{isDisLike:h,isLike:p,handleLike:Y,handleUnLike:q,handleDisLike:W,handleUnDisLike:V}),Object(d.jsx)(i.b,{to:"/post/".concat(t._id),className:"text-dark",children:Object(d.jsx)("i",{className:"far fa-comments"})}),Object(d.jsx)("i",{className:"fa fa-share",alt:"Send",onClick:function(){return U(!I)}})]}),y?Object(d.jsx)("i",{className:"fas text-info fa-bookmark",onClick:B}):Object(d.jsx)("i",{className:"far fa-bookmark",onClick:Q})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(d.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.likes.length," likes"]}),Object(d.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.dislikes.length," dislikes"]}),Object(d.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.comments.length," comments"]})]}),I&&Object(d.jsx)(A,{url:"".concat(L.a,"/post/").concat(t._id),theme:z,setIsShare:U})]})}},function(e,t,a){"use strict";var n=a(5),c=a(1),r=a(6),s=a(0),o=function(e){var t=e.images,a=e.id,n=Object(r.c)((function(e){return e})).theme,c=function(e){if(0===e)return"active"};return Object(s.jsxs)("div",{id:"image".concat(a),className:"carousel slide","data-bs-ride":"carousel",children:[Object(s.jsx)("div",{className:"carousel-indicators",children:t.map((function(e,t){return Object(s.jsx)("button",{type:"button","data-bs-target":"#image".concat(a),"data-bs-slide-to":t,className:c(t),"aria-current":"true"},t)}))}),Object(s.jsx)("div",{className:"carousel-inner",children:t.map((function(e,t){return Object(s.jsx)("div",{className:"carousel-item ".concat(c(t)),children:e.url.match(/video/i)?Object(s.jsx)("video",{controls:!0,style:{filter:n?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url}):Object(s.jsx)("img",{style:{filter:n?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url})},t)}))}),Object(s.jsxs)("button",{style:{width:"5%"},className:"carousel-control-prev",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(s.jsxs)("button",{style:{width:"5%"},className:"carousel-control-next",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})};t.a=function(e){var t=e.post,a=e.theme,r=Object(c.useState)(),i=Object(n.a)(r,2),l=i[0],u=i[1];return Object(s.jsxs)("div",{className:"card_body",children:[Object(s.jsxs)("div",{className:"card_body-content",style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111"},children:[Object(s.jsx)("span",{children:t.content.length<60?t.content:l?t.content+" ":t.content.slice(0,60)+"  ..."}),t.content.length>60&&Object(s.jsx)("span",{className:"readMore",onClick:function(){return u(!l)},children:l?"Hide Content":"Read More"})]}),t.images.length>0&&Object(s.jsx)(o,{images:t.images,id:t._id})]})}},,,,,,,function(e,t,a){},,function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),l=a(16),u=a(67),d=a(98),j=(a(114),a(0));t.a=function(e){console.log(e);var t=Object(o.useState)([]),a=Object(s.a)(t,2),n=a[0],b=a[1],p=Object(i.c)((function(e){return e})),m=p.auth,O=(p.message,p.ananomMessages),f=p.theme,h=Object(l.h)().id;return console.log(n),Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.conversation.map((function(e){console.log(e),e.id===h&&(console.log(e),b(e.messages))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),console.log(n),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"message_header"}),Object(j.jsx)("div",{className:"chat_container",style:{height:"calc(100% - 180px)"},children:n.map((function(e,t){return Object(j.jsxs)("div",{children:[e.sender!==m.user._id&&Object(j.jsx)("div",{className:"chat_row other_message",children:Object(j.jsx)(d.a,{msg:e,theme:f})}),e.sender===m.user._id&&Object(j.jsx)("div",{className:"chat_row you_message",children:Object(j.jsx)(u.a,{user:m.user,msg:e,theme:f})})]},t)}))})]})}},function(e,t,a){"use strict";var n=a(5),c=a(1),r=a(6),s=(a(10),a(49)),o=(a(28),a(19)),i=a(12),l=a(0);t.a=function(e){var t=e.ananomId,a=e.conversation,u=Object(c.useState)(!1),d=Object(n.a)(u,2),j=d[0],b=d[1],p=Object(c.useState)(!1),m=Object(n.a)(p,2),O=(m[0],m[1]),f=Object(c.useState)(!1),h=Object(n.a)(f,2),x=h[0],v=h[1],g=Object(c.useState)(!1),y=Object(n.a)(g,2),_=y[0],N=y[1],w=Object(r.c)((function(e){return e})).auth,k=Object(r.b)();Object(c.useEffect)((function(){a.matchRequest&&b(!0),w.user.matches.forEach((function(e){e===t&&O(!0)})),a.matchRequest&&(w.user._id===a.matchRequest.sender?N(!0):w.user._id===a.matchRequest.receiver&&v(!0))}),[]);return Object(l.jsx)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center",children:Object(l.jsx)(i.b,{to:"/",className:"d-flex align-items-center",style:{textDecoration:"none"},children:Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(l.jsx)(o.a,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",size:"big-avatar"})}),Object(l.jsx)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:Object(l.jsx)("span",{className:"d-block color-c2",children:"Ananomous User"})}),_&&Object(l.jsx)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:Object(l.jsx)("span",{children:"Pending"})}),j&&x&&Object(l.jsxs)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:[Object(l.jsx)("button",{onClick:function(){O(!0),k(Object(s.b)({auth:w,id:a.matchReuest._id}))},children:"Accept"}),Object(l.jsx)("button",{onClick:function(){b(!0),k(Object(s.d)({auth:w,id:a.matchReuest._id}))},children:"Reject"})]})]})})})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),l=a(69),u=a(17),d=a(74),j=a(56),b=a(10),p=a(0);t.default=function(){var e=Object(i.c)((function(e){return e})),t=e.auth,a=e.discover,n=Object(i.b)(),m=Object(o.useState)(!1),O=Object(s.a)(m,2),f=O[0],h=O[1];Object(o.useEffect)((function(){a.firstLoad||n(Object(l.b)(t.token))}),[n,t.token,a.firstLoad]);var x=function(){var e=Object(r.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Object(b.b)("post_discover?num=".concat(8*a.page),t.token);case 3:r=e.sent,n({type:l.a.UPDATE_POSTS,payload:r.data}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[a.loading?Object(p.jsx)("img",{src:u.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(p.jsx)(d.a,{posts:a.posts,result:a.result}),f&&Object(p.jsx)("img",{src:u.a,alt:"Loading...",className:"d-block mx-auto"}),!a.loading&&Object(p.jsx)(j.a,{result:a.result,page:a.page,load:f,handleLoadMore:x})]})}},function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(1),r=a(16),s=a(6),o=a(13),i=a(17),l=a(102),u=a(0);t.default=function(){var e=Object(r.h)().id,t=Object(c.useState)([]),a=Object(n.a)(t,2),d=a[0],j=a[1],b=Object(s.c)((function(e){return e})),p=b.auth,m=b.detailPost,O=Object(s.b)();return Object(c.useEffect)((function(){if(O(Object(o.e)({detailPost:m,id:e,auth:p})),m.length>0){var t=m.filter((function(t){return t._id===e}));j(t)}}),[m,O,e,p]),Object(u.jsxs)("div",{className:"posts",children:[0===d.length&&Object(u.jsx)("img",{src:i.a,alt:"Loading...",className:"d-block mx-auto my-4"}),d.map((function(e){return Object(u.jsx)(l.a,{post:e},e._id)}))]})}},function(e,t,a){"use strict";a.r(t);a(1);var n=a(101),c=a(113),r=a(0);t.default=function(){return Object(r.jsxs)("div",{className:"message d-flex",children:[Object(r.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(r.jsx)(n.a,{})}),Object(r.jsx)("div",{className:"col-md-8 px-0",children:Object(r.jsx)(c.a,{})})]})}},function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(1),r=a(16),s=a(19),o=a(44),i=a(2),l=a(6),u=a(4),d=a(28),j=a(45),b=a(0),p=function(e){var t=e.setOnEdit,a=Object(c.useState)({fullname:"",mobile:"",address:"",website:"",story:"",gender:""}),r=Object(n.a)(a,2),s=r[0],p=r[1],m=s.fullname,O=s.mobile,f=s.address,h=s.website,x=s.story,v=s.gender,g=Object(c.useState)(""),y=Object(n.a)(g,2),_=y[0],N=y[1],w=Object(l.c)((function(e){return e})),k=w.auth,E=w.theme,T=Object(l.b)();Object(c.useEffect)((function(){p(k.user)}),[k.user]);var S=function(e){var t=e.target,a=t.name,n=t.value;p(Object(i.a)(Object(i.a)({},s),{},Object(o.a)({},a,n)))};return Object(b.jsxs)("div",{className:"edit_profile",children:[Object(b.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T(Object(d.e)({userData:s,avatar:_,auth:k}))},children:[Object(b.jsxs)("div",{className:"info_avatar",children:[Object(b.jsx)("img",{alt:"profile",src:_?URL.createObjectURL(_):k.user.avatar,style:{filter:E?"invert(1)":"invert(0)"}}),Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"fas fa-camera"}),Object(b.jsx)("p",{children:"Change"}),Object(b.jsx)("input",{type:"file",name:"file",id:"file_up",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=Object(j.a)(t);if(a)return T({type:u.c.ALERT,payload:{error:a}});N(t)}})]})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),Object(b.jsxs)("div",{className:"position-relative",children:[Object(b.jsx)("input",{type:"text",className:"form-control",id:"fullname",name:"fullname",value:m,onChange:S}),Object(b.jsxs)("small",{className:"text-danger position-absolute",style:{top:"50%",right:"5px",transform:"translateY(-50%)"},children:[m.length,"/25"]})]})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"mobile",name:"mobile",value:O,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"address",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:f,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"website",children:"Website"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"website",name:"website",value:h,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"story",children:"Story"}),Object(b.jsx)("textarea",{cols:"30",rows:"4",type:"text",className:"form-control",id:"story",name:"story",value:x,onChange:S}),Object(b.jsxs)("small",{className:"text-danger d-block text-right",children:[x.length,"/200"]})]}),Object(b.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(b.jsx)("div",{className:"input-group-prepend px-0 mb-4",children:Object(b.jsxs)("select",{className:"custom-select text-capitalize",name:"gender",id:"gender",onChange:S,value:v,children:[Object(b.jsx)("option",{value:"male",children:"Male"}),Object(b.jsx)("option",{value:"female",children:"Female"})]})}),Object(b.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"Save"})]})]})},m=a(64),O=a(36),f=function(e){var t=e.users,a=e.setShowFollowing,n=Object(l.c)((function(e){return e})).auth;return Object(b.jsx)("div",{className:"follow",children:Object(b.jsxs)("div",{className:"follow_box",children:[Object(b.jsx)("h5",{className:"text-center follow_box-heading",children:"Following"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)(O.a,{setShowFollowing:a,user:e,children:n.user._id!==e._id&&Object(b.jsx)(m.a,{user:e})},e._id)})),Object(b.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})},h=function(e){var t=e.users,a=e.setShowFollowers,n=Object(l.c)((function(e){return e})).auth;return Object(b.jsx)("div",{className:"follow",children:Object(b.jsxs)("div",{className:"follow_box",children:[Object(b.jsx)("h5",{className:"text-center follow_box-heading",children:"Followers"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)(O.a,{setShowFollowers:a,user:e,children:n.user._id!==e._id&&Object(b.jsx)(m.a,{user:e})},e._id)})),Object(b.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})},x=a(37),v=function(e){var t=e.setChangePassword,a=Object(c.useState)(""),r=Object(n.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(""),u=Object(n.a)(i,2),d=u[0],j=u[1],p=Object(c.useState)(""),m=Object(n.a)(p,2),O=m[0],f=m[1],h=Object(l.c)((function(e){return e})),v=h.auth,g=(h.theme,Object(l.b)());return Object(b.jsxs)("div",{className:"edit_profile",children:[Object(b.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(Object(x.b)({oldPassword:s,newPassword:d,cnfNewPassword:O,auth:v}))},children:[Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"oldPassword",children:"old password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"oldPassword",name:"oldPassword",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"newPassword",children:"new password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"newPassword",name:"newPassword",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"cnfNewPassword",children:"confirm new password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"cnfNewPassword",name:"cnfNewPassword",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(b.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"update"})]})]})},g=function(e){var t=e.id,a=e.auth,r=e.profile,o=e.dispatch,i=Object(c.useState)([]),l=Object(n.a)(i,2),d=l[0],j=l[1],O=Object(c.useState)(!1),x=Object(n.a)(O,2),g=x[0],y=x[1],_=Object(c.useState)(!1),N=Object(n.a)(_,2),w=N[0],k=N[1],E=Object(c.useState)(!1),T=Object(n.a)(E,2),S=T[0],A=T[1],L=Object(c.useState)(!1),C=Object(n.a)(L,2),R=C[0],P=C[1];return Object(c.useEffect)((function(){if(t===a.user._id)j([a.user]);else{var e=r.users.filter((function(e){return e._id===t}));j(e)}}),[t,a,o,r.users]),Object(c.useEffect)((function(){o(S||R||g?{type:u.c.MODAL,payload:!0}:{type:u.c.MODAL,payload:!1})}),[S,R,g,o]),Object(b.jsx)("div",{className:"info",children:d.map((function(e){return Object(b.jsxs)("div",{className:"info_container",children:[Object(b.jsx)("div",{className:"outer-shadow d-flex justify-content-center align-items-center",style:{borderRadius:"50%",height:"170px",width:"170px"},children:Object(b.jsx)(s.a,{src:e.avatar,size:"supper-avatar"})}),Object(b.jsxs)("div",{className:"info_content",children:[Object(b.jsxs)("div",{className:"info_content_title",children:[Object(b.jsx)("h2",{children:e.username}),e._id===a.user._id?Object(b.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return y(!0)},children:"Edit Profile"}):Object(b.jsx)(m.a,{user:e}),e._id===a.user._id&&Object(b.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return k(!0)},children:"change password"})]}),Object(b.jsxs)("div",{className:"follow_btn",children:[Object(b.jsxs)("span",{className:"mr-4",onClick:function(){return A(!0)},children:[e.followers.length," Followers"]}),Object(b.jsxs)("span",{className:"ml-4",onClick:function(){return P(!0)},children:[e.following.length," Following"]})]}),Object(b.jsxs)("h6",{children:[e.fullname," ",Object(b.jsx)("span",{className:"color-violet",children:e.mobile})]}),Object(b.jsx)("p",{className:"m-0",children:e.address}),Object(b.jsx)("h6",{children:e.email}),Object(b.jsx)("a",{style:{textDecoration:"none"},href:e.website,target:"_blank",rel:"noreferrer",children:e.website}),Object(b.jsx)("p",{children:e.story})]}),g&&Object(b.jsx)(p,{setOnEdit:y}),w&&Object(b.jsx)(v,{setChangePassword:k}),S&&Object(b.jsx)(h,{users:e.followers,setShowFollowers:A}),R&&Object(b.jsx)(f,{users:e.following,setShowFollowing:P})]},e._id)}))})},y=a(3),_=a.n(y),N=a(8),w=a(74),k=a(17),E=a(56),T=a(10),S=function(e){var t=e.auth,a=e.profile,r=e.dispatch,s=e.id,o=Object(c.useState)([]),l=Object(n.a)(o,2),u=l[0],j=l[1],p=Object(c.useState)(9),m=Object(n.a)(p,2),O=m[0],f=m[1],h=Object(c.useState)(0),x=Object(n.a)(h,2),v=x[0],g=x[1],y=Object(c.useState)(!1),S=Object(n.a)(y,2),A=S[0],L=S[1];Object(c.useEffect)((function(){a.posts.forEach((function(e){e._id===s&&(j(e.posts),f(e.result),g(e.page))}))}),[a.posts,s]);var C=function(){var e=Object(N.a)(_.a.mark((function e(){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Object(T.b)("user_posts/".concat(s,"?limit=").concat(9*v),t.token);case 3:a=e.sent,n=Object(i.a)(Object(i.a)({},a.data),{},{page:v+1,_id:s}),r({type:d.a.UPDATE_POST,payload:n}),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{posts:u,result:O}),A&&Object(b.jsx)("img",{src:k.a,alt:"Loading...",className:"d-block mx-auto"}),Object(b.jsx)(E.a,{result:O,page:v,load:A,handleLoadMore:C})]})},A=function(e){var t=e.auth,a=e.dispatch,r=Object(c.useState)([]),s=Object(n.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(9),d=Object(n.a)(l,2),j=d[0],p=d[1],m=Object(c.useState)(2),O=Object(n.a)(m,2),f=O[0],h=O[1],x=Object(c.useState)(!1),v=Object(n.a)(x,2),g=v[0],y=v[1];Object(c.useEffect)((function(){return y(!0),Object(T.b)("getSavePosts",t.token).then((function(e){i(e.data.savePosts),p(e.data.result),y(!1)})).catch((function(e){a({type:u.c.ALERT,payload:{error:e.response.data.msg}})})),function(){return i([])}}),[a,t.token]);var S=function(){var e=Object(N.a)(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,Object(T.b)("getSavePosts?limit=".concat(9*f),t.token);case 3:a=e.sent,i(a.data.savePosts),p(a.data.result),h(f+1),y(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{posts:o,result:j}),g&&Object(b.jsx)("img",{src:k.a,alt:"Loading...",className:"d-block mx-auto"}),Object(b.jsx)(E.a,{result:j,page:f,load:g,handleLoadMore:S})]})};t.default=function(){var e=Object(l.c)((function(e){return e})),t=e.profile,a=e.auth,s=Object(l.b)(),o=Object(r.h)().id,i=Object(c.useState)(!1),u=Object(n.a)(i,2),j=u[0],p=u[1];return Object(c.useEffect)((function(){t.ids.every((function(e){return e!==o}))&&s(Object(d.c)({id:o,auth:a}))}),[o,a,s,t.ids]),Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)(g,{auth:a,profile:t,dispatch:s,id:o}),a.user._id===o&&Object(b.jsxs)("div",{className:"profile_tab",children:[Object(b.jsx)("button",{className:j?"":"active",onClick:function(){return p(!1)},children:"posts"}),Object(b.jsx)("button",{className:j?"active":"",onClick:function(){return p(!0)},children:"saved"})]}),t.loading?Object(b.jsx)("img",{className:"d-block mx-auto my-4",src:k.a,alt:"Loading"}):Object(b.jsx)(b.Fragment,{children:j?Object(b.jsx)(A,{auth:a,dispatch:s}):Object(b.jsx)(S,{auth:a,profile:t,dispatch:s,id:o})})]})}},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(100),r=a(3),s=a.n(r),o=a(8),i=a(11),l=a(5),u=a(36),d=a(6),j=a(16),b=a(67),p=a(63),m=a(4),O=a(29),f=a(45),h=a(32),x=a(17),v=a(0),g=function(){var e=Object(d.c)((function(e){return e})),t=e.auth,a=e.message,c=e.theme,r=e.socket,g=Object(d.b)(),y=Object(n.useState)([]),_=Object(l.a)(y,2),N=_[0],w=_[1],k=Object(n.useState)(""),E=Object(l.a)(k,2),T=E[0],S=E[1],A=Object(n.useState)(0),L=Object(l.a)(A,2),C=L[0],R=L[1],P=Object(n.useState)([]),D=Object(l.a)(P,2),I=D[0],U=D[1],G=Object(j.h)().id,F=Object(n.useState)([]),M=Object(l.a)(F,2),z=M[0],H=M[1],Y=Object(n.useState)(!1),q=Object(l.a)(Y,2),W=q[0],V=q[1],Q=Object(n.useRef)(),B=Object(n.useRef)();Object(n.useEffect)((function(){var e=a.data.filter((function(e){return e.sender===t.user._id||e.sender===G}));U(e)}),[a.data,t.user._id,G]),Object(n.useEffect)((function(){var e=a.users.find((function(e){return e._id===G}));e&&w(e)}),[a.users,G]);var K=function(){var e=Object(o.a)(s.a.mark((function e(a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),T.trim()||0!==z.length){e.next=3;break}return e.abrupt("return");case 3:if(S(""),H([]),V(!0),n=[],!(z.length>0)){e.next=11;break}return e.next=10,Object(f.b)(z);case 10:n=e.sent;case 11:return c={sender:t.user._id,recipient:G,text:T,media:n,createdAt:(new Date).toISOString()},V(!1),e.next=15,g(Object(h.b)({msg:c,auth:t,socket:r}));case 15:Q.current&&Q.current.scrollIntoView({behaviour:"smooth",block:"end"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){G&&function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({type:h.a.GET_MESSAGES,payload:{messages:[]}}),R(1),e.next=4,g(Object(h.e)({auth:t,id:G}));case 4:Q.current&&Q.current.scrollIntoView({behaviour:"smooth",block:"end"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[G,g,t]),Object(n.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&R((function(e){return e+1}))}),{threshold:.1}).observe(B.current)}),[R]),Object(n.useEffect)((function(){a.resultData>=9*(C-1)&&C>1&&g(Object(h.e)({auth:t,id:G,page:C}))}),[a.resultData,C,G,t,g]),Object(n.useEffect)((function(){Q.current&&Q.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[T]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"message_header",children:0!==N.length&&Object(v.jsx)(u.a,{user:N,children:Object(v.jsx)("i",{className:"fas fa-trash text-danger"})})}),Object(v.jsx)("div",{className:"chat_container",style:{height:z.length>0?"calc(100% - 180px)":""},children:Object(v.jsxs)("div",{className:"chat_display",ref:Q,children:[Object(v.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:B,children:"Load.."}),I.map((function(e,a){return Object(v.jsxs)("div",{children:[e.sender!==t.user._id&&Object(v.jsx)("div",{className:"chat_row other_message",children:Object(v.jsx)(b.a,{user:N,msg:e,theme:c})}),e.sender===t.user._id&&Object(v.jsx)("div",{className:"chat_row you_message",children:Object(v.jsx)(b.a,{user:t.user,msg:e,theme:c})})]},a)})),W&&Object(v.jsx)("div",{className:"chat_row you_message",children:Object(v.jsx)("img",{src:x.a,alt:"Loading..."})})]})}),Object(v.jsx)("div",{className:"show_media",style:{display:z.length>0?"":"none"},children:z.map((function(e,t){return Object(v.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(O.b)(URL.createObjectURL(e),c):Object(O.a)(URL.createObjectURL(e),c),Object(v.jsx)("span",{onClick:function(){return function(e){var t=Object(i.a)(z);t.splice(e,1),H(t)}(t)},children:"\xd7"})]},t)}))}),Object(v.jsxs)("form",{className:"chat_input",onSubmit:K,children:[Object(v.jsx)("input",{placeholder:"Type a message.",type:"text",value:T,onChange:function(e){return S(e.target.value)},style:{filter:c?"invert(1)":"invert(0)",background:c?"#040404":"",color:c?"white":""}}),Object(v.jsx)(p.a,{setContent:S,content:T,theme:c}),Object(v.jsxs)("div",{className:"file_upload",children:[Object(v.jsx)("i",{className:"fas fa-image color-c1"}),Object(v.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(i.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&g({type:m.c.ALERT,payload:{error:a}}),H([].concat(Object(i.a)(z),n))}})]}),Object(v.jsx)("button",{type:"submit",disabled:!(T||z.length>0),className:"material-icons",children:"near_me"})]})]})};t.default=function(){return Object(v.jsxs)("div",{className:"message d-flex",children:[Object(v.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(v.jsx)(c.a,{})}),Object(v.jsx)("div",{className:"col-md-8 px-0",children:Object(v.jsx)(g,{})})]})}},,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n={"./adminDashboard":92,"./adminDashboard.js":92,"./ananommessage":88,"./ananommessage/":88,"./ananommessage/index":88,"./ananommessage/index.js":88,"./discover":143,"./discover.js":143,"./home":93,"./home.js":93,"./homepage":91,"./homepage.js":91,"./login":79,"./login.js":79,"./matchrequests":85,"./matchrequests/":85,"./matchrequests/index":85,"./matchrequests/index.js":85,"./message":86,"./message/":86,"./message/[id]":147,"./message/[id].js":147,"./message/index":86,"./message/index.js":86,"./post/[id]":144,"./post/[id].js":144,"./profile/[id]":146,"./profile/[id].js":146,"./register":90,"./register.js":90,"./savemessage":87,"./savemessage/":87,"./savemessage/[id]":145,"./savemessage/[id].js":145,"./savemessage/index":87,"./savemessage/index.js":87};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=200},,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,function(e,t,a){},,,,function(e,t){},,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(55),s=a.n(r),o=(a(167),a(12)),i=a(16),l=a(6),u=a(149),d=a.n(u),j=a(0),b=function(){return Object(j.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(j.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | Not Found."})})},p=function(){var e=Object(i.h)(),t=e.page,n=e.id,r="";return Object(l.c)((function(e){return e})).auth.token&&(n?(console.log(t,n),r="".concat(t,"/[id]")):(console.log(t),r="".concat(t))),function(e){try{return c.a.createElement(a(200)("./".concat(e)).default)}catch(t){return Object(j.jsx)(b,{})}}(r)},m=a(2),O=function(e){return localStorage.getItem("firstLogin")?Object(j.jsx)(i.b,Object(m.a)({},e)):Object(j.jsx)(i.a,{to:"/"})},f=a(79),h=a(90),x=a(93),v=a(91),g=a(39),y=function(){return Object(j.jsxs)("div",{style:{background:"white",top:0,left:0,zIndex:50,opacity:.7},className:"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center",children:[Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{})]}),Object(j.jsx)("text",{className:"loading_text",fill:"#fff",x:"5",y:"47",children:"Loading"})]})},_=function(e){var t=e.msg,a=e.handleShow,c=(e.bgColor,e.URL);console.log(t);return Object(n.useEffect)((function(){g.b.clearWaitingQueue(),"Error"===t.title&&g.b.error(t.body,{theme:"colored",autoClose:3e3,onClose:a}),"Success"===t.title&&g.b.success(t.body,{theme:"colored",autoClose:3e3,onClose:a})}),[]),Object(j.jsx)("div",{onClick:function(){c||console.log("toast clicked")},children:Object(j.jsx)(g.a,{})})},N=a(4),w=function(){var e=Object(l.c)((function(e){return e})).alert,t=Object(l.b)();return Object(j.jsxs)("div",{children:[e.loading&&Object(j.jsx)(y,{}),e.error&&Object(j.jsx)(_,{msg:{title:"Error",body:e.error},handleShow:function(){t({type:N.c.ALERT,payload:{}})},bgColor:"bg-danger"}),e.success&&Object(j.jsx)(_,{msg:{title:"Success",body:e.success},handleShow:function(){return t({type:N.c.ALERT,payload:{}})},bgColor:"bg-success"})]})},k=a(5),E=a(37),T=a(19),S=a(61),A=a.n(S),L=a(14),C=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.notify,n=Object(l.b)(),c=function(){n({type:L.a.UPDATE_SOUND,payload:!a.sound})};return Object(j.jsxs)("div",{className:"mt-1",style:{minWidth:"280px",boxShadow:"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)",background:"white",borderRadius:"10px",borderTopRightRadius:"0"},children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("h3",{children:"Notifications"}),a.sound?Object(j.jsx)("i",{className:"fas fa-bell text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:c}):Object(j.jsx)("i",{className:"fas fa-bell-slash text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:c})]}),Object(j.jsx)("hr",{className:"mt-1"}),0===a.data.length&&Object(j.jsx)("span",{className:"text-muted w-100 text-center",children:"No Notifications"}),Object(j.jsx)("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto"},children:a.data.map((function(e,a){return Object(j.jsxs)("div",{className:"px-2 mb-3",children:[Object(j.jsxs)(o.b,{to:"".concat(e.url),style:{textDecoration:"none"},className:"d-flex text-dark align-items-center",onClick:function(){return function(e){n(Object(L.e)({msg:e,auth:t}))}(e)},children:[Object(j.jsx)(T.a,{src:e.user.avatar,size:"big-avatar"}),Object(j.jsxs)("div",{className:"flex-fill mx-1",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{className:"mr-1",children:e.user.username}),Object(j.jsx)("span",{children:e.text})]}),e.content&&Object(j.jsxs)("small",{children:[e.content.slice(0,20),"..."]})]}),Object(j.jsx)("div",{style:{width:"30px"},children:e.image&&Object(j.jsx)(T.a,{src:e.image,size:"medium-avatar"})})]}),Object(j.jsxs)("small",{className:"text-muted d-flex justify-content-between px-2",children:[A()(e.createdAt).fromNow(),!e.isRead&&Object(j.jsx)("i",{className:"fas fa-circle color-c1"})]})]},a)}))}),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsx)("div",{className:"text-end my-auto me-2 color-c1",style:{cursor:"pointer"},onClick:function(){var e=a.data.filter((function(e){return!1===e.isRead}));return 0===e.length||window.confirm("You have ".concat(e.length," unread notifications.Do you want to delete all notifications?"))?n(Object(L.c)(t.token)):void 0},children:"Delete"})]})},R=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],r=Object(l.c)((function(e){return e})),s=r.auth,u=r.theme,d=r.notify,b=Object(l.b)(),p=Object(i.g)().pathname,m=function(e){if(e===p)return"active"};return Object(n.useEffect)((function(){var e=d.data.filter((function(e){return!1===e.isRead}));c(e)}),[d]),Object(j.jsx)("div",{className:"menu",children:Object(j.jsxs)("ul",{className:"navbar-nav flex-row mb-2 mb-lg-0",children:[[{label:"Home",icon:"home",path:"/"},{label:"AnanomMessage",icon:"chat",path:"/ananommessage"},{label:"Discover",icon:"explore",path:"/discover"}].map((function(e,t){return Object(j.jsx)("li",{className:"nav-item px-2 ".concat(m(e.path)),children:Object(j.jsx)(o.b,{className:"nav-link ",to:e.path,children:Object(j.jsx)("span",{className:"material-icons ",children:e.icon})})},t)})),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsxs)("span",{className:"nav-link position-relative",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(j.jsx)("span",{style:{color:d.data.length>0?"var(--c1)":""},className:"material-icons ",children:"notifications"}),Object(j.jsx)("span",{className:"notify_length",children:a.length})]}),Object(j.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(j.jsx)(C,{})})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsx)("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(j.jsx)(T.a,{src:s.user.avatar,size:"medium-avatar"})}),Object(j.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/profile/".concat(s.user._id),children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/message",children:"Chat"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/savemessage",children:"Saved Conversations"})}),Object(j.jsx)("li",{children:Object(j.jsx)("label",{style:{color:"white"},htmlFor:"theme",className:"dropdown-item",onClick:function(){return b({type:N.c.THEME,payload:!u})},children:u?"Light mode":"Dark mode"})}),Object(j.jsx)("li",{children:Object(j.jsx)("hr",{className:"dropdown-divider"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/",onClick:function(){return b(Object(E.d)())},children:"Logout"})})]})]})]})})},P=a(3),D=a.n(P),I=a(8),U=a(10),G=a(36),F=a(17),M=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(k.a)(r,2),o=s[0],i=s[1],u=Object(l.c)((function(e){return e})).auth,d=Object(l.b)(),b=Object(n.useState)(!1),p=Object(k.a)(b,2),m=p[0],O=p[1],f=function(){var e=Object(I.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,O(!0),e.next=7,Object(U.b)("search?username=".concat(a),u.token);case 7:n=e.sent,i(n.data.users),O(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),d({type:N.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){c(""),i([])};return Object(j.jsxs)("form",{className:"search_form",onSubmit:f,children:[Object(j.jsx)("input",{type:"text",title:"Enter to Search",name:"search",value:a,id:"search",onChange:function(e){return c(e.target.value.toLowerCase().replace(/ /g," "))}}),Object(j.jsxs)("div",{className:"search_icon",style:{opacity:a?0:.3},children:[Object(j.jsx)("span",{className:"material-icons",children:"search"}),Object(j.jsx)("span",{children:"Enter to Search"})]}),Object(j.jsx)("div",{onClick:h,className:"close_search",style:{opacity:0===o.length?0:1},children:"\xd7"}),Object(j.jsx)("button",{type:"submit",style:{display:"none"},children:"Search"}),m&&Object(j.jsx)("img",{className:"loading",src:F.a,alt:"Loading"}),Object(j.jsx)("div",{className:"users",children:a&&o.map((function(e){return Object(j.jsx)(G.a,{user:e,border:"border",handleClose:h},e._id)}))})]})},z=a(99),H=a(13),Y=a(59),q=function(){var e=Object(l.c)((function(e){return e})).auth,t=Object(l.b)();return Object(j.jsx)("div",{className:"header bg-light",children:Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(o.b,{to:"/",className:"logo",onClick:function(){window.scrollTo({top:0}),t(Object(H.f)(e.token)),t(Object(Y.b)(e.token))},children:Object(j.jsx)("img",{src:z.a,alt:"brand logo",style:{height:"4.5rem"}})}),Object(j.jsx)(M,{}),Object(j.jsx)(R,{})]})})})},W=a(11),V=a(63),Q=a(29),B=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.theme,c=e.status,r=e.socket,s=Object(l.b)(),o=Object(n.useState)(""),i=Object(k.a)(o,2),u=i[0],d=i[1],b=Object(n.useState)([]),p=Object(k.a)(b,2),m=p[0],O=p[1],f=Object(n.useState)(!1),h=Object(k.a)(f,2),x=h[0],v=h[1],g=Object(n.useRef)(),y=Object(n.useRef)(),_=Object(n.useState)(""),w=Object(k.a)(_,2),E=w[0],T=w[1];return Object(n.useEffect)((function(){c.onEdit&&(d(c.content),O(c.images))}),[c]),Object(j.jsx)("div",{className:"status_modal",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===m.length)return s({type:N.c.ALERT,payload:{error:"Add image(s)."}});c.onEdit?s(Object(H.m)({content:u,images:m,auth:t,status:c})):s(Object(H.b)({content:u,images:m,auth:t,socket:r})),d(""),O([]),E&&E.stop(),s({type:N.c.STATUS,payload:!1})},children:[Object(j.jsxs)("div",{className:"status_header",children:[Object(j.jsx)("h5",{className:"m-0",children:"Create Post"}),Object(j.jsx)("span",{onClick:function(){return s({type:N.c.STATUS,payload:!1})},children:"\xd7"})]}),Object(j.jsxs)("div",{className:"status_body",children:[Object(j.jsx)("textarea",{onChange:function(e){return d(e.target.value)},value:u,name:"content",placeholder:"".concat(t.user.username,", What's on your mind?"),style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111",background:a?"rgb(0,0,0,0.3)":""}}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("div",{className:"flex-fill"}),Object(j.jsx)(V.a,{setContent:d,content:u,theme:a})]}),Object(j.jsx)("div",{className:"show_images",children:m.map((function(e,t){return Object(j.jsxs)("div",{className:"file_img",children:[e.camera?Object(Q.a)(e.camera,a):e.url?Object(j.jsx)(j.Fragment,{children:e.url.match(/video/i)?Object(Q.b)(e.url):Object(Q.a)(e.url)}):Object(j.jsx)(j.Fragment,{children:e.type.match(/video/i)?Object(Q.b)(URL.createObjectURL(e,a)):Object(Q.a)(URL.createObjectURL(e,a))}),Object(j.jsx)("span",{onClick:function(){return function(e){var t=Object(W.a)(m);t.splice(e,1),O(t)}(t)},children:"\xd7"})]},t)}))}),x&&Object(j.jsxs)("div",{className:"stream position-relative",children:[Object(j.jsx)("video",{width:"100%",height:"100%",ref:g,style:{filter:a?"invert(1)":"invert(0)"},autoPlay:!0,muted:!0}),Object(j.jsx)("span",{onClick:function(){E.stop(),v(!1)},children:"\xd7"}),Object(j.jsx)("canvas",{style:{display:"none"},ref:y})]}),Object(j.jsx)("div",{className:"input_images",children:x?Object(j.jsx)("i",{className:"fas fa-camera",onClick:function(){var e=g.current.clientWidth,t=g.current.clientHeight;y.current.setAttribute("width",e),y.current.setAttribute("height",t),y.current.getContext("2d").drawImage(g.current,0,0,e,t);var a=y.current.toDataURL();O([].concat(Object(W.a)(m),[{camera:a}]))}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fas fa-camera",onClick:function(){v(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){g.current.srcObject=e,g.current.play();var t=e.getTracks();T(t[0])})).catch((function(e){return console.log(e)}))}}),Object(j.jsxs)("div",{className:"file_upload",children:[Object(j.jsx)("i",{className:"fas fa-image"}),Object(j.jsx)("input",{onChange:function(e){var t=Object(W.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&s({type:N.c.ALERT,payload:{error:a}}),O([].concat(Object(W.a)(m),n))},type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*"})]})]})})]}),Object(j.jsx)("div",{className:"status_footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})},K=a(92),J=a(21),X=a(32),Z=a.p+"static/media/pristine-609.9287f5ce.mp3",$=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.socket,c=e.notify,r=Object(l.b)(),s=Object(n.useRef)();return Object(n.useEffect)((function(){"user"===t.user.role?a.emit("joinUser",t.user._id):"admin"===t.user.role&&a.emit("joinAdmin",t.user._id)}),[a,t.user.role,t.user._id]),Object(n.useEffect)((function(){return a.on("getActiveUsersToClient",(function(e){r({type:J.a.GET_TOTAL_ACTIVE_USERS,payload:e})})),function(){return a.off("getActiveUsersToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("likeToClient",(function(e){r({type:H.a.UPDATE_POST,payload:e})})),function(){return a.off("likeToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("unLikeToClient",(function(e){r({type:H.a.UPDATE_POST,payload:e})})),function(){return a.off("unLikeToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("createCommentToClient",(function(e){r({type:H.a.UPDATE_POST,payload:e})})),function(){return a.off("createCommentToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("deleteCommentToClient",(function(e){r({type:H.a.UPDATE_POST,payload:e})})),function(){return a.off("deleteCommentToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("followToClient",(function(e){r({type:N.c.AUTH,payload:Object(m.a)(Object(m.a)({},t),{},{user:e})})})),function(){return a.off("followToClient")}}),[a,r,t]),Object(n.useEffect)((function(){return a.on("unFollowToClient",(function(e){r({type:N.c.AUTH,payload:Object(m.a)(Object(m.a)({},t),{},{user:e})})})),function(){return a.off("unFollowToClient")}}),[a,r,t]),Object(n.useEffect)((function(){return a.on("createNotifyToClient",(function(e){var t,a,n;r({type:L.a.CREATE_NOTIFY,payload:e}),c.sound&&s.current.play(),t=e.user.username+" "+e.text,a=e.user.avatar,n=e.url,new Notification("DatingInsta",{body:t,icon:a}).onclick=function(e){e.preventDefault(),window.open(n,"_blank")}})),function(){return a.off("createNotifyToClient")}}),[a,r,c.sound]),Object(n.useEffect)((function(){return a.on("removeNotifyToClient",(function(e){r({type:L.a.REMOVE_NOTIFY,payload:e})})),function(){return a.off("removeNotifyToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("addMessageToClient",(function(e){r({type:X.a.ADD_MESSAGE,payload:e})})),function(){return a.off("addMessageToClient")}}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("audio",{controls:!0,ref:s,style:{display:"none"},children:Object(j.jsx)("source",{src:Z,type:"audio/mp3"})})})};var ee=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.status,c=e.modal,r=e.userType,s=Object(l.b)();return Object(n.useEffect)((function(){s(Object(E.e)());var e=d()();return s({type:N.c.SOCKET,payload:e}),function(){return e.close()}}),[s]),Object(n.useEffect)((function(){t.token&&(s(Object(H.f)(t.token)),s(Object(Y.b)(t.token)),s(Object(L.d)(t.token)))}),[s,t.token]),Object(n.useEffect)((function(){"Notification"in window?"granted"===Notification.permission||"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){})):alert("This browser does not support desktop notification")}),[]),Object(j.jsxs)(o.a,{children:[Object(j.jsx)(w,{}),Object(j.jsx)("input",{type:"checkbox",id:"theme"}),Object(j.jsx)("div",{className:"App ".concat((a||c)&&"mode"),children:Object(j.jsxs)("div",{className:"main",children:["user"===r&&t.token&&Object(j.jsx)(q,{}),a&&Object(j.jsx)(B,{}),t.token&&Object(j.jsx)($,{}),Object(j.jsx)(i.b,{exact:!0,path:"/",component:"user"===r?t.token?x.default:v.default:t.token?K.default:f.default}),"user"===r&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/login",component:Object(i.i)(f.default)}),Object(j.jsx)(i.b,{exact:!0,path:"/register",component:h.default}),Object(j.jsxs)("div",{className:"wrap_page",children:[Object(j.jsx)(O,{exact:!0,path:"/:page",component:p}),Object(j.jsx)(O,{exact:!0,path:"/:page/:id",component:p})]})]})]})})]})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,263)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},ae=(a(228),a(60)),ne=a(156),ce={},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.AUTH:return t.payload;default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.USER_TYPE:return t.payload;default:return e}},oe={},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.ALERT:return t.payload;default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.THEME:return t.payload;default:return e}},ue=a(28),de={loading:!1,ids:[],users:[],posts:[]},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.a.LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case ue.a.GET_USER:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(W.a)(e.users),[t.payload.user])});case ue.a.FOLLOW:case ue.a.UNFOLLOW:return Object(m.a)(Object(m.a)({},e),{},{users:Object(N.b)(e.users,t.payload._id,t.payload)});case ue.a.GET_ID:return Object(m.a)(Object(m.a)({},e),{},{ids:[].concat(Object(W.a)(e.ids),[t.payload])});case ue.a.GET_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(W.a)(e.posts),[t.payload])});case ue.a.UPDATE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(N.b)(e.posts,t.payload._id,t.payload)});default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.STATUS:return t.payload;default:return e}},pe={loading:!1,posts:[],result:0,page:2},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.a.CREATE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:[t.payload].concat(Object(W.a)(e.posts))});case H.a.LOADING_POST:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case H.a.GET_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,page:t.payload.page});case H.a.UPDATE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(N.b)(e.posts,t.payload._id,t.payload)});case H.a.DELETE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(N.a)(e.posts,t.payload._id)});case H.a.REPORT_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(N.b)(e.posts,t.payload._id,t.payload)});default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.MODAL:return t.payload;default:return e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.a.GET_POST:return[].concat(Object(W.a)(e),[t.payload]);case H.a.UPDATE_POST:return Object(N.b)(e,t.payload._id,t.payload);default:return e}},he={total_users:0,total_posts:0,total_comments:0,total_likes:0,total_active_users:0,total_spam_posts:0,spam_posts:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.a.GET_TOTAL_USERS:return Object(m.a)(Object(m.a)({},e),{},{total_users:t.payload.total_users});case J.a.GET_TOTAL_POSTS:return Object(m.a)(Object(m.a)({},e),{},{total_posts:t.payload.total_posts});case J.a.GET_TOTAL_COMMENTS:return Object(m.a)(Object(m.a)({},e),{},{total_comments:t.payload.total_comments});case J.a.GET_TOTAL_LIKES:return Object(m.a)(Object(m.a)({},e),{},{total_likes:t.payload.total_likes});case J.a.GET_TOTAL_SPAM_POSTS:return Object(m.a)(Object(m.a)({},e),{},{total_spam_posts:t.payload.total_spam_posts});case J.a.GET_TOTAL_ACTIVE_USERS:return Object(m.a)(Object(m.a)({},e),{},{total_active_users:t.payload});case J.a.LOADING_ADMIN:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case J.a.GET_SPAM_POSTS:return Object(m.a)(Object(m.a)({},e),{},{spam_posts:Object(W.a)(t.payload)});case J.a.DELETE_POST:return Object(m.a)(Object(m.a)({},e),{},{spam_posts:Object(N.a)(e.spam_posts,t.payload._id)});default:return e}},ve=a(69),ge={loading:!1,posts:[],result:9,page:2,firstLoad:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.a.LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case ve.a.GET_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,firstLoad:!0});case ve.a.UPDATE_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(W.a)(t.payload.posts),result:t.payload.result,page:e.page+1});default:return e}},_e={loading:!1,users:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.a.LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case Y.a.GET_USERS:return Object(m.a)(Object(m.a)({},e),{},{users:t.payload.users});default:return e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.c.SOCKET:return t.payload;default:return e}},ke={loading:!1,data:[],sound:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.a.GET_NOTIFIES:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload});case L.a.CREATE_NOTIFY:return Object(m.a)(Object(m.a)({},e),{},{data:[].concat(Object(W.a)(e.data),[t.payload])});case L.a.UPDATE_NOTIFY:return Object(m.a)(Object(m.a)({},e),{},{data:Object(N.b)(e.data,t.payload._id,t.payload)});case L.a.UPDATE_SOUND:return Object(m.a)(Object(m.a)({},e),{},{sound:t.payload});case L.a.REMOVE_NOTIFY:return Object(m.a)(Object(m.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id||e.url!==t.payload.url}))});case L.a.DELETE_ALL_NOTIFICATIONS:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload});default:return e}},Te={users:[],resultUsers:0,data:[],resultData:0,firstLoad:!1},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.a.ADD_USER:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(W.a)(e.data),[t.payload])});case X.a.ADD_MESSAGE:return Object(m.a)(Object(m.a)({},e),{},{data:[].concat(Object(W.a)(e.data),[t.payload]),users:e.users.map((function(e){return e._id===t.payload.recipient||e._id===t.payload.sender?Object(m.a)(Object(m.a)({},e),{},{text:t.payload.text,media:t.payload.media}):e}))});case X.a.GET_CONVERSATIONS:return Object(m.a)(Object(m.a)({},e),{},{users:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case X.a.GET_MESSAGES:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload.messages.reverse(),resultData:t.payload.result});default:return e}},Ae=a(41),Le={conversation:[],data:[],resultData:0,resultUsers:0,firstLoad:!1},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.a.ADD_ANANOM_MESSAGE:return Object(m.a)(Object(m.a)({},e),{},{data:[].concat(Object(W.a)(e.data),[t.payload])});case Ae.a.GET_ANANOM_CONVERSATIONS:return Object(m.a)(Object(m.a)({},e),{},{conversation:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case Ae.a.GET_ANANOM_MESSAGES:return Object(m.a)(Object(m.a)({},e),{},{data:[]});default:return e}},Re=a(49),Pe={sentRequests:[],receivedRequests:[],resultSentRequests:0,resultReceivedRequests:0,firstLoad:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re.a.CREATE_REQUEST:return Object(m.a)({},e);case Re.a.GET_SENT_REQUESTS:return Object(m.a)(Object(m.a)({},e),{},{sentRequests:t.payload.newArr,resultSentRequests:t.payload.result});case Re.a.GET_RECEIVED_REQUESTS:return Object(m.a)(Object(m.a)({},e),{},{sentRequests:t.payload.newArr,resultReceivedRequests:t.payload.result});case Re.a.GET_MESSAGES:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload.messages.reverse(),resultData:t.payload.result});default:return e}},Ie=Object(ae.combineReducers)({auth:re,alert:ie,theme:le,profile:je,status:be,homePosts:me,modal:Oe,detailPost:fe,userType:se,admin:xe,discover:ye,suggestions:Ne,socket:we,notify:Ee,message:Se,ananomMessages:Ce,requests:De}),Ue=a(157),Ge=Object(ae.createStore)(Ie,Object(Ue.composeWithDevTools)(Object(ae.applyMiddleware)(ne.a))),Fe=function(e){var t=e.children;return Object(j.jsx)(l.a,{store:Ge,children:t})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Fe,{children:Object(j.jsx)(ee,{})})}),document.getElementById("root")),te()}],[[229,1,2]]]);
//# sourceMappingURL=main.7e3cb7c3.chunk.js.map