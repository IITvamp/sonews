/*! For license information please see main.62364201.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return j}));var n=a(3),c=a.n(n),r=a(8),s=a(70),o=a.n(s),i=a(48),u=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(i.b,"/api/").concat(t)),e.next=3,o.a.get("".concat(i.b,"/api/").concat(t),{headers:{Authorization:a}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("post 1",a,n),e.next=3,o.a.post("".concat(i.b,"/api/").concat(t),a,{headers:{Authorization:n}});case 3:return r=e.sent,console.log("post api called",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("".concat(i.b,"/api/").concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat(i.b,"/api/").concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},100:function(e,t,a){"use strict";var n=a(1),c=a(102),r=a(101),s=a(96),o=a(5),i=a(2),u=a(3),l=a.n(u),d=a(8),j=a(19),b=a(13),p=a(6),O=a(61),m=a.n(O),f=a(95),h=a(11),x=a(4),v=a(12),y=a(14),g=a(10),_=function(e){var t=e.comment,a=e.post,n=e.auth;return function(){var e=Object(d.a)(l.a.mark((function e(c){var r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(Object(i.a)({},t),{},{likes:[].concat(Object(h.a)(t.likes),[n.user])}),s=Object(x.b)(a.comments,t._id,r),o=Object(i.a)(Object(i.a)({},a),{},{comments:s}),c({type:v.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(g.c)("comment/".concat(t._id,"/like"),null,n.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){var t=e.comment,a=e.post,n=e.auth;return function(){var e=Object(d.a)(l.a.mark((function e(c){var r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(Object(i.a)({},t),{},{likes:Object(x.a)(t.likes,n.user._id)}),s=Object(x.b)(a.comments,t._id,r),o=Object(i.a)(Object(i.a)({},a),{},{comments:s}),c({type:v.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(g.c)("comment/".concat(t._id,"/unlike"),null,n.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},w=a(0),k=function(e){var t=e.post,a=e.comment,n=e.setOnEdit,c=Object(p.c)((function(e){return e})),r=c.auth,s=c.socket,o=Object(p.b)(),u=function(){t.user._id!==r.user._id&&a.user._id!==r.user._id||o(function(e){var t=e.post,a=e.comment,n=e.auth,c=e.socket;return function(){var e=Object(d.a)(l.a.mark((function e(r){var s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[].concat(Object(h.a)(t.comments.filter((function(e){return e.reply===a._id}))),[a]),o=Object(i.a)(Object(i.a)({},t),{},{comments:t.comments.filter((function(e){return!s.find((function(t){return e._id===t._id}))}))}),r({type:v.a.UPDATE_POST,payload:o}),c.emit("deleteComment",o);try{s.forEach((function(e){Object(g.a)("comment/".concat(e._id),n.token);var a={id:e._id,text:e.reply?"mentioned you in a comment.":"commented on your post.",recipients:e.reply?[e.tag._id]:[t.user._id],url:"/post/".concat(t._id)};r(Object(y.f)({msg:a,auth:n,socket:c}))}))}catch(u){r({type:x.c.ALERT,payload:{error:u.response.data.msg}})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({post:t,auth:r,comment:a,socket:s}))},j=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"dropdown-item",onClick:function(){return n(!0)},children:[Object(w.jsx)("span",{className:"material-icons text-primary",children:"create"})," Edit"]}),Object(w.jsxs)("div",{className:"dropdown-item",onClick:u,children:[Object(w.jsx)("span",{className:"material-icons text-red",children:"delete_outline"})," Delete"]})]})};return Object(w.jsx)("div",{className:"menu",children:(t.user._id===r.user._id||a.user._id===r.user._id)&&Object(w.jsxs)("div",{className:"nav-item dropdown",children:[Object(w.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_vert"}),Object(w.jsx)("div",{className:"dropdown-menu","aria-labelledby":"moreLink",children:t.user._id===r.user._id?a.user._id===r.user._id?j():Object(w.jsxs)("div",{className:"dropdown-item",onClick:u,children:[Object(w.jsx)("span",{className:"material-icons",children:"delete_outline"})," Delete"]}):a.user._id===r.user._id&&j()})]})})},E=a(63),T=function(e){var t=e.children,a=e.post,c=e.onReply,r=e.setOnReply,s=Object(n.useState)(""),u=Object(o.a)(s,2),j=u[0],b=u[1],O=Object(p.c)((function(e){return e})),m=O.auth,f=O.socket,_=O.theme,N=Object(p.b)();return Object(w.jsxs)("form",{className:"card-footer comment_input",onSubmit:function(e){if(e.preventDefault(),!j.trim())return r?r(!1):void 0;b("");var t={content:j,likes:[],user:m.user,createdAt:(new Date).toISOString(),reply:c&&c.commentId,tag:c&&c.user};return N(function(e){var t=e.post,a=e.newComment,n=e.auth,c=e.socket;return function(){var e=Object(d.a)(l.a.mark((function e(r){var s,o,u,d,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(i.a)(Object(i.a)({},t),{},{comments:[].concat(Object(h.a)(t.comments),[a])}),r({type:v.a.UPDATE_POST,payload:s}),e.prev=2,o=Object(i.a)(Object(i.a)({},a),{},{postId:t._id,postUserId:t.user._id}),e.next=6,Object(g.d)("comment",o,n.token);case 6:u=e.sent,d=Object(i.a)(Object(i.a)({},u.data.newComment),{},{user:n.user}),j=Object(i.a)(Object(i.a)({},t),{},{comments:[].concat(Object(h.a)(t.comments),[d])}),r({type:v.a.UPDATE_POST,payload:j}),c.emit("createComment",j),b={id:u.data.newComment._id,text:a.reply?"mentioned you in a comment.":"commented on your post.",recipients:a.reply?[a.tag._id]:[t.user._id],url:"/post/".concat(t._id),content:a.reply?a.content:t.content,image:t.images[0].url},r(Object(y.b)({msg:b,auth:n,socket:c})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()}({post:a,newComment:t,auth:m,socket:f})),r?r(!1):void 0},children:[t,Object(w.jsx)("input",{type:"text",placeholder:"Add comments...",value:j,onChange:function(e){return b(e.target.value)},style:{filter:_?"invert(1)":"invert(0)",color:_?"white":"#111",background:_?"rgb(0,0,0,0.3)":""}}),Object(w.jsx)(E.a,{setContent:b,content:j,theme:_}),Object(w.jsx)("button",{type:"submit",className:"postBtn",children:"Post"})]})},S=function(e){var t=e.children,a=e.comment,c=e.post,r=e.commentId,s=Object(p.c)((function(e){return e})),u=s.auth,O=s.theme,h=Object(p.b)(),y=Object(n.useState)(""),E=Object(o.a)(y,2),S=E[0],A=E[1],L=Object(n.useState)(!1),R=Object(o.a)(L,2),C=R[0],P=R[1],D=Object(n.useState)(!1),I=Object(o.a)(D,2),U=I[0],G=I[1],F=Object(n.useState)(!1),M=Object(o.a)(F,2),z=M[0],H=M[1],V=Object(n.useState)(!1),Y=Object(o.a)(V,2),q=Y[0],W=Y[1],Q=Object(n.useState)(!1),B=Object(o.a)(Q,2),K=B[0],J=B[1];Object(n.useEffect)((function(){A(a.content),G(!1),J(!1),a.likes.find((function(e){return e._id===u.user._id}))&&G(!0)}),[a,u.user._id]);var X=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return G(!0),H(!0),e.next=6,h(_({comment:a,post:c,auth:u}));case 6:H(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return G(!1),H(!0),e.next=6,h(N({comment:a,post:c,auth:u}));case 6:H(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$={opacity:a._id?1:.5,pointerEvents:a._id?"inherit":"none"};return Object(w.jsxs)("div",{className:"comment_card mt-2",style:$,children:[Object(w.jsxs)(b.b,{to:"/profile/".concat(a.user._id),className:"d-flex text-dark",children:[Object(w.jsx)(j.a,{src:a.user.avatar,size:"small-avatar"}),Object(w.jsx)("h6",{className:"mx-1",children:a.user.username})]}),Object(w.jsxs)("div",{className:"comment_content",children:[Object(w.jsxs)("div",{className:"flex-fill",style:{filter:O?"invert(1)":"invert(0)",color:O?"white":"#111"},children:[q?Object(w.jsx)("textarea",{rows:"5",value:S,onChange:function(e){return A(e.target.value)}}):Object(w.jsxs)("div",{children:[a.tag&&a.tag._id!==a.user._id&&Object(w.jsxs)(b.b,{to:"/profile/".concat(a.tag._id),style:{textDecoration:"none"},className:"me-1",children:["@",a.tag.username]}),Object(w.jsx)("span",{children:S.length<100?S:C?S+" ":S.slice(0,100)+"..."}),S.length>100&&Object(w.jsx)("span",{className:"readMore",onClick:function(){return P(!C)},children:C?"Hide ":"Read more"})]}),Object(w.jsxs)("div",{style:{cursor:"pointer"},children:[Object(w.jsx)("small",{className:"text-muted",style:{marginRight:"9px"},children:m()(a.createdAt).fromNow()}),Object(w.jsxs)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:[a.likes.length," likes"]}),q?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("small",{onClick:function(){a.content!==S?(h(function(e){var t=e.comment,a=e.post,n=e.content,c=e.auth;return function(){var e=Object(d.a)(l.a.mark((function e(r){var s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(x.b)(a.comments,t._id,Object(i.a)(Object(i.a)({},t),{},{content:n})),o=Object(i.a)(Object(i.a)({},a),{},{comments:s}),r({type:v.a.UPDATE_POST,payload:o}),e.prev=3,e.next=6,Object(g.c)("comment/".concat(t._id),{content:n},c.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r({type:x.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()}({comment:a,post:c,content:S,auth:u})),W(!1)):W(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"update"}),Object(w.jsx)("small",{onClick:function(){return W(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"cancel"})]}):Object(w.jsx)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",onClick:function(){if(K)return J(!1);J(Object(i.a)(Object(i.a)({},a),{},{commentId:r}))},children:K?"cancel":"reply"})]})]}),Object(w.jsxs)("div",{className:"d-flex align-items-center ",style:{cursor:"pointer"},children:[Object(w.jsx)(k,{post:c,comment:a,setOnEdit:W}),Object(w.jsx)(f.a,{isLike:U,handleLike:X,handleUnLike:Z})]})]}),K&&Object(w.jsx)(T,{post:c,onReply:K,setOnReply:J,children:Object(w.jsxs)(b.b,{style:{textDecoration:"none"},className:"mr-1",to:"/profile/".concat(K.user._id),children:["@",K.user.username]})}),t]})},A=function(e){var t=e.comment,a=e.post,c=e.replyCm,r=Object(n.useState)([]),s=Object(o.a)(r,2),i=s[0],u=s[1],l=Object(n.useState)(1),d=Object(o.a)(l,2),j=d[0],b=d[1];return Object(n.useEffect)((function(){u(c.slice(c.length-j))}),[c,j]),Object(w.jsx)("div",{className:"comment_display",children:Object(w.jsx)(S,{post:a,comment:t,commentId:t._id,children:Object(w.jsxs)("div",{className:"ps-4",children:[i.map((function(e,n){return e.reply&&Object(w.jsx)(S,{comment:e,post:a,commentId:t._id},n)})),c.length-j>0?Object(w.jsx)("div",{onClick:function(){return b(j+10)},style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):c.length>1&&Object(w.jsx)("div",{onClick:function(){return b(1)},style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})})})},L=function(e){var t=e.post,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),l=u[0],d=u[1],j=Object(n.useState)(2),b=Object(o.a)(j,2),p=b[0],O=b[1],m=Object(n.useState)([]),f=Object(o.a)(m,2),h=f[0],x=f[1];return Object(n.useEffect)((function(){var e=t.comments.filter((function(e){return!e.reply}));s(e),d(e.slice(e.length-p))}),[t.comments,p]),Object(n.useEffect)((function(){var e=t.comments.filter((function(e){return e.reply}));x(e)}),[t.comments]),Object(w.jsxs)("div",{className:"comments",children:[l.map((function(e,a){return Object(w.jsx)(A,{comment:e,post:t,replyCm:h.filter((function(t){return t.reply===e._id}))},a)})),r.length-p>0?Object(w.jsx)("div",{onClick:function(){return O(p+10)},className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):r.length>2&&Object(w.jsx)("div",{onClick:function(){return O(2)},className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})};t.a=function(e){var t=e.post,a=e.theme;return Object(w.jsxs)("div",{className:"card my-3 outer-shadow",children:[Object(w.jsx)(s.a,{post:t}),Object(w.jsx)(c.a,{post:t,theme:a}),Object(w.jsx)(r.a,{post:t}),Object(w.jsx)(L,{post:t}),Object(w.jsx)(T,{post:t})]})}},101:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(13),u=a(95),l=a(6),d=a(0),j=function(e){e.isLike;var t=e.isDisLike,a=(e.handleLike,e.handleUnDisLike),n=e.handleDisLike,c=(e.handleUnLike,Object(l.c)((function(e){return e})).theme);return console.log(t),Object(d.jsx)("div",{children:t?Object(d.jsx)("i",{className:"fas fa-thumbs-down text-info",style:{filter:c?"invert(1)":"invert(0)"},onClick:a}):Object(d.jsx)("i",{className:"far fa-thumbs-down",onClick:n})})},b=a(12),p=a(239),O=a(240),m=a(241),f=a(242),h=a(243),x=a(244),v=a(245),y=a(246),g=a(247),_=a(248),N=a(249),w=a(250),k=a(251),E=a(252),T=a(253),S=a(254),A=function(e){var t=e.url,a=e.theme,n=e.setIsShare;return Object(d.jsx)("div",{className:"share_modal",children:Object(d.jsxs)("div",{className:"share_modal-container",children:[Object(d.jsxs)("div",{className:"share_modal-header",children:[Object(d.jsx)("span",{children:"Share to..."}),Object(d.jsx)("span",{onClick:function(){return n(!1)},children:"\xd7"})]}),Object(d.jsxs)("div",{className:" share_modal-body",style:{filter:a?"invert(1)":"invert(0)"},children:[Object(d.jsx)(p.a,{url:t,children:Object(d.jsx)(O.a,{round:!0,size:32})}),Object(d.jsx)(m.a,{url:t,children:Object(d.jsx)(f.a,{round:!0,size:32})}),Object(d.jsx)(h.a,{url:t,children:Object(d.jsx)(x.a,{round:!0,size:32})}),Object(d.jsx)(v.a,{url:t,children:Object(d.jsx)(y.a,{round:!0,size:32})}),Object(d.jsx)(g.a,{url:t,children:Object(d.jsx)(_.a,{round:!0,size:32})}),Object(d.jsx)(N.a,{url:t,children:Object(d.jsx)(w.a,{round:!0,size:32})}),Object(d.jsx)(k.a,{url:t,children:Object(d.jsx)(E.a,{round:!0,size:32})}),Object(d.jsx)(T.a,{url:t,children:Object(d.jsx)(S.a,{round:!0,size:32})})]})]})})},L=a(48);t.a=function(e){var t=e.post,a=Object(o.useState)(!1),n=Object(s.a)(a,2),p=n[0],O=n[1],m=Object(o.useState)(!1),f=Object(s.a)(m,2),h=f[0],x=f[1],v=Object(o.useState)(!1),y=Object(s.a)(v,2),g=y[0],_=y[1],N=Object(o.useState)(!1),w=Object(s.a)(N,2),k=w[0],E=w[1],T=Object(o.useState)(!1),S=Object(s.a)(T,2),R=S[0],C=S[1],P=Object(o.useState)(!1),D=Object(s.a)(P,2),I=D[0],U=D[1],G=Object(l.b)(),F=Object(l.c)((function(e){return e})),M=F.auth,z=F.theme,H=F.socket;Object(o.useEffect)((function(){t.likes.find((function(e){return e._id===M.user._id}))?O(!0):O(!1)}),[t.likes,M.user._id]),Object(o.useEffect)((function(){console.log(t.dislikes),t.dislikes.find((function(e){return e._id===M.user._id}))?x(!0):x(!1)}),[M.user._id,t.dislikes]);var V=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.g)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.k)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.d)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.next=5,G(Object(b.j)({post:t,auth:M,socket:H}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:return C(!0),e.next=5,G(Object(b.i)({post:t,auth:M}));case 5:C(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:return C(!0),e.next=5,G(Object(b.l)({post:t,auth:M}));case 5:C(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){M.user.saved.find((function(e){return e===t._id}))?_(!0):_(!1)}),[t._id,M.user.saved]),Object(d.jsxs)("div",{className:"card_footer",children:[Object(d.jsxs)("div",{className:"card_icon_menu",children:[Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)(u.a,{isLike:p,isDisLike:h,handleLike:V,handleUnLike:Y,handleDisLike:q,handleUnDisLike:W}),Object(d.jsx)(j,{isDisLike:h,isLike:p,handleLike:V,handleUnLike:Y,handleDisLike:q,handleUnDisLike:W}),Object(d.jsx)(i.b,{to:"/post/".concat(t._id),className:"text-dark",children:Object(d.jsx)("i",{className:"far fa-comments"})}),Object(d.jsx)("i",{className:"fa fa-share",alt:"Send",onClick:function(){return U(!I)}})]}),g?Object(d.jsx)("i",{className:"fas text-info fa-bookmark",onClick:B}):Object(d.jsx)("i",{className:"far fa-bookmark",onClick:Q})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(d.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.likes.length," likes"]}),Object(d.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.dislikes.length," dislikes"]}),Object(d.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.comments.length," comments"]})]}),I&&Object(d.jsx)(A,{url:"".concat(L.a,"/post/").concat(t._id),theme:z,setIsShare:U})]})}},102:function(e,t,a){"use strict";var n=a(5),c=a(1),r=a(6),s=a(0),o=function(e){var t=e.images,a=e.id,n=Object(r.c)((function(e){return e})).theme,c=function(e){if(0===e)return"active"};return Object(s.jsxs)("div",{id:"image".concat(a),className:"carousel slide","data-bs-ride":"carousel",children:[Object(s.jsx)("div",{className:"carousel-indicators",children:t.map((function(e,t){return Object(s.jsx)("button",{type:"button","data-bs-target":"#image".concat(a),"data-bs-slide-to":t,className:c(t),"aria-current":"true"},t)}))}),Object(s.jsx)("div",{className:"carousel-inner",children:t.map((function(e,t){return Object(s.jsx)("div",{className:"carousel-item ".concat(c(t)),children:e.url.match(/video/i)?Object(s.jsx)("video",{controls:!0,style:{filter:n?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url}):Object(s.jsx)("img",{style:{filter:n?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url})},t)}))}),Object(s.jsxs)("button",{style:{width:"5%"},className:"carousel-control-prev",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(s.jsxs)("button",{style:{width:"5%"},className:"carousel-control-next",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})};t.a=function(e){var t=e.post,a=e.theme,r=Object(c.useState)(),i=Object(n.a)(r,2),u=i[0],l=i[1];return Object(s.jsxs)("div",{className:"card_body",children:[Object(s.jsxs)("div",{className:"card_body-content",style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111"},children:[Object(s.jsx)("span",{children:t.content.length<60?t.content:u?t.content+" ":t.content.slice(0,60)+"  ..."}),t.content.length>60&&Object(s.jsx)("span",{className:"readMore",onClick:function(){return l(!u)},children:u?"Hide Content":"Read More"})]}),t.images.length>0&&Object(s.jsx)(o,{images:t.images,id:t._id})]})}},108:function(e,t,a){},110:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),u=a(16),l=a(67),d=a(97),j=(a(111),a(0));t.a=function(e){console.log(e);var t=Object(o.useState)([]),a=Object(s.a)(t,2),n=a[0],b=a[1],p=Object(i.c)((function(e){return e})),O=p.auth,m=(p.message,p.ananomMessages),f=p.theme,h=Object(u.h)().id;return console.log(n),Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.conversation.map((function(e){console.log(e),e.id===h&&(console.log(e),b(e.messages))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h]),console.log(n),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"message_header"}),Object(j.jsx)("div",{className:"chat_container",style:{height:"calc(100% - 180px)"},children:n.map((function(e,t){return Object(j.jsxs)("div",{children:[e.sender!==O.user._id&&Object(j.jsx)("div",{className:"chat_row other_message",children:Object(j.jsx)(d.a,{msg:e,theme:f})}),e.sender===O.user._id&&Object(j.jsx)("div",{className:"chat_row you_message",children:Object(j.jsx)(l.a,{user:O.user,msg:e,theme:f})})]},t)}))})]})}},111:function(e,t,a){"use strict";var n=a(5),c=a(1),r=a(6),s=(a(10),a(49)),o=(a(24),a(19)),i=a(13),u=a(0);t.a=function(e){var t=e.ananomId,a=e.conversation,l=Object(c.useState)(!1),d=Object(n.a)(l,2),j=d[0],b=d[1],p=Object(c.useState)(!1),O=Object(n.a)(p,2),m=(O[0],O[1]),f=Object(c.useState)(!1),h=Object(n.a)(f,2),x=h[0],v=h[1],y=Object(c.useState)(!1),g=Object(n.a)(y,2),_=g[0],N=g[1],w=Object(r.c)((function(e){return e})).auth,k=Object(r.b)();Object(c.useEffect)((function(){a.matchRequest&&b(!0),w.user.matches.forEach((function(e){e===t&&m(!0)})),a.matchRequest&&(w.user._id===a.matchRequest.sender?N(!0):w.user._id===a.matchRequest.receiver&&v(!0))}),[]);return Object(u.jsx)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center",children:Object(u.jsx)(i.b,{to:"/",className:"d-flex align-items-center",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(u.jsx)(o.a,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",size:"big-avatar"})}),Object(u.jsx)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:Object(u.jsx)("span",{className:"d-block color-c2",children:"Ananomous User"})}),_&&Object(u.jsx)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:Object(u.jsx)("span",{children:"Pending"})}),j&&x&&Object(u.jsxs)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:[Object(u.jsx)("button",{onClick:function(){m(!0),k(Object(s.b)({auth:w,id:a.matchReuest._id}))},children:"Accept"}),Object(u.jsx)("button",{onClick:function(){b(!0),k(Object(s.d)({auth:w,id:a.matchReuest._id}))},children:"Reject"})]})]})})})}},12:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"f",(function(){return p})),a.d(t,"m",(function(){return O})),a.d(t,"g",(function(){return m})),a.d(t,"k",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"j",(function(){return x})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return y})),a.d(t,"h",(function(){return g})),a.d(t,"i",(function(){return _})),a.d(t,"l",(function(){return N}));var n=a(11),c=a(3),r=a.n(c),s=a(2),o=a(8),i=a(4),u=a(10),l=a(45),d=a(14),j={CREATE_POST:"CREATE_POST",LOADING_POST:"LOADING_POST",GET_POSTS:"GET_POSTS",UPDATE_POST:"UPDATE_POST",GET_POST:"GET_POST",DELETE_POST:"DELETE_POST",REPORT_POST:"REPORT_POST",SAVE_POST:"SAVE_POST"},b=function(e){var t=e.content,a=e.images,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var b,p,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=[],e.prev=1,o({type:i.c.ALERT,payload:{loading:!0}}),!(a.length>0)){e.next=7;break}return e.next=6,Object(l.b)(a);case 6:b=e.sent;case 7:return e.next=9,Object(u.d)("posts",{content:t,images:b},n.token);case 9:p=e.sent,o({type:j.CREATE_POST,payload:Object(s.a)(Object(s.a)({},p.data.newPost),{},{user:n.user})}),o({type:i.c.ALERT,payload:{loading:!1}}),O={id:p.data.newPost._id,text:"Added a new post.",recipients:p.data.newPost.user.followers,url:"/post/".concat(p.data.newPost._id),content:t,image:b[0].url},o(Object(d.b)({msg:O,auth:n,socket:c})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,a({type:j.LOADING_POST,payload:!0}),t.next=5,Object(u.b)("posts",e);case 5:n=t.sent,console.log(n),a({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},n.data),{},{page:2})}),a({type:j.LOADING_POST,payload:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:i.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){var t=e.content,a=e.images,c=e.auth,s=e.status;return function(){var e=Object(o.a)(r.a.mark((function e(o){var d,b,p,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=[],b=a.filter((function(e){return!e.url})),p=a.filter((function(e){return e.url})),s.content!==t||0!==b.length||p.length!==s.images.length){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,o({type:i.c.ALERT,payload:{loading:!0}}),!(b.length>0)){e.next=11;break}return e.next=10,Object(l.b)(b);case 10:d=e.sent;case 11:return e.next=13,Object(u.c)("post/".concat(s._id),{content:t,images:[].concat(Object(n.a)(p),Object(n.a)(d))},c.token);case 13:O=e.sent,o({type:j.UPDATE_POST,payload:O.data.newPost}),o({type:i.c.ALERT,payload:{success:O.data.msg}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.post,a=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var l,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(s.a)(Object(s.a)({},t),{},{likes:[].concat(Object(n.a)(t.likes),[a.user]),dislikes:t.dislikes.filter((function(e){return e._id!==a.user._id}))}),o({type:j.UPDATE_POST,payload:l}),c.emit("likePost",l),c.emit("disLikePost",l),e.prev=4,e.next=7,Object(u.c)("post/".concat(t._id,"/like"),null,a.token);case 7:b={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id),content:t.content,image:t.images[0].url},o(Object(d.b)({msg:b,auth:a,socket:c})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter((function(e){return e._id!==a.user._id}))}),c({type:j.UPDATE_POST,payload:o}),n.emit("unLikePost",o),e.prev=3,e.next=6,Object(u.c)("post/".concat(t._id,"/unlike"),null,a.token);case 6:l={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id)},c(Object(d.f)({msg:l,auth:a,socket:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.post,a=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.user),l=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter((function(e){return e._id!==a.user._id})),dislikes:[].concat(Object(n.a)(t.dislikes),[a.user])}),o({type:j.UPDATE_POST,payload:l}),c.emit("disLikePost",l),c.emit("unLikePost",l),e.prev=5,e.next=8,Object(u.c)("post/".concat(t._id,"/dislike"),null,a.token);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},t),{},{dislikes:t.dislikes.filter((function(e){return e._id!==a.user._id}))}),c({type:j.UPDATE_POST,payload:o}),n.emit("disLikePost",o),e.prev=3,e.next=6,Object(u.c)("post/".concat(t._id,"/undislike"),null,a.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.detailPost,a=e.id,n=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.every((function(e){return e._id!==a}))){e.next=11;break}return e.prev=1,e.next=4,Object(u.b)("post/".concat(a),n.token);case 4:s=e.sent,c({type:j.GET_POST,payload:s.data.post}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:j.DELETE_POST,payload:t}),e.prev=1,e.next=4,Object(u.a)("post/".concat(t._id),a.token);case 4:s=e.sent,o={id:t._id,text:"Added a new post.",recipients:s.data.newPost.user.followers,url:"/post/".concat(t._id)},c(Object(d.f)({msg:o,auth:a,socket:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=t.reports.find((function(e){return e===a.user._id})))&&c.length>0)){e.next=3;break}return e.abrupt("return",n({type:i.c.ALERT,payload:{error:"You have already reported this post."}}));case 3:return(o=Object(s.a)({},t)).reports.push(a.user._id),n({type:j.REPORT_POST,payload:o}),e.prev=6,e.next=9,Object(u.c)("post/".concat(t._id,"/report"),null,a.token);case 9:l=e.sent,n({type:i.c.ALERT,payload:{success:l.data.msg}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},a.user),{},{saved:[].concat(Object(n.a)(a.user.saved),[t._id])}),c({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:o})}),e.prev=2,e.next=5,Object(u.c)("savePost/".concat(t._id),null,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(s.a)(Object(s.a)({},a.user),{},{saved:a.user.saved.filter((function(e){return e!==t._id}))}),n({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:c})}),e.prev=2,e.next=5,Object(u.c)("unSavePost/".concat(t._id),null,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}},14:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return p}));var n=a(3),c=a.n(n),r=a(2),s=a(8),o=a(4),i=a(10),u={GET_NOTIFIES:"GET_NOTIFIES",CREATE_NOTIFY:"CREATE_NOTIFY",REMOVE_NOTIFY:"REMOVE_NOTIFY",UPDATE_NOTIFY:"UPDATE_NOTIFY",UPDATE_SOUND:"UPDATE_SOUND",DELETE_ALL_NOTIFICATIONS:"DELETE_ALL_NOTIFICATIONS"},l=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(s){var u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.d)("notify",t,a.token);case 3:u=e.sent,n.emit("createNotify",Object(r.a)(Object(r.a)({},u.data.notify),{},{user:{username:a.user.username,avatar:a.user.avatar}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)("notify/".concat(t.id,"?url=").concat(t.url),a.token);case 3:n.emit("removeNotify",t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.b)("notifies",e);case 3:n=t.sent,a({type:u.GET_NOTIFIES,payload:n.data.notifies}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){var t=e.msg,a=e.auth;return function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:u.UPDATE_NOTIFY,payload:Object(r.a)(Object(r.a)({},t),{},{isRead:!0})}),e.prev=1,e.next=4,Object(i.c)("isReadNotify/".concat(t._id),null,a.token);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),n({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:u.DELETE_ALL_NOTIFICATIONS,payload:[]}),t.prev=1,t.next=4,Object(i.a)("deleteAllNotify",e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}},141:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),u=a(69),l=a(17),d=a(74),j=a(56),b=a(10),p=a(0);t.default=function(){var e=Object(i.c)((function(e){return e})),t=e.auth,a=e.discover,n=Object(i.b)(),O=Object(o.useState)(!1),m=Object(s.a)(O,2),f=m[0],h=m[1];Object(o.useEffect)((function(){a.firstLoad||n(Object(u.b)(t.token))}),[n,t.token,a.firstLoad]);var x=function(){var e=Object(r.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Object(b.b)("post_discover?num=".concat(8*a.page),t.token);case 3:r=e.sent,n({type:u.a.UPDATE_POSTS,payload:r.data}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[a.loading?Object(p.jsx)("img",{src:l.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(p.jsx)(d.a,{posts:a.posts,result:a.result}),f&&Object(p.jsx)("img",{src:l.a,alt:"Loading...",className:"d-block mx-auto"}),!a.loading&&Object(p.jsx)(j.a,{result:a.result,page:a.page,load:f,handleLoadMore:x})]})}},142:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(1),r=a(16),s=a(6),o=a(12),i=a(17),u=a(100),l=a(0);t.default=function(){var e=Object(r.h)().id,t=Object(c.useState)([]),a=Object(n.a)(t,2),d=a[0],j=a[1],b=Object(s.c)((function(e){return e})),p=b.auth,O=b.detailPost,m=Object(s.b)();return Object(c.useEffect)((function(){if(m(Object(o.e)({detailPost:O,id:e,auth:p})),O.length>0){var t=O.filter((function(t){return t._id===e}));j(t)}}),[O,m,e,p]),Object(l.jsxs)("div",{className:"posts",children:[0===d.length&&Object(l.jsx)("img",{src:i.a,alt:"Loading...",className:"d-block mx-auto my-4"}),d.map((function(e){return Object(l.jsx)(u.a,{post:e},e._id)}))]})}},143:function(e,t,a){"use strict";a.r(t);a(1);var n=a(99),c=a(110),r=a(0);t.default=function(){return Object(r.jsxs)("div",{className:"message d-flex",children:[Object(r.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(r.jsx)(n.a,{})}),Object(r.jsx)("div",{className:"col-md-8 px-0",children:Object(r.jsx)(c.a,{})})]})}},144:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(1),r=a(16),s=a(19),o=a(44),i=a(2),u=a(6),l=a(4),d=a(24),j=a(45),b=a(0),p=function(e){var t=e.setOnEdit,a=Object(c.useState)({fullname:"",mobile:"",address:"",website:"",story:"",gender:""}),r=Object(n.a)(a,2),s=r[0],p=r[1],O=s.fullname,m=s.mobile,f=s.address,h=s.website,x=s.story,v=s.gender,y=Object(c.useState)(""),g=Object(n.a)(y,2),_=g[0],N=g[1],w=Object(u.c)((function(e){return e})),k=w.auth,E=w.theme,T=Object(u.b)();Object(c.useEffect)((function(){p(k.user)}),[k.user]);var S=function(e){var t=e.target,a=t.name,n=t.value;p(Object(i.a)(Object(i.a)({},s),{},Object(o.a)({},a,n)))};return Object(b.jsxs)("div",{className:"edit_profile",children:[Object(b.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T(Object(d.e)({userData:s,avatar:_,auth:k}))},children:[Object(b.jsxs)("div",{className:"info_avatar",children:[Object(b.jsx)("img",{alt:"profile",src:_?URL.createObjectURL(_):k.user.avatar,style:{filter:E?"invert(1)":"invert(0)"}}),Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"fas fa-camera"}),Object(b.jsx)("p",{children:"Change"}),Object(b.jsx)("input",{type:"file",name:"file",id:"file_up",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=Object(j.a)(t);if(a)return T({type:l.c.ALERT,payload:{error:a}});N(t)}})]})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),Object(b.jsxs)("div",{className:"position-relative",children:[Object(b.jsx)("input",{type:"text",className:"form-control",id:"fullname",name:"fullname",value:O,onChange:S}),Object(b.jsxs)("small",{className:"text-danger position-absolute",style:{top:"50%",right:"5px",transform:"translateY(-50%)"},children:[O.length,"/25"]})]})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"mobile",name:"mobile",value:m,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"address",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:f,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"website",children:"Website"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"website",name:"website",value:h,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"story",children:"Story"}),Object(b.jsx)("textarea",{cols:"30",rows:"4",type:"text",className:"form-control",id:"story",name:"story",value:x,onChange:S}),Object(b.jsxs)("small",{className:"text-danger d-block text-right",children:[x.length,"/200"]})]}),Object(b.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(b.jsx)("div",{className:"input-group-prepend px-0 mb-4",children:Object(b.jsxs)("select",{className:"custom-select text-capitalize",name:"gender",id:"gender",onChange:S,value:v,children:[Object(b.jsx)("option",{value:"male",children:"Male"}),Object(b.jsx)("option",{value:"female",children:"Female"})]})}),Object(b.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"Save"})]})]})},O=a(64),m=a(36),f=function(e){var t=e.users,a=e.setShowFollowing,n=Object(u.c)((function(e){return e})).auth;return Object(b.jsx)("div",{className:"follow",children:Object(b.jsxs)("div",{className:"follow_box",children:[Object(b.jsx)("h5",{className:"text-center follow_box-heading",children:"Following"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)(m.a,{setShowFollowing:a,user:e,children:n.user._id!==e._id&&Object(b.jsx)(O.a,{user:e})},e._id)})),Object(b.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})},h=function(e){var t=e.users,a=e.setShowFollowers,n=Object(u.c)((function(e){return e})).auth;return Object(b.jsx)("div",{className:"follow",children:Object(b.jsxs)("div",{className:"follow_box",children:[Object(b.jsx)("h5",{className:"text-center follow_box-heading",children:"Followers"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)(m.a,{setShowFollowers:a,user:e,children:n.user._id!==e._id&&Object(b.jsx)(O.a,{user:e})},e._id)})),Object(b.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})},x=a(37),v=function(e){var t=e.setChangePassword,a=Object(c.useState)(""),r=Object(n.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(""),l=Object(n.a)(i,2),d=l[0],j=l[1],p=Object(c.useState)(""),O=Object(n.a)(p,2),m=O[0],f=O[1],h=Object(u.c)((function(e){return e})),v=h.auth,y=(h.theme,Object(u.b)());return Object(b.jsxs)("div",{className:"edit_profile",children:[Object(b.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(Object(x.b)({oldPassword:s,newPassword:d,cnfNewPassword:m,auth:v}))},children:[Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"oldPassword",children:"old password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"oldPassword",name:"oldPassword",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"newPassword",children:"new password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"newPassword",name:"newPassword",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"cnfNewPassword",children:"confirm new password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"cnfNewPassword",name:"cnfNewPassword",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(b.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"update"})]})]})},y=function(e){var t=e.id,a=e.auth,r=e.profile,o=e.dispatch,i=Object(c.useState)([]),u=Object(n.a)(i,2),d=u[0],j=u[1],m=Object(c.useState)(!1),x=Object(n.a)(m,2),y=x[0],g=x[1],_=Object(c.useState)(!1),N=Object(n.a)(_,2),w=N[0],k=N[1],E=Object(c.useState)(!1),T=Object(n.a)(E,2),S=T[0],A=T[1],L=Object(c.useState)(!1),R=Object(n.a)(L,2),C=R[0],P=R[1];return Object(c.useEffect)((function(){if(t===a.user._id)j([a.user]);else{var e=r.users.filter((function(e){return e._id===t}));j(e)}}),[t,a,o,r.users]),Object(c.useEffect)((function(){o(S||C||y?{type:l.c.MODAL,payload:!0}:{type:l.c.MODAL,payload:!1})}),[S,C,y,o]),Object(b.jsx)("div",{className:"info",children:d.map((function(e){return Object(b.jsxs)("div",{className:"info_container",children:[Object(b.jsx)("div",{className:"outer-shadow d-flex justify-content-center align-items-center",style:{borderRadius:"50%",height:"170px",width:"170px"},children:Object(b.jsx)(s.a,{src:e.avatar,size:"supper-avatar"})}),Object(b.jsxs)("div",{className:"info_content",children:[Object(b.jsxs)("div",{className:"info_content_title",children:[Object(b.jsx)("h2",{children:e.username}),e._id===a.user._id?Object(b.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return g(!0)},children:"Edit Profile"}):Object(b.jsx)(O.a,{user:e}),e._id===a.user._id&&Object(b.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return k(!0)},children:"change password"})]}),Object(b.jsxs)("div",{className:"follow_btn",children:[Object(b.jsxs)("span",{className:"mr-4",onClick:function(){return A(!0)},children:[e.followers.length," Followers"]}),Object(b.jsxs)("span",{className:"ml-4",onClick:function(){return P(!0)},children:[e.following.length," Following"]})]}),Object(b.jsxs)("h6",{children:[e.fullname," ",Object(b.jsx)("span",{className:"color-violet",children:e.mobile})]}),Object(b.jsx)("p",{className:"m-0",children:e.address}),Object(b.jsx)("h6",{children:e.email}),Object(b.jsx)("a",{style:{textDecoration:"none"},href:e.website,target:"_blank",rel:"noreferrer",children:e.website}),Object(b.jsx)("p",{children:e.story})]}),y&&Object(b.jsx)(p,{setOnEdit:g}),w&&Object(b.jsx)(v,{setChangePassword:k}),S&&Object(b.jsx)(h,{users:e.followers,setShowFollowers:A}),C&&Object(b.jsx)(f,{users:e.following,setShowFollowing:P})]},e._id)}))})},g=a(3),_=a.n(g),N=a(8),w=a(74),k=a(17),E=a(56),T=a(10),S=function(e){var t=e.auth,a=e.profile,r=e.dispatch,s=e.id,o=Object(c.useState)([]),u=Object(n.a)(o,2),l=u[0],j=u[1],p=Object(c.useState)(9),O=Object(n.a)(p,2),m=O[0],f=O[1],h=Object(c.useState)(0),x=Object(n.a)(h,2),v=x[0],y=x[1],g=Object(c.useState)(!1),S=Object(n.a)(g,2),A=S[0],L=S[1];Object(c.useEffect)((function(){a.posts.forEach((function(e){e._id===s&&(j(e.posts),f(e.result),y(e.page))}))}),[a.posts,s]);var R=function(){var e=Object(N.a)(_.a.mark((function e(){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Object(T.b)("user_posts/".concat(s,"?limit=").concat(9*v),t.token);case 3:a=e.sent,n=Object(i.a)(Object(i.a)({},a.data),{},{page:v+1,_id:s}),r({type:d.a.UPDATE_POST,payload:n}),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{posts:l,result:m}),A&&Object(b.jsx)("img",{src:k.a,alt:"Loading...",className:"d-block mx-auto"}),Object(b.jsx)(E.a,{result:m,page:v,load:A,handleLoadMore:R})]})},A=function(e){var t=e.auth,a=e.dispatch,r=Object(c.useState)([]),s=Object(n.a)(r,2),o=s[0],i=s[1],u=Object(c.useState)(9),d=Object(n.a)(u,2),j=d[0],p=d[1],O=Object(c.useState)(2),m=Object(n.a)(O,2),f=m[0],h=m[1],x=Object(c.useState)(!1),v=Object(n.a)(x,2),y=v[0],g=v[1];Object(c.useEffect)((function(){return g(!0),Object(T.b)("getSavePosts",t.token).then((function(e){i(e.data.savePosts),p(e.data.result),g(!1)})).catch((function(e){a({type:l.c.ALERT,payload:{error:e.response.data.msg}})})),function(){return i([])}}),[a,t.token]);var S=function(){var e=Object(N.a)(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(T.b)("getSavePosts?limit=".concat(9*f),t.token);case 3:a=e.sent,i(a.data.savePosts),p(a.data.result),h(f+1),g(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{posts:o,result:j}),y&&Object(b.jsx)("img",{src:k.a,alt:"Loading...",className:"d-block mx-auto"}),Object(b.jsx)(E.a,{result:j,page:f,load:y,handleLoadMore:S})]})};t.default=function(){var e=Object(u.c)((function(e){return e})),t=e.profile,a=e.auth,s=Object(u.b)(),o=Object(r.h)().id,i=Object(c.useState)(!1),l=Object(n.a)(i,2),j=l[0],p=l[1];return Object(c.useEffect)((function(){t.ids.every((function(e){return e!==o}))&&s(Object(d.c)({id:o,auth:a}))}),[o,a,s,t.ids]),Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)(y,{auth:a,profile:t,dispatch:s,id:o}),a.user._id===o&&Object(b.jsxs)("div",{className:"profile_tab",children:[Object(b.jsx)("button",{className:j?"":"active",onClick:function(){return p(!1)},children:"posts"}),Object(b.jsx)("button",{className:j?"active":"",onClick:function(){return p(!0)},children:"saved"})]}),t.loading?Object(b.jsx)("img",{className:"d-block mx-auto my-4",src:k.a,alt:"Loading"}):Object(b.jsx)(b.Fragment,{children:j?Object(b.jsx)(A,{auth:a,dispatch:s}):Object(b.jsx)(S,{auth:a,profile:t,dispatch:s,id:o})})]})}},145:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(98),r=a(3),s=a.n(r),o=a(8),i=a(11),u=a(5),l=a(36),d=a(6),j=a(16),b=a(67),p=a(63),O=a(4),m=a(29),f=a(45),h=a(32),x=a(17),v=a(0),y=function(){var e=Object(d.c)((function(e){return e})),t=e.auth,a=e.message,c=e.theme,r=e.socket,y=Object(d.b)(),g=Object(n.useState)([]),_=Object(u.a)(g,2),N=_[0],w=_[1],k=Object(n.useState)(""),E=Object(u.a)(k,2),T=E[0],S=E[1],A=Object(n.useState)(0),L=Object(u.a)(A,2),R=L[0],C=L[1],P=Object(n.useState)([]),D=Object(u.a)(P,2),I=D[0],U=D[1],G=Object(j.h)().id,F=Object(n.useState)([]),M=Object(u.a)(F,2),z=M[0],H=M[1],V=Object(n.useState)(!1),Y=Object(u.a)(V,2),q=Y[0],W=Y[1],Q=Object(n.useRef)(),B=Object(n.useRef)();Object(n.useEffect)((function(){var e=a.data.filter((function(e){return e.sender===t.user._id||e.sender===G}));U(e)}),[a.data,t.user._id,G]),Object(n.useEffect)((function(){var e=a.users.find((function(e){return e._id===G}));e&&w(e)}),[a.users,G]);var K=function(){var e=Object(o.a)(s.a.mark((function e(a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),T.trim()||0!==z.length){e.next=3;break}return e.abrupt("return");case 3:if(S(""),H([]),W(!0),n=[],!(z.length>0)){e.next=11;break}return e.next=10,Object(f.b)(z);case 10:n=e.sent;case 11:return c={sender:t.user._id,recipient:G,text:T,media:n,createdAt:(new Date).toISOString()},W(!1),e.next=15,y(Object(h.b)({msg:c,auth:t,socket:r}));case 15:Q.current&&Q.current.scrollIntoView({behaviour:"smooth",block:"end"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){G&&function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({type:h.a.GET_MESSAGES,payload:{messages:[]}}),C(1),e.next=4,y(Object(h.e)({auth:t,id:G}));case 4:Q.current&&Q.current.scrollIntoView({behaviour:"smooth",block:"end"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[G,y,t]),Object(n.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&C((function(e){return e+1}))}),{threshold:.1}).observe(B.current)}),[C]),Object(n.useEffect)((function(){a.resultData>=9*(R-1)&&R>1&&y(Object(h.e)({auth:t,id:G,page:R}))}),[a.resultData,R,G,t,y]),Object(n.useEffect)((function(){Q.current&&Q.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[T]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"message_header",children:0!==N.length&&Object(v.jsx)(l.a,{user:N,children:Object(v.jsx)("i",{className:"fas fa-trash text-danger"})})}),Object(v.jsx)("div",{className:"chat_container",style:{height:z.length>0?"calc(100% - 180px)":""},children:Object(v.jsxs)("div",{className:"chat_display",ref:Q,children:[Object(v.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:B,children:"Load.."}),I.map((function(e,a){return Object(v.jsxs)("div",{children:[e.sender!==t.user._id&&Object(v.jsx)("div",{className:"chat_row other_message",children:Object(v.jsx)(b.a,{user:N,msg:e,theme:c})}),e.sender===t.user._id&&Object(v.jsx)("div",{className:"chat_row you_message",children:Object(v.jsx)(b.a,{user:t.user,msg:e,theme:c})})]},a)})),q&&Object(v.jsx)("div",{className:"chat_row you_message",children:Object(v.jsx)("img",{src:x.a,alt:"Loading..."})})]})}),Object(v.jsx)("div",{className:"show_media",style:{display:z.length>0?"":"none"},children:z.map((function(e,t){return Object(v.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(m.b)(URL.createObjectURL(e),c):Object(m.a)(URL.createObjectURL(e),c),Object(v.jsx)("span",{onClick:function(){return function(e){var t=Object(i.a)(z);t.splice(e,1),H(t)}(t)},children:"\xd7"})]},t)}))}),Object(v.jsxs)("form",{className:"chat_input",onSubmit:K,children:[Object(v.jsx)("input",{placeholder:"Type a message.",type:"text",value:T,onChange:function(e){return S(e.target.value)},style:{filter:c?"invert(1)":"invert(0)",background:c?"#040404":"",color:c?"white":""}}),Object(v.jsx)(p.a,{setContent:S,content:T,theme:c}),Object(v.jsxs)("div",{className:"file_upload",children:[Object(v.jsx)("i",{className:"fas fa-image color-c1"}),Object(v.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(i.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&y({type:O.c.ALERT,payload:{error:a}}),H([].concat(Object(i.a)(z),n))}})]}),Object(v.jsx)("button",{type:"submit",disabled:!(T||z.length>0),className:"material-icons",children:"near_me"})]})]})};t.default=function(){return Object(v.jsxs)("div",{className:"message d-flex",children:[Object(v.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(v.jsx)(c.a,{})}),Object(v.jsx)("div",{className:"col-md-8 px-0",children:Object(v.jsx)(y,{})})]})}},165:function(e,t,a){},17:function(e,t,a){"use strict";t.a=a.p+"static/media/loading.10625dac.gif"},19:function(e,t,a){"use strict";a(1);var n=a(6),c=a(0);t.a=function(e){var t=e.src,a=e.size,r=Object(n.c)((function(e){return e})).theme;return Object(c.jsx)("img",{src:t,alt:"Avatar",className:a,style:{filter:"".concat(r?"invert(1)":"invert(0)")}})}},200:function(e,t,a){var n={"./adminDashboard":91,"./adminDashboard.js":91,"./ananommessage":88,"./ananommessage/":88,"./ananommessage/index":88,"./ananommessage/index.js":88,"./discover":141,"./discover.js":141,"./home":92,"./home.js":92,"./login":75,"./login.js":75,"./matchrequests":85,"./matchrequests/":85,"./matchrequests/index":85,"./matchrequests/index.js":85,"./message":86,"./message/":86,"./message/[id]":145,"./message/[id].js":145,"./message/index":86,"./message/index.js":86,"./post/[id]":142,"./post/[id].js":142,"./profile/[id]":144,"./profile/[id].js":144,"./register":90,"./register.js":90,"./savemessage":87,"./savemessage/":87,"./savemessage/[id]":143,"./savemessage/[id].js":143,"./savemessage/index":87,"./savemessage/index.js":87};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=200},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"i",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"h",(function(){return p})),a.d(t,"c",(function(){return O})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return f}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i=a(14),u={GET_TOTAL_USERS:"GET_TOTAL_USERS",GET_TOTAL_POSTS:"GET_TOTAL_POSTS",GET_TOTAL_COMMENTS:"GET_TOTAL_COMMENTS",GET_TOTAL_LIKES:"GET_TOTAL_LIKES",GET_TOTAL_SPAM_POSTS:"GET_TOTAL_SPAM_POSTS",GET_TOTAL_ACTIVE_USERS:"GET_TOTAL_ACTIVE_USERS",GET_SPAM_POSTS:"GET_SPAM_POSTS",LOADING_ADMIN:"LOADING_ADMIN",DELETE_POST:"DELETE_POST"},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_users",e);case 4:n=t.sent,a({type:u.GET_TOTAL_USERS,payload:n.data}),a({type:u.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_posts",e);case 4:n=t.sent,a({type:u.GET_TOTAL_POSTS,payload:n.data}),a({type:u.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_comments",e);case 4:n=t.sent,a({type:u.GET_TOTAL_COMMENTS,payload:n.data}),a({type:u.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_likes",e);case 4:n=t.sent,a({type:u.GET_TOTAL_LIKES,payload:n.data}),a({type:u.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_spam_posts",e);case 4:n=t.sent,a({type:u.GET_TOTAL_SPAM_POSTS,payload:n.data}),a({type:u.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:u.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_spam_posts",e);case 4:n=t.sent,a({type:u.GET_SPAM_POSTS,payload:n.data.spamPosts}),a({type:u.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(r){var l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:u.DELETE_POST,payload:t}),e.prev=1,e.next=4,Object(o.a)("delete_spam_posts/".concat(t._id),a.token);case 4:l=e.sent,r({type:s.c.ALERT,payload:{success:l.data.msg}}),d={id:a.user._id,text:"Your Post is deleted due to too many reports.",recipients:[t.user._id],url:"/profile/".concat(t.user._id)},r(Object(i.b)({msg:d,auth:a,socket:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.auth,a=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.emit("getActiveUsers",t.user._id)}catch(c){n({type:s.c.ALERT,payload:{error:c.response.data.msg}})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},219:function(e,t,a){},221:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(55),s=a.n(r),o=(a(165),a(13)),i=a(16),u=a(6),l=a(147),d=a.n(l),j=a(0),b=function(){return Object(j.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(j.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | Not Found."})})},p=function(){var e=Object(i.h)(),t=e.page,n=e.id,r="";return Object(u.c)((function(e){return e})).auth.token&&(n?(console.log(t,n),r="".concat(t,"/[id]")):(console.log(t),r="".concat(t))),function(e){try{return c.a.createElement(a(200)("./".concat(e)).default)}catch(t){return Object(j.jsx)(b,{})}}(r)},O=a(2),m=function(e){return localStorage.getItem("firstLogin")?Object(j.jsx)(i.b,Object(O.a)({},e)):Object(j.jsx)(i.a,{to:"/"})},f=a(75),h=a(90),x=a(92),v=a(39),y=function(){return Object(j.jsxs)("div",{style:{background:"white",top:0,left:0,zIndex:50,opacity:.7},className:"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center",children:[Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{})]}),Object(j.jsx)("text",{className:"loading_text",fill:"#fff",x:"5",y:"47",children:"Loading"})]})},g=function(e){var t=e.msg,a=e.handleShow,c=(e.bgColor,e.URL);console.log(t);return Object(n.useEffect)((function(){v.b.clearWaitingQueue(),"Error"===t.title&&v.b.error(t.body,{theme:"colored",autoClose:3e3,onClose:a}),"Success"===t.title&&v.b.success(t.body,{theme:"colored",autoClose:3e3,onClose:a})}),[]),Object(j.jsx)("div",{onClick:function(){c||console.log("toast clicked")},children:Object(j.jsx)(v.a,{})})},_=a(4),N=function(){var e=Object(u.c)((function(e){return e})).alert,t=Object(u.b)();return Object(j.jsxs)("div",{children:[e.loading&&Object(j.jsx)(y,{}),e.error&&Object(j.jsx)(g,{msg:{title:"Error",body:e.error},handleShow:function(){t({type:_.c.ALERT,payload:{}})},bgColor:"bg-danger"}),e.success&&Object(j.jsx)(g,{msg:{title:"Success",body:e.success},handleShow:function(){return t({type:_.c.ALERT,payload:{}})},bgColor:"bg-success"})]})},w=a(5),k=a(37),E=a(19),T=a(61),S=a.n(T),A=a(14),L=function(){var e=Object(u.c)((function(e){return e})),t=e.auth,a=e.notify,n=Object(u.b)(),c=function(){n({type:A.a.UPDATE_SOUND,payload:!a.sound})};return Object(j.jsxs)("div",{className:"mt-1",style:{minWidth:"280px",boxShadow:"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)",background:"white",borderRadius:"10px",borderTopRightRadius:"0"},children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("h3",{children:"Notifications"}),a.sound?Object(j.jsx)("i",{className:"fas fa-bell text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:c}):Object(j.jsx)("i",{className:"fas fa-bell-slash text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:c})]}),Object(j.jsx)("hr",{className:"mt-1"}),0===a.data.length&&Object(j.jsx)("span",{className:"text-muted w-100 text-center",children:"No Notifications"}),Object(j.jsx)("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto"},children:a.data.map((function(e,a){return Object(j.jsxs)("div",{className:"px-2 mb-3",children:[Object(j.jsxs)(o.b,{to:"".concat(e.url),style:{textDecoration:"none"},className:"d-flex text-dark align-items-center",onClick:function(){return function(e){n(Object(A.e)({msg:e,auth:t}))}(e)},children:[Object(j.jsx)(E.a,{src:e.user.avatar,size:"big-avatar"}),Object(j.jsxs)("div",{className:"flex-fill mx-1",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{className:"mr-1",children:e.user.username}),Object(j.jsx)("span",{children:e.text})]}),e.content&&Object(j.jsxs)("small",{children:[e.content.slice(0,20),"..."]})]}),Object(j.jsx)("div",{style:{width:"30px"},children:e.image&&Object(j.jsx)(E.a,{src:e.image,size:"medium-avatar"})})]}),Object(j.jsxs)("small",{className:"text-muted d-flex justify-content-between px-2",children:[S()(e.createdAt).fromNow(),!e.isRead&&Object(j.jsx)("i",{className:"fas fa-circle color-c1"})]})]},a)}))}),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsx)("div",{className:"text-end my-auto me-2 color-c1",style:{cursor:"pointer"},onClick:function(){var e=a.data.filter((function(e){return!1===e.isRead}));return 0===e.length||window.confirm("You have ".concat(e.length," unread notifications.Do you want to delete all notifications?"))?n(Object(A.c)(t.token)):void 0},children:"Delete"})]})},R=function(){var e=Object(n.useState)([]),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(u.c)((function(e){return e})),s=r.auth,l=r.theme,d=r.notify,b=Object(u.b)(),p=Object(i.g)().pathname,O=function(e){if(e===p)return"active"};return Object(n.useEffect)((function(){var e=d.data.filter((function(e){return!1===e.isRead}));c(e)}),[d]),Object(j.jsx)("div",{className:"menu",children:Object(j.jsxs)("ul",{className:"navbar-nav flex-row mb-2 mb-lg-0",children:[[{label:"Home",icon:"home",path:"/"},{label:"Message",icon:"near_me",path:"/message"},{label:"AnanomMessage",icon:"near_me",path:"/ananommessage"},{label:"SaveMesssage",icon:"near_me",path:"/savemessage"},{label:"Discover",icon:"explore",path:"/discover"}].map((function(e,t){return Object(j.jsx)("li",{className:"nav-item px-2 ".concat(O(e.path)),children:Object(j.jsx)(o.b,{className:"nav-link ",to:e.path,children:Object(j.jsx)("span",{className:"material-icons ",children:e.icon})})},t)})),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsxs)("span",{className:"nav-link position-relative",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(j.jsx)("span",{style:{color:d.data.length>0?"var(--c1)":""},className:"material-icons ",children:"notifications"}),Object(j.jsx)("span",{className:"notify_length",children:a.length})]}),Object(j.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(j.jsx)(L,{})})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsx)("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(j.jsx)(E.a,{src:s.user.avatar,size:"medium-avatar"})}),Object(j.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/profile/".concat(s.user._id),children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)("label",{style:{color:"white"},htmlFor:"theme",className:"dropdown-item",onClick:function(){return b({type:_.c.THEME,payload:!l})},children:l?"Light mode":"Dark mode"})}),Object(j.jsx)("li",{children:Object(j.jsx)("hr",{className:"dropdown-divider"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/",onClick:function(){return b(Object(k.d)())},children:"Logout"})})]})]})]})})},C=a(3),P=a.n(C),D=a(8),I=a(10),U=a(36),G=a(17),F=function(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(w.a)(r,2),o=s[0],i=s[1],l=Object(u.c)((function(e){return e})).auth,d=Object(u.b)(),b=Object(n.useState)(!1),p=Object(w.a)(b,2),O=p[0],m=p[1],f=function(){var e=Object(D.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,m(!0),e.next=7,Object(I.b)("search?username=".concat(a),l.token);case 7:n=e.sent,i(n.data.users),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),d({type:_.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){c(""),i([])};return Object(j.jsxs)("form",{className:"search_form",onSubmit:f,children:[Object(j.jsx)("input",{type:"text",title:"Enter to Search",name:"search",value:a,id:"search",onChange:function(e){return c(e.target.value.toLowerCase().replace(/ /g," "))}}),Object(j.jsxs)("div",{className:"search_icon",style:{opacity:a?0:.3},children:[Object(j.jsx)("span",{className:"material-icons",children:"search"}),Object(j.jsx)("span",{children:"Enter to Search"})]}),Object(j.jsx)("div",{onClick:h,className:"close_search",style:{opacity:0===o.length?0:1},children:"\xd7"}),Object(j.jsx)("button",{type:"submit",style:{display:"none"},children:"Search"}),O&&Object(j.jsx)("img",{className:"loading",src:G.a,alt:"Loading"}),Object(j.jsx)("div",{className:"users",children:a&&o.map((function(e){return Object(j.jsx)(U.a,{user:e,border:"border",handleClose:h},e._id)}))})]})},M=a(12),z=a(59),H=function(){var e=Object(u.c)((function(e){return e})).auth,t=Object(u.b)();return Object(j.jsx)("div",{className:"header bg-light",children:Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(o.b,{to:"/",className:"logo",onClick:function(){window.scrollTo({top:0}),t(Object(M.f)(e.token)),t(Object(z.b)(e.token))},children:Object(j.jsx)("h1",{className:"navbar-brand text-uppercase p-0 m-0",children:"DatingInsta"})}),Object(j.jsx)(F,{}),Object(j.jsx)(R,{})]})})})},V=a(11),Y=a(63),q=a(29),W=function(){var e=Object(u.c)((function(e){return e})),t=e.auth,a=e.theme,c=e.status,r=e.socket,s=Object(u.b)(),o=Object(n.useState)(""),i=Object(w.a)(o,2),l=i[0],d=i[1],b=Object(n.useState)([]),p=Object(w.a)(b,2),O=p[0],m=p[1],f=Object(n.useState)(!1),h=Object(w.a)(f,2),x=h[0],v=h[1],y=Object(n.useRef)(),g=Object(n.useRef)(),N=Object(n.useState)(""),k=Object(w.a)(N,2),E=k[0],T=k[1];return Object(n.useEffect)((function(){c.onEdit&&(d(c.content),m(c.images))}),[c]),Object(j.jsx)("div",{className:"status_modal",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===O.length)return s({type:_.c.ALERT,payload:{error:"Add image(s)."}});c.onEdit?s(Object(M.m)({content:l,images:O,auth:t,status:c})):s(Object(M.b)({content:l,images:O,auth:t,socket:r})),d(""),m([]),E&&E.stop(),s({type:_.c.STATUS,payload:!1})},children:[Object(j.jsxs)("div",{className:"status_header",children:[Object(j.jsx)("h5",{className:"m-0",children:"Create Post"}),Object(j.jsx)("span",{onClick:function(){return s({type:_.c.STATUS,payload:!1})},children:"\xd7"})]}),Object(j.jsxs)("div",{className:"status_body",children:[Object(j.jsx)("textarea",{onChange:function(e){return d(e.target.value)},value:l,name:"content",placeholder:"".concat(t.user.username,", What's on your mind?"),style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111",background:a?"rgb(0,0,0,0.3)":""}}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("div",{className:"flex-fill"}),Object(j.jsx)(Y.a,{setContent:d,content:l,theme:a})]}),Object(j.jsx)("div",{className:"show_images",children:O.map((function(e,t){return Object(j.jsxs)("div",{className:"file_img",children:[e.camera?Object(q.a)(e.camera,a):e.url?Object(j.jsx)(j.Fragment,{children:e.url.match(/video/i)?Object(q.b)(e.url):Object(q.a)(e.url)}):Object(j.jsx)(j.Fragment,{children:e.type.match(/video/i)?Object(q.b)(URL.createObjectURL(e,a)):Object(q.a)(URL.createObjectURL(e,a))}),Object(j.jsx)("span",{onClick:function(){return function(e){var t=Object(V.a)(O);t.splice(e,1),m(t)}(t)},children:"\xd7"})]},t)}))}),x&&Object(j.jsxs)("div",{className:"stream position-relative",children:[Object(j.jsx)("video",{width:"100%",height:"100%",ref:y,style:{filter:a?"invert(1)":"invert(0)"},autoPlay:!0,muted:!0}),Object(j.jsx)("span",{onClick:function(){E.stop(),v(!1)},children:"\xd7"}),Object(j.jsx)("canvas",{style:{display:"none"},ref:g})]}),Object(j.jsx)("div",{className:"input_images",children:x?Object(j.jsx)("i",{className:"fas fa-camera",onClick:function(){var e=y.current.clientWidth,t=y.current.clientHeight;g.current.setAttribute("width",e),g.current.setAttribute("height",t),g.current.getContext("2d").drawImage(y.current,0,0,e,t);var a=g.current.toDataURL();m([].concat(Object(V.a)(O),[{camera:a}]))}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fas fa-camera",onClick:function(){v(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){y.current.srcObject=e,y.current.play();var t=e.getTracks();T(t[0])})).catch((function(e){return console.log(e)}))}}),Object(j.jsxs)("div",{className:"file_upload",children:[Object(j.jsx)("i",{className:"fas fa-image"}),Object(j.jsx)("input",{onChange:function(e){var t=Object(V.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&s({type:_.c.ALERT,payload:{error:a}}),m([].concat(Object(V.a)(O),n))},type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*"})]})]})})]}),Object(j.jsx)("div",{className:"status_footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})},Q=a(91),B=a(21),K=a(32),J=a.p+"static/media/pristine-609.9287f5ce.mp3",X=function(){var e=Object(u.c)((function(e){return e})),t=e.auth,a=e.socket,c=e.notify,r=Object(u.b)(),s=Object(n.useRef)();return Object(n.useEffect)((function(){"user"===t.user.role?a.emit("joinUser",t.user._id):"admin"===t.user.role&&a.emit("joinAdmin",t.user._id)}),[a,t.user.role,t.user._id]),Object(n.useEffect)((function(){return a.on("getActiveUsersToClient",(function(e){r({type:B.a.GET_TOTAL_ACTIVE_USERS,payload:e})})),function(){return a.off("getActiveUsersToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("likeToClient",(function(e){r({type:M.a.UPDATE_POST,payload:e})})),function(){return a.off("likeToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("unLikeToClient",(function(e){r({type:M.a.UPDATE_POST,payload:e})})),function(){return a.off("unLikeToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("createCommentToClient",(function(e){r({type:M.a.UPDATE_POST,payload:e})})),function(){return a.off("createCommentToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("deleteCommentToClient",(function(e){r({type:M.a.UPDATE_POST,payload:e})})),function(){return a.off("deleteCommentToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("followToClient",(function(e){r({type:_.c.AUTH,payload:Object(O.a)(Object(O.a)({},t),{},{user:e})})})),function(){return a.off("followToClient")}}),[a,r,t]),Object(n.useEffect)((function(){return a.on("unFollowToClient",(function(e){r({type:_.c.AUTH,payload:Object(O.a)(Object(O.a)({},t),{},{user:e})})})),function(){return a.off("unFollowToClient")}}),[a,r,t]),Object(n.useEffect)((function(){return a.on("createNotifyToClient",(function(e){var t,a,n;r({type:A.a.CREATE_NOTIFY,payload:e}),c.sound&&s.current.play(),t=e.user.username+" "+e.text,a=e.user.avatar,n=e.url,new Notification("CAMPUS CONNECT",{body:t,icon:a}).onclick=function(e){e.preventDefault(),window.open(n,"_blank")}})),function(){return a.off("createNotifyToClient")}}),[a,r,c.sound]),Object(n.useEffect)((function(){return a.on("removeNotifyToClient",(function(e){r({type:A.a.REMOVE_NOTIFY,payload:e})})),function(){return a.off("removeNotifyToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("addMessageToClient",(function(e){r({type:K.a.ADD_MESSAGE,payload:e})})),function(){return a.off("addMessageToClient")}}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("audio",{controls:!0,ref:s,style:{display:"none"},children:Object(j.jsx)("source",{src:J,type:"audio/mp3"})})})};var Z=function(){var e=Object(u.c)((function(e){return e})),t=e.auth,a=e.status,c=e.modal,r=e.userType,s=Object(u.b)();return Object(n.useEffect)((function(){s(Object(k.e)());var e=d()();return s({type:_.c.SOCKET,payload:e}),function(){return e.close()}}),[s]),Object(n.useEffect)((function(){t.token&&(s(Object(M.f)(t.token)),s(Object(z.b)(t.token)),s(Object(A.d)(t.token)))}),[s,t.token]),Object(n.useEffect)((function(){"Notification"in window?"granted"===Notification.permission||"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){})):alert("This browser does not support desktop notification")}),[]),Object(j.jsxs)(o.a,{children:[Object(j.jsx)(N,{}),Object(j.jsx)("input",{type:"checkbox",id:"theme"}),Object(j.jsx)("div",{className:"App ".concat((a||c)&&"mode"),children:Object(j.jsxs)("div",{className:"main",children:["user"===r&&t.token&&Object(j.jsx)(H,{}),a&&Object(j.jsx)(W,{}),t.token&&Object(j.jsx)(X,{}),Object(j.jsx)(i.b,{exact:!0,path:"/",component:"user"===r?t.token?x.default:f.default:t.token?Q.default:f.default}),"user"===r&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/register",component:h.default}),Object(j.jsx)(i.b,{exact:!0,path:"/login",component:f.default}),Object(j.jsxs)("div",{className:"wrap_page",children:[Object(j.jsx)(m,{exact:!0,path:"/:page",component:p}),Object(j.jsx)(m,{exact:!0,path:"/:page/:id",component:p})]})]})]})})]})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,260)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},ee=(a(225),a(60)),te=a(154),ae={},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.AUTH:return t.payload;default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.USER_TYPE:return t.payload;default:return e}},re={},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.ALERT:return t.payload;default:return e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.THEME:return t.payload;default:return e}},ie=a(24),ue={loading:!1,ids:[],users:[],posts:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.a.LOADING:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case ie.a.GET_USER:return Object(O.a)(Object(O.a)({},e),{},{users:[].concat(Object(V.a)(e.users),[t.payload.user])});case ie.a.FOLLOW:case ie.a.UNFOLLOW:return Object(O.a)(Object(O.a)({},e),{},{users:Object(_.b)(e.users,t.payload._id,t.payload)});case ie.a.GET_ID:return Object(O.a)(Object(O.a)({},e),{},{ids:[].concat(Object(V.a)(e.ids),[t.payload])});case ie.a.GET_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:[].concat(Object(V.a)(e.posts),[t.payload])});case ie.a.UPDATE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(_.b)(e.posts,t.payload._id,t.payload)});default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.STATUS:return t.payload;default:return e}},je={loading:!1,posts:[],result:0,page:2},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.a.CREATE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:[t.payload].concat(Object(V.a)(e.posts))});case M.a.LOADING_POST:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case M.a.GET_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,page:t.payload.page});case M.a.UPDATE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(_.b)(e.posts,t.payload._id,t.payload)});case M.a.DELETE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(_.a)(e.posts,t.payload._id)});case M.a.REPORT_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(_.b)(e.posts,t.payload._id,t.payload)});default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.MODAL:return t.payload;default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.a.GET_POST:return[].concat(Object(V.a)(e),[t.payload]);case M.a.UPDATE_POST:return Object(_.b)(e,t.payload._id,t.payload);default:return e}},me={total_users:0,total_posts:0,total_comments:0,total_likes:0,total_active_users:0,total_spam_posts:0,spam_posts:[]},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.a.GET_TOTAL_USERS:return Object(O.a)(Object(O.a)({},e),{},{total_users:t.payload.total_users});case B.a.GET_TOTAL_POSTS:return Object(O.a)(Object(O.a)({},e),{},{total_posts:t.payload.total_posts});case B.a.GET_TOTAL_COMMENTS:return Object(O.a)(Object(O.a)({},e),{},{total_comments:t.payload.total_comments});case B.a.GET_TOTAL_LIKES:return Object(O.a)(Object(O.a)({},e),{},{total_likes:t.payload.total_likes});case B.a.GET_TOTAL_SPAM_POSTS:return Object(O.a)(Object(O.a)({},e),{},{total_spam_posts:t.payload.total_spam_posts});case B.a.GET_TOTAL_ACTIVE_USERS:return Object(O.a)(Object(O.a)({},e),{},{total_active_users:t.payload});case B.a.LOADING_ADMIN:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case B.a.GET_SPAM_POSTS:return Object(O.a)(Object(O.a)({},e),{},{spam_posts:Object(V.a)(t.payload)});case B.a.DELETE_POST:return Object(O.a)(Object(O.a)({},e),{},{spam_posts:Object(_.a)(e.spam_posts,t.payload._id)});default:return e}},he=a(69),xe={loading:!1,posts:[],result:9,page:2,firstLoad:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.a.LOADING:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case he.a.GET_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,firstLoad:!0});case he.a.UPDATE_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(V.a)(t.payload.posts),result:t.payload.result,page:e.page+1});default:return e}},ye={loading:!1,users:[]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.a.LOADING:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case z.a.GET_USERS:return Object(O.a)(Object(O.a)({},e),{},{users:t.payload.users});default:return e}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c.SOCKET:return t.payload;default:return e}},Ne={loading:!1,data:[],sound:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.a.GET_NOTIFIES:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload});case A.a.CREATE_NOTIFY:return Object(O.a)(Object(O.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[t.payload])});case A.a.UPDATE_NOTIFY:return Object(O.a)(Object(O.a)({},e),{},{data:Object(_.b)(e.data,t.payload._id,t.payload)});case A.a.UPDATE_SOUND:return Object(O.a)(Object(O.a)({},e),{},{sound:t.payload});case A.a.REMOVE_NOTIFY:return Object(O.a)(Object(O.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id||e.url!==t.payload.url}))});case A.a.DELETE_ALL_NOTIFICATIONS:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload});default:return e}},ke={users:[],resultUsers:0,data:[],resultData:0,firstLoad:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.a.ADD_USER:return Object(O.a)(Object(O.a)({},e),{},{users:[].concat(Object(V.a)(e.data),[t.payload])});case K.a.ADD_MESSAGE:return Object(O.a)(Object(O.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[t.payload]),users:e.users.map((function(e){return e._id===t.payload.recipient||e._id===t.payload.sender?Object(O.a)(Object(O.a)({},e),{},{text:t.payload.text,media:t.payload.media}):e}))});case K.a.GET_CONVERSATIONS:return Object(O.a)(Object(O.a)({},e),{},{users:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case K.a.GET_MESSAGES:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload.messages.reverse(),resultData:t.payload.result});default:return e}},Te=a(41),Se={conversation:[],data:[],resultData:0,resultUsers:0,firstLoad:!1},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te.a.ADD_ANANOM_MESSAGE:return Object(O.a)(Object(O.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[t.payload])});case Te.a.GET_ANANOM_CONVERSATIONS:return Object(O.a)(Object(O.a)({},e),{},{conversation:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case Te.a.GET_ANANOM_MESSAGES:return Object(O.a)(Object(O.a)({},e),{},{data:[]});default:return e}},Le=a(49),Re={sentRequests:[],receivedRequests:[],resultSentRequests:0,resultReceivedRequests:0,firstLoad:!1},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.a.CREATE_REQUEST:return Object(O.a)({},e);case Le.a.GET_SENT_REQUESTS:return Object(O.a)(Object(O.a)({},e),{},{sentRequests:t.payload.newArr,resultSentRequests:t.payload.result});case Le.a.GET_RECEIVED_REQUESTS:return Object(O.a)(Object(O.a)({},e),{},{sentRequests:t.payload.newArr,resultReceivedRequests:t.payload.result});case Le.a.GET_MESSAGES:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload.messages.reverse(),resultData:t.payload.result});default:return e}},Pe=Object(ee.combineReducers)({auth:ne,alert:se,theme:oe,profile:le,status:de,homePosts:be,modal:pe,detailPost:Oe,userType:ce,admin:fe,discover:ve,suggestions:ge,socket:_e,notify:we,message:Ee,ananomMessages:Ae,requests:Ce}),De=a(155),Ie=Object(ee.createStore)(Pe,Object(De.composeWithDevTools)(Object(ee.applyMiddleware)(te.a))),Ue=function(e){var t=e.children;return Object(j.jsx)(u.a,{store:Ie,children:t})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Ue,{children:Object(j.jsx)(Z,{})})}),document.getElementById("root")),$()},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return O})),a.d(t,"d",(function(){return m}));var n=a(11),c=a(3),r=a.n(c),s=a(2),o=a(8),i=a(4),u=a(10),l=a(45),d=a(14),j={LOADING:"LOADING_PROFILE",GET_USER:"GET_PROFILE_USER",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",GET_ID:"GET_PROFILE_ID",GET_POSTS:"GET_PROFILE_POSTS",UPDATE_POST:"UPDATE_PROFILE_POSTS"},b=function(e){var t=e.id,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:j.GET_ID,payload:t}),e.prev=1,n({type:j.LOADING,payload:!0}),c=Object(u.b)("/user/".concat(t),a.token),o=Object(u.b)("/user_posts/".concat(t),a.token),e.next=7,c;case 7:return l=e.sent,e.next=10,o;case 10:d=e.sent,n({type:j.GET_USER,payload:l.data}),n({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},d.data),{},{_id:t,page:2})}),n({type:j.LOADING,payload:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.userData,a=e.avatar,n=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fullname){e.next=2;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Please enter full name."}}));case 2:if(!(t.fullname.length>25)){e.next=4;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Full name is too long."}}));case 4:if(!(t.story.length>200)){e.next=6;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Story is too long."}}));case 6:if(e.prev=6,c({type:i.c.ALERT,payload:{loading:!0}}),!a){e.next=12;break}return e.next=11,Object(l.b)([a]);case 11:o=e.sent;case 12:return e.next=14,Object(u.c)("user",Object(s.a)(Object(s.a)({},t),{},{avatar:a?o[0].url:n.user.avatar}),n.token);case 14:d=e.sent,c({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)(Object(s.a)({},n.user),t),{},{avatar:a?o[0].url:n.user.avatar})})}),c({type:i.c.ALERT,payload:{success:d.data.msg}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.users,a=e.user,c=e.auth,l=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var b,p,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==a._id}))?b=Object(s.a)(Object(s.a)({},a),{},{followers:[].concat(Object(n.a)(a.followers),[c.user])}):t.forEach((function(e){e._id===a._id&&(b=Object(s.a)(Object(s.a)({},e),{},{followers:[].concat(Object(n.a)(e.followers),[c.user])}))})),o({type:j.FOLLOW,payload:b}),o({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},c),{},{user:Object(s.a)(Object(s.a)({},c.user),{},{following:[].concat(Object(n.a)(c.user.following),[b])})})}),e.prev=3,e.next=6,Object(u.c)("/user/".concat(a._id,"/follow"),null,c.token);case 6:p=e.sent,l.emit("follow",p.data.newUser),O={id:c.user._id,text:"started following you",recipients:[b._id],url:"/profile/".concat(c.user._id)},o(Object(d.b)({msg:O,auth:c,socket:l})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.users,a=e.user,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var l,b,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==a._id}))?l=Object(s.a)(Object(s.a)({},a),{},{followers:Object(i.a)(a.followers,n.user._id)}):t.forEach((function(e){e._id===a._id&&(l=Object(s.a)(Object(s.a)({},e),{},{followers:Object(i.a)(e.followers,n.user._id)}))})),o({type:j.UNFOLLOW,payload:l}),o({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)({},n.user),{},{following:Object(i.a)(n.user.following,l._id)})})}),e.prev=3,e.next=6,Object(u.c)("/user/".concat(a._id,"/unfollow"),null,n.token);case 6:b=e.sent,c.emit("unFollow",b.data.newUser),p={id:n.user._id,text:"started following you",recipients:[l._id],url:"/profile/".concat(n.user._id)},o(Object(d.f)({msg:p,auth:n,socket:c})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()}},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));var n=a(0),c=function(e,t){return Object(n.jsx)("img",{src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})},r=function(e,t){return Object(n.jsx)("video",{controls:!0,src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})}},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return b}));var n=a(3),c=a.n(n),r=a(2),s=a(8),o=a(4),i=a(10),u={ADD_USER:"ADD_USER",ADD_MESSAGE:"ADD_MESSAGE",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_MESSAGES:"GET_MESSAGES"},l=function(e){var t=e.user,a=e.message;return function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.users.every((function(e){return e._id!==t._id}))&&n({type:u.ADD_USER,payload:Object(r.a)(Object(r.a)({},t),{},{text:"",media:[]})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:u.ADD_MESSAGE,payload:t}),n.emit("addMessage",t),e.prev=2,e.next=5,Object(i.d)("message",t,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.auth,a=e.page,n=void 0===a?1:a;return function(){var e=Object(s.a)(c.a.mark((function e(a){var s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)("conversations?limit=".concat(9*n),t.token);case 3:s=e.sent,l=[],s.data.conversations.forEach((function(e){e.recipients.forEach((function(a){a._id!==t.user._id&&l.push(Object(r.a)(Object(r.a)({},a),{},{text:e.text,media:e.media}))}))})),a({type:u.GET_CONVERSATIONS,payload:{newArr:l,result:s.data.result}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.auth,a=e.id,n=e.page,r=void 0===n?1:n;return function(){var e=Object(s.a)(c.a.mark((function e(n){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)("message/".concat(a,"?limit=").concat(9*r),t.token);case 3:s=e.sent,n({type:u.GET_MESSAGES,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},36:function(e,t,a){"use strict";a(1);var n=a(19),c=a(13),r=a(0);t.a=function(e){var t=e.children,a=e.user,s=e.border,o=e.handleClose,i=e.setShowFollowers,u=e.setShowFollowing,l=e.msg;return Object(r.jsxs)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center ".concat(s),children:[Object(r.jsx)("div",{children:Object(r.jsxs)(c.b,{to:"/profile/".concat(a._id),onClick:function(){o&&o(),i&&i(!1),u&&u(!1)},className:"d-flex align-items-center",style:{textDecoration:"none"},children:[Object(r.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(r.jsx)(n.a,{src:a.avatar,size:"big-avatar"})}),Object(r.jsxs)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:[Object(r.jsx)("span",{className:"d-block color-c2",children:a.username}),Object(r.jsx)("small",{className:"d-flex text-muted",style:{flexWrap:"wrap"},children:l?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:a.text}),a.media.length>0&&Object(r.jsxs)("div",{children:[a.media.length," ",Object(r.jsx)("i",{className:"fas fa-image"})]})]}):a.fullname})]})]})}),t]})}},37:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return p})),a.d(t,"d",(function(){return O}));var n=a(3),c=a.n(n),r=a(8),s=a(10),o=a(4),i=function(e){var t=e.fullname,a=e.username,n=e.email,c=e.password,r=e.cf_password,s=e.gender,o={};return t?t.length>25&&(o.fullname="Full name must be smaller than 25 characters."):o.fullname="Please add full name.",a?a.replace(/ /g,"").length>25&&(o.username="User name must be smaller than 25 characters."):o.username="Please add User name.",n||(o.email="Please add Email."),s||(o.username="Please add your gender."),c?c.length<6&&(o.password="Password must be al least 6 characters long."):o.password="Please add Password.",c!==r&&(o.cf_password="Password does not match."),{errMsg:o,errLength:Object.keys(o).length}},u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=4,Object(s.d)("login",e);case 4:n=t.sent,a({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),a({type:o.c.USER_TYPE,payload:n.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:n.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){var t=e.oldPassword,a=e.newPassword,n=e.cnfNewPassword,i=e.auth;return function(){var e=Object(r.a)(c.a.mark((function e(r){var u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&0!==t.length||r({type:o.c.ALERT,payload:{error:"Please enter your old  password."}}),a&&0!==a.length||r({type:o.c.ALERT,payload:{error:"Please enter your new  password."}}),n&&0!==n.length||r({type:o.c.ALERT,payload:{error:"Please confirm your new  password."}}),a!==n&&r({type:o.c.ALERT,payload:{error:"Your password does not match"}}),e.prev=4,r({type:o.c.ALERT,payload:{loading:!0}}),e.next=8,Object(s.d)("changePassword",{oldPassword:t,newPassword:a},i.token);case 8:u=e.sent,r({type:o.c.ALERT,payload:{loading:!1}}),r({type:o.c.ALERT,payload:{success:u.data.msg}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=4,Object(s.d)("admin_login",e);case 4:n=t.sent,a({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),a({type:o.c.USER_TYPE,payload:n.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:n.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("firstLogin"),console.log("refreshing"),!a){e.next=16;break}return t({type:o.c.ALERT,payload:{loading:!0}}),e.prev=4,e.next=7,Object(s.d)("refresh_token");case 7:n=e.sent,t({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),t({type:o.c.USER_TYPE,payload:n.data.user.role}),t({type:o.c.ALERT,payload:{}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.c.ALERT,payload:n.errMsg}));case 3:return t.prev=3,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=7,Object(s.d)("register",e);case 7:r=t.sent,a({type:o.c.AUTH,payload:{token:r.data.access_token,user:r.data.user}}),a({type:o.c.USER_TYPE,payload:r.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:r.data.msg}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.c.ALERT,payload:n.errMsg}));case 3:return t.prev=3,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=7,Object(s.d)("register_admin",e);case 7:r=t.sent,a({type:o.c.ALERT,payload:{success:r.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("firstLogin"),e.next=4,Object(s.d)("logout");case 4:window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},4:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n={AUTH:"AUTH",ALERT:"ALERT",THEME:"THEME",STATUS:"STATUS",MODAL:"MODAL",USER_TYPE:"USER_TYPE",SOCKET:"SOCKET"},c=function(e,t,a){return e.map((function(e){return e._id===t?a:e}))},r=function(e,t){return e.filter((function(e){return e._id!==t}))}},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return d}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i={ADD_ANANOM_MESSAGE:"ADD_ANANOM_MESSAGE",GET_ANANOM_CONVERSATIONS:"GET_ANANOM_CONVERSATIONS",GET_ANANOM_MESSAGES:"GET_ANANOM_MESSAGES"},u=function(e){var t=e.message;return function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:i.ADD_ANANOM_MESSAGE,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e){var t=e.auth,a=e.page,n=void 0===a?1:a;return function(){var e=Object(r.a)(c.a.mark((function e(a){var r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)("ananomconversations?limit=".concat(9*n),t.token);case 3:r=e.sent,console.log(r),u=[],r.data.ananomconversations.forEach((function(e){u.push({text:e.text,media:e.media,messages:e.messages,id:e._id})})),a({type:i.GET_ANANOM_CONVERSATIONS,payload:{newArr:u,result:r.data.result}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.GET_ANANOM_MESSAGES});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(3),c=a.n(n),r=a(152),s=a(8),o=function(e){var t="";return e?e.size>1048576?"File size must be less than 1 Mb.":"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/jpg"!==e.type?"Image must be jpeg or png or jpg.":t:"File does not exist."},i=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,s,o,i,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(r.a)(t),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=19;break}return o=s.value,i=new FormData,o.camera?i.append("file",o.camera):i.append("file",o),i.append("upload_preset","ayushbansalaccount"),i.append("cloud_name","datinginsta110"),e.next=12,fetch("https://api.cloudinary.com/v1_1/datinginsta110/image/upload",{method:"POST",body:i});case 12:return u=e.sent,e.next=15,u.json();case 15:l=e.sent,a.push({public_id:l.public_id,url:l.secure_url});case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));var n="https://datinginsta.herokuapp.com",c="https://datinginsta.herokuapp.com"},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return p}));var n=a(11),c=a(2),r=a(3),s=a.n(r),o=a(8),i=a(4),u=a(10),l=a(14),d={LOADING:"LOADING_REQUESTS",CREATE_REQUEST:"CREATE_REQUEST",ACCEPT_REQUEST:"ACCEPT_REQUEST",REJECT_REQUEST:"REJECT_REQUEST",GET_SENT_REQUESTS:"GET_SENT_REQUESTS",GET_RECEIVED_REQUESTS:"GET_RECEIVED_REQUESTS",GET_MATCH_REQUEST:"GET_MATCH_REQUEST"},j=function(e){var t=e.sender,a=e.receiver,n=e.user,c=e.auth,r=e.socket;return function(){var e=Object(o.a)(s.a.mark((function e(o){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.matches.every((function(e){return e._id!==a}))){e.next=11;break}return e.prev=1,e.next=4,Object(u.d)("createrequest",{sender:t,receiver:a},c.token);case 4:o({type:d.CREATE_REQUEST}),r.emit("requestmatch",a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.auth,a=e.socket,r=e.sender,d=e.receiver;return function(){var e=Object(o.a)(s.a.mark((function e(o){var j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:i.c.AUTH,payload:Object(c.a)(Object(c.a)({},t),{},{user:Object(c.a)(Object(c.a)({},t.user),{},{matches:[].concat(Object(n.a)(t.user.matches),[r])})})}),e.prev=1,e.next=4,Object(u.d)("/acceptrequest",{sender:r,receiver:d},t.token);case 4:e.sent,a.emit("makematch",r,d),j={id:t.user._id,text:"is now a match with you",recipients:[r],url:"/profile/".concat(t.user._id)},o(Object(l.b)({msg:j,auth:t,socket:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.sender,a=e.receiver,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.d)("/rejectrequest",{sender:t,receiver:a},n.token);case 3:e.sent,c.emit("rejectmatch",t,a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},56:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(e){var t=e.result,a=e.page,c=e.load,r=e.handleLoadMore;return Object(n.jsx)(n.Fragment,{children:t<9*(a-1)?"":!c&&Object(n.jsx)("button",{className:"btn  btn-outline-info color-c1 mx-auto d-block",onClick:r,children:"Load more."})})}},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i={LOADING:"LOADING_SUGGESTIONS",GET_USERS:"GET_USERS_SUGGESTIONS"},u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.LOADING,payload:!0}),t.next=4,Object(o.b)("suggestionsUser",e);case 4:n=t.sent,a({type:i.GET_USERS,payload:n.data}),a({type:i.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},63:function(e,t,a){"use strict";a(1),a(223);var n=a(156),c=a(0);t.a=function(e){var t=e.setContent,a=e.content,r=e.theme;return Object(c.jsxs)("div",{className:"nav-item dropdown",style:{opacity:"1",zIndex:"10",filter:r?"invert(1)":"invert(0)"},children:[Object(c.jsx)("span",{className:"nav-link position-relative px-1",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(c.jsx)("span",{children:"\ud83d\ude0f"})}),Object(c.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(c.jsx)(n.a,{theme:r?"dark":"light",showSkinTones:"true",showPreview:"false",onSelect:function(e){return t(a+e.native)},i18n:{search:"Search",clear:"Clear",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",smileys:"Smileys & Emotion",people:"People & Body",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}})})]})}},64:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),u=a(24),l=a(0);t.a=function(e){var t=e.user,a=Object(o.useState)(!1),n=Object(s.a)(a,2),d=n[0],j=n[1],b=Object(i.c)((function(e){return e})),p=b.auth,O=b.profile,m=b.socket,f=Object(i.b)(),h=Object(o.useState)(!1),x=Object(s.a)(h,2),v=x[0],y=x[1];Object(o.useEffect)((function(){return p.user.following.find((function(e){return e._id===t._id}))&&j(!0),function(){return j(!1)}}),[p.user.following,t._id]);var g=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return j(!0),y(!0),e.next=6,f(Object(u.b)({users:O.users,user:t,auth:p,socket:m}));case 6:y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return j(!1),y(!0),e.next=6,f(Object(u.d)({users:O.users,user:t,auth:p,socket:m}));case 6:y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:d?Object(l.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:_,children:"Unfollow"}):Object(l.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:g,children:"Follow"})})}},67:function(e,t,a){"use strict";a(1);var n=a(19),c=a(29),r=a(0);t.a=function(e){var t=e.user,a=e.msg,s=e.theme;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"chat_title",children:[Object(r.jsx)(n.a,{src:t.avatar,size:"small-avatar"}),Object(r.jsx)("span",{children:t.username})]}),a.text&&Object(r.jsx)("div",{className:"chat_text",style:{filter:s?"invert(1)":"invert(0)"},children:a.text}),a.media&&a.media.map((function(e,t){return Object(r.jsx)("div",{style:{maxWidth:"380px",maxHeight:"680px"},children:e.url.match(/video/i)?Object(c.b)(e.url,s):Object(c.a)(e.url,s)},t)})),Object(r.jsx)("div",{className:"chat_time",children:new Date(a.createdAt).toLocaleString()})]})}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u}));var n=a(3),c=a.n(n),r=a(8),s=a(4),o=a(10),i={LOADING:"LOADING_DISCOVER",GET_POSTS:"GET_DISCOVER_POSTS",UPDATE_POSTS:"UPDATE_DISCOVER_POSTS"},u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.LOADING,payload:!0}),t.next=4,Object(o.b)("post_discover",e);case 4:n=t.sent,a({type:i.GET_POSTS,payload:n.data}),a({type:i.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},74:function(e,t,a){"use strict";a(1);var n=a(13),c=a(6),r=(a(29),a(0));t.a=function(e){var t=e.posts,a=e.result,s=Object(c.c)((function(e){return e})).theme;if(0===a)return Object(r.jsx)("h2",{className:"text-center color-c1",children:"No Post"});var o=function(e){return Object(r.jsx)("img",{src:e,alt:e,style:{filter:s?"invert(1)":"invert(0)"}})};return Object(r.jsx)("div",{className:"post_thumb",children:t&&t.map((function(e){return Object(r.jsx)(n.b,{to:"/post/".concat(e._id),children:Object(r.jsxs)("div",{className:"post_thumb_display",children:[e.images[0].url.match(/video/i)?(t=e.images[0].url,Object(r.jsx)("video",{controls:!0,src:t,alt:t,style:{filter:s?"invert(1)":"invert(0)"}})):o(e.images[0].url),Object(r.jsxs)("div",{className:"post_thumb_menu",children:[Object(r.jsx)("i",{className:"far fa-thumbs-up",children:e.likes.length}),Object(r.jsx)("i",{className:"far fa-comments",children:e.comments.length})]})]})},e._id);var t}))})}},75:function(e,t,a){"use strict";a.r(t);var n=a(44),c=a(2),r=a(5),s=a(1),o=a(16),i=a(13),u=a(37),l=a(6),d=a(0);t.default=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(r.a)(e,2),a=t[0],j=t[1],b=Object(s.useState)(!1),p=Object(r.a)(b,2),O=p[0],m=p[1],f=a.email,h=a.password,x=Object(s.useState)(!1),v=Object(r.a)(x,2),y=v[0],g=v[1],_=Object(l.c)((function(e){return e})).auth,N=Object(l.b)(),w=Object(o.f)();Object(s.useEffect)((function(){_.token&&w.push("/")}),[_.token,w]);var k=function(e){var t=e.target,r=t.name,s=t.value;j(Object(c.a)(Object(c.a)({},a),{},Object(n.a)({},r,s)))};return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(O?Object(u.a)(a):Object(u.c)(a))},className:"inner-shadow",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading ",children:"DatingInsta"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"email",className:"form-control ",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:k,value:f,name:"email"})}),Object(d.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:y?"text":"password",className:"form-control",id:"exampleInputPassword1",onChange:k,value:h,name:"password"}),Object(d.jsx)("small",{onClick:function(){return g(!y)},children:y?"Hide":"Show"})]})})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-4",children:[Object(d.jsxs)("label",{htmlFor:"User",children:["User:",Object(d.jsx)("input",{type:"radio",id:"User",name:"gender",value:O,defaultChecked:!0,onClick:function(){return m(!1)}})]}),Object(d.jsxs)("label",{htmlFor:"Admin",children:["Admin:",Object(d.jsx)("input",{type:"radio",id:"Admin",name:"gender",value:O,onClick:function(){return m(!0)}})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",disabled:!f||!h,children:"Login"}),Object(d.jsxs)("p",{className:"my-2",children:["Don't have an account?"," ",Object(d.jsx)(i.b,{to:"/register",style:{color:"crimson"},children:"Register Now."})]})]})})}},85:function(e,t){},86:function(e,t,a){"use strict";a.r(t);a(1);var n=a(98),c=a(0);t.default=function(){return Object(c.jsxs)("div",{className:"message d-flex",children:[Object(c.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(c.jsx)(n.a,{})}),Object(c.jsx)("div",{className:"col-md-8 px-0",children:Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(c.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(c.jsx)("h4",{children:"Messenger"})]})})]})}},87:function(e,t,a){"use strict";a.r(t);a(1);var n=a(99),c=a(0);t.default=function(){return Object(c.jsxs)("div",{className:"message d-flex",children:[Object(c.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(c.jsx)(n.a,{})}),Object(c.jsx)("div",{className:"col-md-8 px-0",children:Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(c.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(c.jsx)("h4",{children:"Messenger"})]})})]})}},88:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(44),i=a(255),u=a(257),l=a(1),d=a(6),j=a(39),b=a(11),p=a(19),O=a(13),m=a(256),f=a(0),h=function(e){var t=Object(l.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],r=Object(l.useState)(""),o=Object(s.a)(r,2),i=o[0],u=o[1];Object(l.useEffect)((function(){2===e.bcode?(c("Loading"),u("ui loading button large"),e.setBcode(null)):1===e.bcode?(c("End Chat"),u("ui button end")):3===e.bcode&&(c("Find New"),u("ui button find"))}),[e]);return Object(f.jsx)(m.a,{onClick:function(){console.log(e),null==e.bcode?(e.setFind(!0),console.log("Find button clicked")):"ui button end"===i?(console.log(e.end),e.setEnd(!0),console.log("end chat clicked")):"ui button find"===i&&(e.setFind(!0),console.log("Find button clicked"))},children:n||"Start"})},x=a(102),v=a(101),y=a(96),g=function(e){var t=e.post,a=e.theme;return Object(f.jsxs)("div",{className:"card my-3 outer-shadow",children:[Object(f.jsx)(y.a,{post:t}),Object(f.jsx)(x.a,{post:t,theme:a}),Object(f.jsx)(v.a,{post:t})]})},_=a(17),N=(a(56),a(10)),w=(a(12),function(e){var t=Object(d.c)((function(e){return e})),a=(t.homePosts,t.auth),n=t.theme,o=Object(l.useState)([]),i=Object(s.a)(o,2),u=i[0],j=i[1],b=(Object(d.b)(),Object(l.useState)(1)),p=Object(s.a)(b,2),O=p[0],m=(p[1],Object(l.useState)(!1)),h=Object(s.a)(m,2),x=h[0];h[1];Object(l.useEffect)((function(){(function(){var t=Object(r.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.b)("getCommonLikedPosts/?limit=".concat(9*O,"&receiver=").concat(e.receiver),a.token);case 2:n=t.sent,console.log(n),j(n.data.posts);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[O]);return Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center follow_box-heading",children:"Followers"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"posts",children:["//"," ",u.map((function(e){return Object(f.jsx)(g,{post:e,theme:n},e._id)})),x&&Object(f.jsx)("img",{src:_.a,alt:"Loading...",className:"d-block mx-auto"})]}),Object(f.jsx)("div",{className:"close",onClick:function(){return e.setOnEdit(!1)},children:"\xd7"})]})})}),k=a(36),E=a(49),T=a(24),S=function(e){var t=Object(d.c)((function(e){return e})),a=(t.theme,t.auth),n=t.socket,o=t.profile,i=Object(l.useState)([]),u=Object(s.a)(i,2),b=u[0],x=u[1],v=Object(l.useState)(!1),y=Object(s.a)(v,2),g=y[0],_=y[1],S=Object(l.useState)(!1),A=Object(s.a)(S,2),L=A[0],R=A[1],C=Object(l.useState)(!1),P=Object(s.a)(C,2),D=P[0],I=P[1],U=Object(l.useState)(!1),G=Object(s.a)(U,2),F=G[0],M=G[1],z=Object(l.useState)({}),H=Object(s.a)(z,2),V=H[0],Y=H[1],q=Object(d.b)(),W=e.ananomId;console.log(W);var Q=function(){return Object(f.jsxs)("div",{children:["The user you are talking to has sent you connection request.",Object(f.jsx)(m.a,{onClick:K,children:"Accept Request"})," "]})},B=function(e){var t=e.user;return Object(f.jsxs)("div",{children:["Whooray, we have a new match",Object(f.jsx)(k.a,{user:t,children:Object(f.jsx)("i",{className:"fas fa-circle"})})]})};n.on("requestmatchToClient",(function(e){console.log(e),I(!0),Object(j.b)(Object(f.jsx)(Q,{}),{theme:"colored",autoClose:1e4})})),n.on("makeMatchToClient",function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),R(!0),V._id){e.next=10;break}return e.next=5,Object(N.b)("user/".concat(W),a.token);case 5:n=e.sent,r=n.data.user,Y(r),console.log(n),j.b.success(Object(f.jsx)(B,{user:r}),{theme:"colored",autoClose:1e4});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.on("rejectMatchToClient",(function(e){console.log(e),M(!1)})),Object(l.useEffect)((function(){if(e.receiver===a.user._id)x([a.user]);else{var t=o.users.filter((function(t){return t._id===e.receiver}));x(t)}}),[e.receiver,a,q,o.users]),Object(l.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.user.matches.forEach((function(e){e===W&&R(!0)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var K=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(Object(E.b)({auth:a,socket:n,sender:e.receiver,receiver:a.user._id}));case 2:return R(!0),t.next=5,q(Object(T.c)({id:e.receiver,auth:a}));case 5:return t.next=7,q(Object(T.b)({users:o.users,user:b[0],auth:a,socket:n}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center",children:[Object(f.jsx)(O.b,{to:"/",className:"d-flex align-items-center",style:{textDecoration:"none"},children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(f.jsx)(p.a,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",size:"big-avatar"})}),Object(f.jsx)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:Object(f.jsx)("span",{className:"d-block color-c2",children:"Ananomous User"})})]})}),Object(f.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return _(!0)},children:"Common Interests"}),L&&Object(f.jsx)(m.a,{children:"Match already"}),!L&&D&&!F&&Object(f.jsx)(m.a,{onClick:K,children:"Accept Request"}),!L&&!D&&F&&Object(f.jsx)(m.a,{children:"Pending..."}),!L&&!D&&!F&&Object(f.jsx)(m.a,{onClick:function(){q(Object(E.c)({sender:a.user._id,receiver:e.receiver,auth:a,socket:n,user:a.user})),M(!0)},children:"Match Request"}),Object(f.jsx)(h,{find:e.find,setFind:e.setFind,end:e.end,setEnd:e.setEnd,bcode:e.bcode,setBcode:e.setBcode}),Object(f.jsx)(j.a,{}),g&&Object(f.jsx)(w,{setOnEdit:_,receiver:e.receiver})]})},A=a(67),L=a(97),R=a(63),C=a(4),P=a(29),D=a(45),I=function(e){var t=Object(d.c)((function(e){return e})),a=t.auth,n=(t.theme,function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.d)("create_ananomconversation",e.conversation,a.token);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(f.jsx)("div",{className:"follow",children:Object(f.jsxs)("div",{className:"follow_box",children:[Object(f.jsx)("h5",{className:"text-center follow_box-heading",children:"This chat has been ended"}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"posts",children:Object(f.jsx)("button",{onClick:n,children:"save"})}),Object(f.jsx)("div",{className:"close",onClick:function(){return e.setOnEdit(!1)},children:"\xd7"})]})})},U=a(41),G=function(e){console.log(e);var t=e.receiverGoogleId,a=e.ananomConversation,n=(e.receieverSocketID,e.id,e.ownId),o=Object(l.useState)([]),i=Object(s.a)(o,2),u=i[0],j=i[1],p=Object(d.c)((function(e){return e})),O=p.auth,m=(p.message,p.theme),h=p.socket,x=Object(d.b)(),v=Object(l.useState)(null),y=Object(s.a)(v,2),g=y[0],N=y[1],w=Object(l.useState)(""),k=Object(s.a)(w,2),E=k[0],T=k[1],G=Object(l.useState)(0),F=Object(s.a)(G,2),M=(F[0],F[1],Object(l.useState)(!1)),z=Object(s.a)(M,2),H=z[0],V=z[1],Y=Object(l.useState)([]),q=Object(s.a)(Y,2),W=q[0],Q=q[1],B=Object(l.useState)(!1),K=Object(s.a)(B,2),J=K[0],X=K[1],Z=Object(l.useRef)(),$=Object(l.useRef)();Object(l.useEffect)((function(){h.on("getAnanomMessage",(function(e){console.log(e),N({sender:e.sender,receiverId:O.user._id,text:e.text,media:e.media,createdAt:e.createdAt})}))}),[h]),console.log(g),Object(l.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=4;break}return j((function(e){return[].concat(Object(b.a)(e),[g])})),e.next=4,x(Object(U.b)({message:g}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g]);var ee=function(){var e=Object(r.a)(c.a.mark((function e(r){var s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),E.trim()||0!==W.length){e.next=3;break}return e.abrupt("return");case 3:if(T(""),Q([]),X(!0),s=[],!(W.length>0)){e.next=11;break}return e.next=10,Object(D.b)(W);case 10:s=e.sent;case 11:return o={sender:O.user._id,receiverId:t,text:E,media:s,createdAt:(new Date).toISOString()},console.log(a),console.log(n),j((function(e){return[].concat(Object(b.a)(e),[o])})),h.emit("sendAnanomMessage",o),X(!1),e.next=19,x(Object(U.b)({message:o}));case 19:Z.current&&Z.current.scrollIntoView({behaviour:"smooth",block:"end"});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){Z.current&&Z.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[E]),Object(l.useEffect)((function(){g&&Z.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[g]),console.log(t),Object(f.jsxs)(f.Fragment,{children:[console.log("tp check if working"),Object(f.jsx)("div",{className:"message_header",children:Object(f.jsx)(S,{ananomId:t,find:e.find,setFind:e.setFind,end:e.end,setEnd:e.setEnd,bcode:e.bcode,setBcode:e.setBcode,receiver:t,children:Object(f.jsx)("i",{className:"fas fa-trash text-danger"})})}),Object(f.jsx)("div",{className:"chat_container",style:{height:"calc(100% - 180px)"},children:Object(f.jsxs)("div",{className:"chat_display",ref:Z,children:[Object(f.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:$,children:"Load.."}),u.map((function(e,t){return Object(f.jsxs)("div",{children:[e.sender!==O.user._id&&Object(f.jsx)("div",{className:"chat_row other_message",children:Object(f.jsx)(L.a,{msg:e,theme:m})}),e.sender===O.user._id&&Object(f.jsx)("div",{className:"chat_row you_message",children:Object(f.jsx)(A.a,{user:O.user,msg:e,theme:m})})]},t)})),J&&Object(f.jsx)("div",{className:"chat_row you_message",children:Object(f.jsx)("img",{src:_.a,alt:"Loading..."})})]})}),Object(f.jsx)("div",{className:"show_media",style:{display:W.length>0?"":"none"},children:W.map((function(e,t){return Object(f.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(P.b)(URL.createObjectURL(e),m):Object(P.a)(URL.createObjectURL(e),m),Object(f.jsx)("span",{onClick:function(){return function(e){var t=Object(b.a)(W);t.splice(e,1),Q(t)}(t)},children:"\xd7"})]},t)}))}),Object(f.jsxs)("form",{className:"chat_input",onSubmit:ee,children:[Object(f.jsx)("input",{placeholder:"Type a message.",type:"text",value:E,onChange:function(e){return T(e.target.value)},style:{filter:m?"invert(1)":"invert(0)",background:m?"#040404":"",color:m?"white":""}}),Object(f.jsx)(R.a,{setContent:T,content:E,theme:m}),Object(f.jsxs)("div",{className:"file_upload",children:[Object(f.jsx)("i",{className:"fas fa-image color-c1"}),Object(f.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(b.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&x({type:C.c.ALERT,payload:{error:a}}),Q([].concat(Object(b.a)(W),n))}})]}),Object(f.jsx)("button",{type:"submit",disabled:!(E||W.length>0),className:"material-icons",children:"near_me"})]}),H&&Object(f.jsx)(I,{setOnEdit:V,receiver:e.receiver})]})},F=Object(i.a)((function(e){return{component:{background:"#f8f9fa",textAlign:"center"},container:Object(o.a)({padding:"0 0"},e.breakpoints.down("sm"),{padding:-0}),divider:{margin:"30px 0"}}}));t.default=function(){var e=Object(d.b)(),t=Object(l.useState)(),a=Object(s.a)(t,2),n=a[0],o=a[1],i=Object(l.useState)(),b=Object(s.a)(i,2),p=b[0],O=b[1],m=Object(l.useState)(),x=Object(s.a)(m,2),v=x[0],y=x[1],g=Object(l.useState)([]),_=Object(s.a)(g,2),w=_[0],k=_[1],E=Object(l.useState)("Click on Start Button to start the anonomous conversation"),T=Object(s.a)(E,2),S=T[0],A=T[1],L=Object(l.useState)(null),R=Object(s.a)(L,2),C=(R[0],R[1]),P=Object(l.useState)(null),D=Object(s.a)(P,2),I=D[0],M=D[1],z=Object(l.useState)(null),H=Object(s.a)(z,2),V=H[0],Y=(H[1],Object(l.useState)(!1)),q=Object(s.a)(Y,2),W=q[0],Q=q[1],B=Object(l.useState)(!1),K=Object(s.a)(B,2),J=K[0],X=K[1],Z=Object(l.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)(!1),ne=Object(s.a)(ae,2),ce=ne[0],re=(ne[1],Object(l.useState)(!1)),se=Object(s.a)(re,2),oe=(se[0],se[1]),ie=Object(d.c)((function(e){return e})),ue=ie.auth,le=(ie.theme,ie.socket),de=ie.ananomMessages,je=Object(d.c)((function(e){return e}));console.log(je),console.log();var be=F();Object(l.useEffect)((function(){return window.addEventListener("unload",pe),function(){window.removeEventListener("unload",pe),pe()}}),[]);var pe=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.emit("disconn");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){de.data.length>0&&k(de.data)}),[de.data]),Object(l.useEffect)((function(){W&&function(){var t=Object(r.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(de),t.next=3,Object(N.d)("create_ananomconversation",{messages:w},ue.token);case 3:a=t.sent,Q(!1),k([]),e(Object(U.d)()),e(Object(U.c)({auth:ue})),console.log(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[W]),Object(l.useEffect)((function(){console.log(le),le.on("conn",(function(e){console.log(e),o(e.id),O(e.ownId),y(e.googleId),A(e.text),C(e.code),M(e.bcode)})),le.on("waiting",(function(e){A(e.text),C(e.code),M(e.bcode)})),le.on("disconn",(function(e){C(e.code),M(e.bcode),A(e.text),w.length>0&&Q(!0)}))}),[le,J]),Object(l.useEffect)((function(){!0===J&&(le.emit("disconn"),X(!1))}),[J,le]),Object(l.useEffect)((function(){"Stranger has left the chat"===S&&w.length>0&&Q(!0)}),[S]),Object(l.useEffect)((function(){le.on("istyping",(function(e){oe(e)}))})),Object(l.useEffect)((function(){le.emit("typing",ce)})),Object(l.useEffect)((function(){!0===ee&&(console.log("trying to find"),le.emit("new",ue.user.gender,ue.user._id),te(!1))}),[ee,le]),Object(l.useEffect)((function(){Object(j.b)(S)}),[S]),Object(f.jsxs)(u.a,{className:be.component,children:[Object(f.jsx)(j.a,{}),"You are now chatting with a Stranger!"===S?Object(f.jsx)(G,{id:n,ownId:p,receiverId:n,receiverSocketId:n,receiverGoogleId:v,waitMessage:S,ananomConversation:V,find:ee,setFind:te,end:J,setEnd:X,bcode:I,setBcode:M}):Object(f.jsx)("div",{className:"message d-flex",children:Object(f.jsx)("div",{className:"col-md-12 px-0",children:Object(f.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(f.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(f.jsx)("h4",{children:Object(f.jsx)(h,{find:ee,setFind:te,end:J,setEnd:X,bcode:I,setBcode:M})})]})})})]})}},90:function(e,t,a){"use strict";a.r(t);var n=a(44),c=a(2),r=a(5),s=a(1),o=a(6),i=a(16),u=a(13),l=a(37),d=a(0);t.default=function(){var e=Object(o.c)((function(e){return e})),t=e.auth,a=e.alert,j=Object(o.b)(),b=Object(i.f)(),p=Object(s.useState)({fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"}),O=Object(r.a)(p,2),m=O[0],f=O[1],h=m.fullname,x=m.username,v=m.email,y=m.password,g=m.cf_password,_=Object(s.useState)(!1),N=Object(r.a)(_,2),w=N[0],k=N[1],E=Object(s.useState)(!1),T=Object(r.a)(E,2),S=T[0],A=T[1];Object(s.useEffect)((function(){t.token&&b.push("/")}),[t.token,b]);var L=function(e){var t=e.target,a=t.name,r=t.value;f(Object(c.a)(Object(c.a)({},m),{},Object(n.a)({},a,r)))};return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(Object(l.f)(m))},className:"inner-shadow",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"DatingInsta"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:L,value:h,name:"fullname",style:{background:"".concat(a.fullname?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.fullname?a.fullname:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:L,value:x.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(a.username?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.username?a.username:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:L,value:v,name:"email",style:{background:"".concat(a.email?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.email?a.email:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:w?"text":"password",className:"form-control",id:"password",onChange:L,value:y,name:"password",style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){return k(!w)},children:w?"Hide":"Show"})]})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.password?a.password:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",onChange:L,value:g,name:"cf_password",style:{background:"".concat(a.cf_password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){return A(!S)},children:S?"Hide":"Show"})]})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.cf_password?a.cf_password:""})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(d.jsxs)("label",{htmlFor:"male",children:["Male:",Object(d.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:L})]}),Object(d.jsxs)("label",{htmlFor:"female",children:["Female:",Object(d.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:L})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"}),Object(d.jsxs)("p",{className:"my-2",children:["Already have an account?"," ",Object(d.jsx)(u.b,{to:"/",style:{color:"crimson"},children:"Login Now."})]})]})})}},91:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(5),r=a(13),s=a(6),o=a(37),i=(a(219),a(108),a(21)),u=a(0),l=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.admin,c=e.socket,r=Object(s.b)();return Object(n.useEffect)((function(){r(Object(i.i)(t.token)),r(Object(i.g)(t.token)),r(Object(i.e)(t.token)),r(Object(i.f)(t.token)),r(Object(i.h)(t.token)),r(Object(i.d)({auth:t,socket:c}))}),[r,t.token,c,t]),Object(u.jsx)("div",{className:"main_admin",children:Object(u.jsxs)("div",{className:"main__container",children:[Object(u.jsx)("div",{className:"main__title",children:Object(u.jsxs)("div",{className:"main__greeting",children:[Object(u.jsxs)("h1",{children:["Hello ",t.user.username]}),Object(u.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})}),Object(u.jsxs)("div",{className:"main__cards",children:[Object(u.jsxs)("div",{className:"card_admin",children:[Object(u.jsx)("i",{className:"fa fa-users fa-2x text-lightblue","aria-hidden":"true"}),Object(u.jsxs)("div",{className:"card_inner_admin",children:[Object(u.jsx)("p",{className:"text-primary-p",children:"Total Users"}),Object(u.jsx)("span",{className:"font-bold text-title",children:a.total_users})]})]}),Object(u.jsxs)("div",{className:"card_admin",children:[Object(u.jsx)("i",{className:"fa fa-comments fa-2x text-red","aria-hidden":"true"}),Object(u.jsxs)("div",{className:"card_inner_admin",children:[Object(u.jsx)("p",{className:"text-primary-p",children:"Total Comments"}),Object(u.jsx)("span",{className:"font-bold text-title",children:a.total_comments})]})]}),Object(u.jsxs)("div",{className:"card_admin",children:[Object(u.jsx)("i",{className:"fa fa-camera fa-2x text-yellow","aria-hidden":"true"}),Object(u.jsxs)("div",{className:"card_inner_admin",children:[Object(u.jsx)("p",{className:"text-primary-p",children:"Total Posts"}),Object(u.jsx)("span",{className:"font-bold text-title",children:a.total_posts})]})]}),Object(u.jsxs)("div",{className:"card_admin",children:[Object(u.jsx)("i",{className:"fa fa-ban fa-2x text-red","aria-hidden":"true"}),Object(u.jsxs)("div",{className:"card_inner_admin",children:[Object(u.jsx)("p",{className:"text-primary-p",children:"Reported Posts"}),Object(u.jsx)("span",{className:"font-bold text-title",children:a.total_spam_posts})]})]}),Object(u.jsxs)("div",{className:"card_admin",children:[Object(u.jsx)("i",{className:"fa fa-thumbs-up fa-2x text-green","aria-hidden":"true"}),Object(u.jsxs)("div",{className:"card_inner_admin",children:[Object(u.jsx)("p",{className:"text-primary-p",children:"Total Likes"}),Object(u.jsx)("span",{className:"font-bold text-title",children:a.total_likes})]})]}),Object(u.jsxs)("div",{className:"card_admin",children:[Object(u.jsx)("i",{className:"fa fa-check-circle fa-2x  text-green","aria-hidden":"true"}),Object(u.jsxs)("div",{className:"card_inner_admin",children:[Object(u.jsx)("p",{className:"text-primary-p",children:"Total Active Users"}),Object(u.jsx)("span",{className:"font-bold text-title",children:a.total_active_users})]})]})]})]})})},d=a(44),j=a(2),b=a(16),p=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.alert,r=Object(s.b)(),i=Object(b.f)(),l={fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"},p=Object(n.useState)(l),O=Object(c.a)(p,2),m=O[0],f=O[1],h=m.fullname,x=m.username,v=m.email,y=m.password,g=m.cf_password,_=Object(n.useState)(!1),N=Object(c.a)(_,2),w=N[0],k=N[1],E=Object(n.useState)(!1),T=Object(c.a)(E,2),S=T[0],A=T[1];Object(n.useEffect)((function(){t.token&&i.push("/")}),[t.token,i]);var L=function(e){var t=e.target,a=t.name,n=t.value;f(Object(j.a)(Object(j.a)({},m),{},Object(d.a)({},a,n)))};return Object(u.jsx)("div",{className:"auth_page",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.role="admin",r(Object(o.g)(m)),f(l)},className:"inner-shadow",children:[Object(u.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"DatingInsta"}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(u.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:L,value:h,name:"fullname",style:{background:"".concat(a.fullname?"#fd2d6a14":""," ")}})}),Object(u.jsx)("small",{className:"form-text text-danger",children:a.fullname?a.fullname:""})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(u.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(u.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:L,value:x.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(a.username?"#fd2d6a14":""," ")}})}),Object(u.jsx)("small",{className:"form-text text-danger",children:a.username?a.username:""})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(u.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(u.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:L,value:v,name:"email",style:{background:"".concat(a.email?"#fd2d6a14":""," ")}})}),Object(u.jsx)("small",{className:"form-text text-danger",children:a.email?a.email:""})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(u.jsx)("div",{className:"pass",children:Object(u.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(u.jsx)("input",{type:w?"text":"password",className:"form-control",id:"password",onChange:L,value:y,name:"password",style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(u.jsx)("small",{onClick:function(){return k(!w)},children:w?"Hide":"Show"})]})}),Object(u.jsx)("small",{className:"form-text text-danger",children:a.password?a.password:""})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(u.jsx)("div",{className:"pass",children:Object(u.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(u.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",onChange:L,value:g,name:"cf_password",style:{background:"".concat(a.cf_password?"#fd2d6a14":""," ")}}),Object(u.jsx)("small",{onClick:function(){return A(!S)},children:S?"Hide":"Show"})]})}),Object(u.jsx)("small",{className:"form-text text-danger",children:a.cf_password?a.cf_password:""})]}),Object(u.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(u.jsxs)("label",{htmlFor:"male",children:["Male:",Object(u.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:L})]}),Object(u.jsxs)("label",{htmlFor:"female",children:["Female:",Object(u.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:L})]})]}),Object(u.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"})]})})},O=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(u.jsx)("div",{className:"main_admin",children:Object(u.jsxs)("div",{className:"main__container",children:[Object(u.jsx)("div",{className:"main__title",children:Object(u.jsxs)("div",{className:"main__greeting",children:[Object(u.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(u.jsx)("p",{children:"Welcome to your Admin Management"})]})}),Object(u.jsx)(p,{})]})})},m=(a(221),a(19)),f=a(61),h=a.n(f),x=function(e){var t=e.content,a=Object(s.c)((function(e){return e})),n=a.auth,c=a.socket,r=Object(s.b)();return Object(u.jsx)("div",{children:t.length>0?t.map((function(e){return Object(u.jsxs)("div",{className:"admin_content_display",children:[Object(u.jsxs)("span",{className:"spam_report",children:["Reports: ",e.reports.length]}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(m.a,{size:"big-avatar",src:e.user.avatar}),Object(u.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(u.jsx)("span",{className:"spam_username",children:e.user.username}),Object(u.jsx)("span",{className:"spam_email",children:e.user.email})]}),Object(u.jsxs)("span",{className:"spam_time text-muted",children:["~",h()(e.createdAt).fromNow()]})]}),Object(u.jsxs)("div",{className:"ms-auto d-flex flex-column ",style:{cursor:"pointer"},onClick:function(){return function(e){r(Object(i.b)({post:e,auth:n,socket:c}))}(e)},children:[Object(u.jsx)("span",{className:"material-icons",children:"delete"}),"Remove"]})]})})):Object(u.jsx)("h1",{children:"Nothing to display"})})},v=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.admin,c=Object(s.b)();return Object(n.useEffect)((function(){c(Object(i.c)(t.token))}),[c,t.token]),Object(u.jsx)("div",{className:"main_admin",children:Object(u.jsxs)("div",{className:"main__container",children:[Object(u.jsx)("div",{className:"main__title",children:Object(u.jsxs)("div",{className:"main__greeting",children:[Object(u.jsxs)("h1",{children:["Hello ",t.user.username]}),Object(u.jsx)("p",{children:"Spam Dashboard"})]})}),Object(u.jsx)("div",{className:"spam",children:Object(u.jsx)(x,{content:a.spam_posts})})]})})},y=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(u.jsx)("div",{className:"main_admin",children:Object(u.jsx)("div",{className:"main__container",children:Object(u.jsx)("div",{className:"main__title",children:Object(u.jsxs)("div",{className:"main__greeting",children:[Object(u.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(u.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})})})})},g=function(){var e=Object(s.b)(),t=Object(n.useState)(1),a=Object(c.a)(t,2),i=a[0],d=a[1];return Object(u.jsxs)(u.Fragment,{children:[1===i&&Object(u.jsx)(l,{}),2===i&&Object(u.jsx)(O,{}),3===i&&Object(u.jsx)(v,{}),4===i&&Object(u.jsx)(y,{}),Object(u.jsxs)("div",{className:"sidebar_responsive",id:"sidebar",children:[Object(u.jsxs)("div",{className:"sidebar__title",children:[Object(u.jsx)("div",{className:"sidebar__img",children:Object(u.jsx)("h1",{children:"DatingInsta"})}),Object(u.jsx)("i",{className:"fa fa-times",id:"sidebarIcon","aria-hidden":"true"})]}),Object(u.jsxs)("div",{className:"sidebar__menu",children:[Object(u.jsxs)("div",{className:"sidebar__link ".concat(1===i&&"active_menu_link"),onClick:function(){return d(1)},children:[Object(u.jsx)("i",{className:"fa fa-th"}),Object(u.jsx)("a",{href:"#",children:"Dashboard"})]}),Object(u.jsx)("h2",{children:"ADMIN CONTROL"}),Object(u.jsxs)("div",{className:"sidebar__link ".concat(2===i&&"active_menu_link"),onClick:function(){return d(2)},children:[Object(u.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),Object(u.jsx)("a",{href:"#",children:"Admin Management"})]}),Object(u.jsxs)("div",{className:"sidebar__link ".concat(3===i&&"active_menu_link"),onClick:function(){return d(3)},children:[Object(u.jsx)("i",{className:"fa fa-ban"}),Object(u.jsx)("a",{href:"#",children:"Spams Management"})]}),Object(u.jsxs)("div",{className:"sidebar__link ".concat(4===i&&"active_menu_link"),onClick:function(){return d(4)},children:[Object(u.jsx)("i",{className:"fa fa-wrench"}),Object(u.jsx)("a",{href:"#",children:"Users Management"})]}),Object(u.jsxs)("div",{className:"sidebar__link",children:[Object(u.jsx)("i",{className:"fa fa-archive"}),Object(u.jsx)("a",{href:"#",children:"xyz"})]}),Object(u.jsxs)("div",{className:"sidebar__link",children:[Object(u.jsx)("i",{className:"fa fa-handshake-o"}),Object(u.jsx)("a",{href:"#",children:"xyz"})]}),Object(u.jsxs)("div",{className:"sidebar__logout",children:[Object(u.jsx)("i",{className:"fa fa-power-off"}),Object(u.jsx)(r.b,{to:"/",onClick:function(){return e(Object(o.d)())},children:"Log out"})]})]})]})]})};t.default=function(){return Object(u.jsx)("div",{className:"container1",children:Object(u.jsx)(g,{})})}},92:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(6),r=a(3),s=a.n(r),o=a(2),i=a(8),u=a(5),l=a(100),d=a(17),j=a(56),b=a(10),p=a(12),O=a(0),m=function(){var e=Object(c.c)((function(e){return e})),t=e.homePosts,a=e.auth,r=e.theme,m=Object(c.b)(),f=Object(n.useState)(!1),h=Object(u.a)(f,2),x=h[0],v=h[1],y=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Object(b.b)("posts?limit=".concat(9*t.page),a.token);case 3:n=e.sent,m({type:p.a.GET_POSTS,payload:Object(o.a)(Object(o.a)({},n.data),{},{page:t.page+1})}),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"posts",children:[t.posts&&t.posts.map((function(e){return Object(O.jsx)(l.a,{post:e,theme:r},e._id)})),x&&Object(O.jsx)("img",{src:d.a,alt:"Loading...",className:"d-block mx-auto"}),Object(O.jsx)(j.a,{result:t.result,page:t.page,load:x,handleLoadMore:y})]})},f=a(19),h=a(4),x=function(){var e=Object(c.c)((function(e){return e})).auth,t=Object(c.b)();return Object(O.jsxs)("div",{className:"status my-3 d-flex",children:[Object(O.jsx)("div",{className:"outer-shadow big-avatar-cover",children:Object(O.jsx)(f.a,{src:e.user.avatar,size:"big-avatar",className:""})}),Object(O.jsx)("button",{onClick:function(){return t({type:h.c.STATUS,payload:!0})},className:"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill ",style:{marginLeft:"7px"},children:Object(O.jsxs)("span",{style:{textShadow:"var(--outer-shadow)"},children:[e.user.username,", What's on your mind?"]})})]})},v=a(36),y=a(64),g=a(59),_=function(){var e=Object(c.c)((function(e){return e})),t=e.auth,a=e.suggestions,n=Object(c.b)();return Object(O.jsxs)("div",{className:"my-4",children:[Object(O.jsx)("div",{className:"inner-shadow",style:{borderRadius:"5px"},children:Object(O.jsx)(v.a,{user:t.user})}),Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-2",children:[Object(O.jsx)("h5",{className:"color-c1",style:{textShadow:"var(--outer-shadow)"},children:"Suggestions"}),!a.loading&&Object(O.jsx)("div",{className:"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center",children:Object(O.jsx)("i",{className:"fas fa-redo ",style:{cursor:"pointer"},onClick:function(){return n(Object(g.b)(t.token))}})})]}),a.loading?Object(O.jsx)("img",{src:d.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(O.jsx)("div",{className:"suggestions",children:a.users.map((function(e){return Object(O.jsx)("div",{className:" mb-3 inner-shadow",style:{borderRadius:"5px"},children:Object(O.jsx)(v.a,{user:e,children:Object(O.jsx)(y.a,{user:e},e._id)},e._id)},e._id)}))})]})};t.default=function(){var e=Object(c.c)((function(e){return e})).homePosts;return Object(O.jsxs)("div",{className:"home row mx-0",children:[Object(O.jsxs)("div",{className:"col-md-8",children:[Object(O.jsx)(x,{}),e.loading?Object(O.jsx)("img",{src:d.a,alt:"loading",className:"d-block mx-auto"}):0===e.result?Object(O.jsx)("h2",{className:"text-center",children:"No Post"}):Object(O.jsx)(m,{})]}),Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(_,{})})]})}},95:function(e,t,a){"use strict";a(1);var n=a(6),c=a(0);t.a=function(e){var t=e.isLike,a=(e.isDisLike,e.handleLike),r=e.handleUnLike,s=(e.handleDisLike,e.handleUnDisLike,Object(n.c)((function(e){return e})).theme);return Object(c.jsx)("div",{children:t?Object(c.jsx)("i",{className:"fas fa-thumbs-up text-info",style:{filter:s?"invert(1)":"invert(0)"},onClick:r}):Object(c.jsx)("i",{className:"far fa-thumbs-up",onClick:a})})}},96:function(e,t,a){"use strict";var n=a(2),c=(a(1),a(19)),r=a(16),s=a(13),o=a(6),i=a(61),u=a.n(i),l=a(48),d=a(4),j=a(12),b=a(0);t.a=function(e){var t=e.post,a=Object(o.c)((function(e){return e})),i=a.auth,p=a.socket,O=Object(o.b)(),m=Object(r.f)();return Object(b.jsxs)("div",{className:"card_header",children:[Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("div",{className:"outer-shadow big-avatar-cover me-2",children:Object(b.jsx)(c.a,{src:t.user.avatar,size:"big-avatar"})}),Object(b.jsxs)("div",{className:"card_name",children:[Object(b.jsx)("h6",{className:"m-0",children:Object(b.jsx)(s.b,{className:"text-dark",to:"/profile/".concat(t.user._id),children:t.user.username})}),Object(b.jsx)("small",{className:"text-muted",children:u()(t.createdAt).fromNow()})]})]}),Object(b.jsxs)("div",{className:"nav-item dropdown",children:[Object(b.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_horiz"}),Object(b.jsxs)("div",{className:"dropdown-menu",children:[i.user._id===t.user._id&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){O({type:d.c.STATUS,payload:Object(n.a)(Object(n.a)({},t),{},{onEdit:!0})})},children:[Object(b.jsx)("span",{className:"material-icons text-info",children:" create"}),"Edit Post"]}),Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){if(window.confirm("Are you sure?"))return O(Object(j.c)({post:t,auth:i,socket:p})),m.push("/")},children:[Object(b.jsx)("span",{className:"material-icons text-red",children:" delete"}),"Delete Post"]})]}),Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){navigator.clipboard.writeText("".concat(l.a,"/post/").concat(t._id))},children:[Object(b.jsx)("span",{className:"material-icons text-primary",children:"content_copy"}),"Copy Link"]}),Object(b.jsxs)("div",{className:"dropdown-item",onClick:function(){O(Object(j.h)({post:t,auth:i}))},children:[Object(b.jsx)("span",{className:"material-icons text-yellow",children:"report_problem"}),"Report this post"]})]})]})]})}},97:function(e,t,a){"use strict";a(1);var n=a(19),c=a(29),r=a(0);t.a=function(e){var t=e.msg,a=e.theme;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"chat_title",children:[Object(r.jsx)(n.a,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",size:"small-avatar"}),Object(r.jsx)("span",{children:"Ananom User"})]}),t.text&&Object(r.jsx)("div",{className:"chat_text",style:{filter:a?"invert(1)":"invert(0)"},children:t.text}),t.media&&t.media.map((function(e,t){return Object(r.jsx)("div",{style:{maxWidth:"380px",maxHeight:"680px"},children:e.url.match(/video/i)?Object(c.b)(e.url,a):Object(c.a)(e.url,a)},t)})),Object(r.jsx)("div",{className:"chat_time",children:new Date(t.createdAt).toLocaleString()})]})}},98:function(e,t,a){"use strict";var n=a(3),c=a.n(n),r=a(8),s=a(5),o=a(1),i=a(6),u=a(16),l=a(4),d=a(32),j=a(10),b=a(36),p=a(0);t.a=function(){var e=Object(i.c)((function(e){return e})),t=e.auth,a=e.message,n=Object(i.b)(),O=Object(u.f)(),m=Object(u.h)().id,f=Object(o.useRef)(),h=Object(o.useState)(0),x=Object(s.a)(h,2),v=x[0],y=x[1],g=Object(o.useState)(""),_=Object(s.a)(g,2),N=_[0],w=_[1],k=Object(o.useState)([]),E=Object(s.a)(k,2),T=E[0],S=E[1],A=function(){var e=Object(r.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),N){e.next=3;break}return e.abrupt("return",S([]));case 3:return e.prev=3,e.next=6,Object(j.b)("search?username=".concat(N),t.token);case 6:r=e.sent,S(r.data.users),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n({type:l.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return w(""),S([]),n(Object(d.c)({user:e,message:a})),O.push("/message/".concat(e._id))},R=function(e){return m===e._id?"active":""};return Object(o.useEffect)((function(){a.firstLoad||n(Object(d.d)({auth:t}))}),[n,t,a.firstLoad]),Object(o.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&y((function(e){return e+1}))}),{threshold:.1}).observe(f.current)}),[y]),Object(o.useEffect)((function(){a.resultUsers>=9*(v-1)&&v>1&&n(Object(d.d)({auth:t,page:v}))}),[a.resultUsers,v,t,n]),Object(o.useEffect)((function(){n(Object(d.d)({auth:t,page:v}))}),[n]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{className:"message_header",onSubmit:A,children:[Object(p.jsx)("input",{type:"text",value:N,onChange:function(e){return w(e.target.value)},placeholder:"search..."}),Object(p.jsx)("button",{style:{display:"none"},type:"submit",id:"search",children:"Search"})]}),Object(p.jsxs)("div",{className:"message_chat_list",children:[0!==T.length?Object(p.jsx)(p.Fragment,{children:T.map((function(e){return Object(p.jsx)("div",{className:"message_user ".concat(R(e)),onClick:function(){return L(e)},children:Object(p.jsx)(b.a,{user:e})},e._id)}))}):Object(p.jsx)(p.Fragment,{children:a.users.map((function(e){return Object(p.jsx)("div",{cclassName:"message_user ".concat(R(e)),onClick:function(){return L(e)},children:Object(p.jsx)(b.a,{user:e,msg:!0,children:Object(p.jsx)("i",{className:"fas fa-circle"})})},e._id)}))}),Object(p.jsx)("button",{style:{opacity:0},ref:f,children:"Load more.."})]})]})}},99:function(e,t,a){"use strict";a(3),a(8);var n=a(5),c=a(1),r=a(6),s=a(16),o=a(41),i=(a(110),a(111)),u=a(0);t.a=function(){var e=Object(r.c)((function(e){return e})),t=e.auth,a=(e.message,e.ananomMessages),l=Object(r.b)(),d=Object(s.f)(),j=Object(c.useRef)(),b=Object(c.useState)(0),p=Object(n.a)(b,2),O=p[0],m=p[1];return Object(c.useEffect)((function(){a.firstLoad||l(Object(o.c)({auth:t}))}),[l,t,a.firstLoad]),Object(c.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&m((function(e){return e+1}))}),{threshold:.1}).observe(j.current)}),[m]),Object(c.useEffect)((function(){a.resultUsers>=9*(O-1)&&O>1&&l(Object(o.c)({auth:t,page:O}))}),[a.resultUsers,O,t,l]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{className:"message_header",children:[Object(u.jsx)("input",{type:"text",placeholder:"search..."}),Object(u.jsx)("button",{style:{display:"none"},type:"submit",id:"search",children:"Search"})]}),Object(u.jsxs)("div",{className:"message_chat_list",children:[Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(u.Fragment,{children:[console.log(a.conversation),a.conversation.map((function(e){return Object(u.jsx)("div",{onClick:function(){return function(e){return d.push("/savemessage/".concat(e.id))}(e)},children:Object(u.jsx)(i.a,{conversation:e,children:Object(u.jsx)("i",{className:"fas fa-circle"})})},e.id)}))]}),Object(u.jsx)("button",{style:{opacity:0},ref:j,children:"Load more.."})]})]})}}},[[226,1,2]]]);
//# sourceMappingURL=main.62364201.chunk.js.map